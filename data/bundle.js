var app=function(){"use strict";function e(){}const n=e=>e;function t(e){return e()}function r(){return Object.create(null)}function a(e){e.forEach(t)}function o(e){return"function"==typeof e}function c(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function i(n,t,r){n.$$.on_destroy.push(function(n,...t){if(null==n)return e;const r=n.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}(t,r))}const f="undefined"!=typeof window;let s=f?()=>window.performance.now():()=>Date.now(),u=f?e=>requestAnimationFrame(e):e;const d=new Set;function l(e){d.forEach((n=>{n.c(e)||(d.delete(n),n.f())})),0!==d.size&&u(l)}let b=!1;function g(e,n,t,r){for(;e<n;){const a=e+(n-e>>1);t(a)<=r?e=a+1:n=a}return e}function p(e,n){b?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const n=e.childNodes,t=new Int32Array(n.length+1),r=new Int32Array(n.length);t[0]=-1;let a=0;for(let e=0;e<n.length;e++){const o=g(1,a+1,(e=>n[t[e]].claim_order),n[e].claim_order)-1;r[e]=t[o]+1;const c=o+1;t[c]=e,a=Math.max(c,a)}const o=[],c=[];let i=n.length-1;for(let e=t[a]+1;0!=e;e=r[e-1]){for(o.push(n[e-1]);i>=e;i--)c.push(n[i]);i--}for(;i>=0;i--)c.push(n[i]);o.reverse(),c.sort(((e,n)=>e.claim_order-n.claim_order));for(let n=0,t=0;n<c.length;n++){for(;t<o.length&&c[n].claim_order>=o[t].claim_order;)t++;const r=t<o.length?o[t]:null;e.insertBefore(c[n],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),n!==e.actual_end_child?e.insertBefore(n,e.actual_end_child):e.actual_end_child=n.nextSibling):n.parentNode!==e&&e.appendChild(n)}function h(e,n,t){b&&!t?p(e,n):n.parentNode===e&&n.nextSibling==t||e.insertBefore(n,t||null)}function m(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function w(){return v(" ")}function _(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function k(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function x(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function N(e,n,t,r){e.style.setProperty(n,t,r?"important":"")}const D=new Set;let F,E=0;function j(e,n,t,r,a,o,c,i=0){const f=16.666/r;let s="{\n";for(let e=0;e<=1;e+=f){const r=n+(t-n)*o(e);s+=100*e+`%{${c(r,1-r)}}\n`}const u=s+`100% {${c(t,1-t)}}\n}`,d=`__svelte_${function(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}(u)}_${i}`,l=e.ownerDocument;D.add(l);const b=l.__svelte_stylesheet||(l.__svelte_stylesheet=l.head.appendChild(y("style")).sheet),g=l.__svelte_rules||(l.__svelte_rules={});g[d]||(g[d]=!0,b.insertRule(`@keyframes ${d} ${u}`,b.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${d} ${r}ms linear ${a}ms 1 both`,E+=1,d}function S(e,n){const t=(e.style.animation||"").split(", "),r=t.filter(n?e=>e.indexOf(n)<0:e=>-1===e.indexOf("__svelte")),a=t.length-r.length;a&&(e.style.animation=r.join(", "),E-=a,E||u((()=>{E||(D.forEach((e=>{const n=e.__svelte_stylesheet;let t=n.cssRules.length;for(;t--;)n.deleteRule(t);e.__svelte_rules={}})),D.clear())})))}function C(e){F=e}function P(e){(function(){if(!F)throw new Error("Function called outside component initialization");return F})().$$.on_mount.push(e)}const A=[],L=[],T=[],O=[],U=Promise.resolve();let R=!1;function I(e){T.push(e)}function M(e){O.push(e)}let q=!1;const $=new Set;function B(){if(!q){q=!0;do{for(let e=0;e<A.length;e+=1){const n=A[e];C(n),G(n.$$)}for(C(null),A.length=0;L.length;)L.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];$.has(n)||($.add(n),n())}T.length=0}while(A.length);for(;O.length;)O.pop()();R=!1,q=!1,$.clear()}}function G(e){if(null!==e.fragment){e.update(),a(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(I)}}let z;function H(e,n,t){e.dispatchEvent(function(e,n,t=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t,!1,n),r}(`${n?"intro":"outro"}${t}`))}const W=new Set;let K;function V(){K={r:0,c:[],p:K}}function Y(){K.r||a(K.c),K=K.p}function Q(e,n){e&&e.i&&(W.delete(e),e.i(n))}function X(e,n,t,r){if(e&&e.o){if(W.has(e))return;W.add(e),K.c.push((()=>{W.delete(e),r&&(t&&e.d(1),r())})),e.o(n)}}const J={duration:0};function Z(t,r,c,i){let f=r(t,c),b=i?0:1,g=null,p=null,h=null;function m(){h&&S(t,h)}function y(e,n){const t=e.b-b;return n*=Math.abs(t),{a:b,b:e.b,d:t,duration:n,start:e.start,end:e.start+n,group:e.group}}function v(r){const{delay:o=0,duration:c=300,easing:i=n,tick:v=e,css:w}=f||J,_={start:s()+o,b:r};r||(_.group=K,K.r+=1),g||p?p=_:(w&&(m(),h=j(t,b,r,c,o,i,w)),r&&v(0,1),g=y(_,c),I((()=>H(t,r,"start"))),function(e){let n;0===d.size&&u(l),new Promise((t=>{d.add(n={c:e,f:t})}))}((e=>{if(p&&e>p.start&&(g=y(p,c),p=null,H(t,g.b,"start"),w&&(m(),h=j(t,b,g.b,g.duration,0,i,f.css))),g)if(e>=g.end)v(b=g.b,1-b),H(t,g.b,"end"),p||(g.b?m():--g.group.r||a(g.group.c)),g=null;else if(e>=g.start){const n=e-g.start;b=g.a+g.d*i(n/g.duration),v(b,1-b)}return!(!g&&!p)})))}return{run(e){o(f)?(z||(z=Promise.resolve(),z.then((()=>{z=null}))),z).then((()=>{f=f(),v(e)})):v(e)},end(){m(),g=p=null}}}function ee(e,n,t){const r=e.$$.props[n];void 0!==r&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function ne(e){e&&e.c()}function te(e,n,r,c){const{fragment:i,on_mount:f,on_destroy:s,after_update:u}=e.$$;i&&i.m(n,r),c||I((()=>{const n=f.map(t).filter(o);s?s.push(...n):a(n),e.$$.on_mount=[]})),u.forEach(I)}function re(e,n){const t=e.$$;null!==t.fragment&&(a(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function ae(e,n){-1===e.$$.dirty[0]&&(A.push(e),R||(R=!0,U.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function oe(n,t,o,c,i,f,s=[-1]){const u=F;C(n);const d=n.$$={fragment:null,ctx:null,props:f,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:t.context||[]),callbacks:r(),dirty:s,skip_bound:!1};let l=!1;if(d.ctx=o?o(n,t.props||{},((e,t,...r)=>{const a=r.length?r[0]:t;return d.ctx&&i(d.ctx[e],d.ctx[e]=a)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](a),l&&ae(n,e)),t})):[],d.update(),l=!0,a(d.before_update),d.fragment=!!c&&c(d.ctx),t.target){if(t.hydrate){b=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);d.fragment&&d.fragment.l(e),e.forEach(m)}else d.fragment&&d.fragment.c();t.intro&&Q(n.$$.fragment),te(n,t.target,t.anchor,t.customElement),b=!1,B()}C(u)}class ce{$destroy(){re(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ie(n){let t,r,a,o,c,i;return{c(){t=y("h1"),t.textContent="Frames",r=w(),a=y("div"),o=y("button"),o.textContent="Refresh",k(t,"class","svelte-1u93ogr"),k(a,"class","center svelte-1u93ogr")},m(e,f){h(e,t,f),h(e,r,f),h(e,a,f),p(a,o),c||(i=_(o,"click",n[0]),c=!0)},p:e,i:e,o:e,d(e){e&&m(t),e&&m(r),e&&m(a),c=!1,i()}}}function fe(e){return[()=>{window.location.href="/"}]}class se extends ce{constructor(e){super(),oe(this,e,fe,ie,c,{})}}function ue(n){let t;return{c(){t=y("div"),t.innerHTML='<div class="big svelte-ihoour"><div class="small svelte-ihoour"></div></div>',k(t,"class","center svelte-ihoour")},m(e,n){h(e,t,n)},p:e,i:e,o:e,d(e){e&&m(t)}}}class de extends ce{constructor(e){super(),oe(this,e,null,ue,c,{})}}function le(e,{delay:t=0,duration:r=400,easing:a=n}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:e=>"opacity: "+e*o}}function be(e){let n,t,r,a,o,c,i,f,s,u,d,l,b,g,D,F;return c=new de({}),{c(){n=y("div"),t=w(),r=y("div"),a=y("h2"),a.textContent="New Frame Detected!",o=w(),ne(c.$$.fragment),i=w(),f=y("h2"),s=v("#"),u=v(e[0]),d=w(),l=y("button"),l.textContent="Close",k(n,"class","blackout svelte-1ebz6b2"),k(a,"class","svelte-1ebz6b2"),N(f,"color","#BABABA"),k(f,"class","svelte-1ebz6b2"),k(l,"class","svelte-1ebz6b2"),k(r,"class","bg svelte-1ebz6b2")},m(b,m){h(b,n,m),h(b,t,m),h(b,r,m),p(r,a),p(r,o),te(c,r,null),p(r,i),p(r,f),p(f,s),p(f,u),p(r,d),p(r,l),g=!0,D||(F=_(l,"click",e[1]),D=!0)},p(e,[n]){(!g||1&n)&&x(u,e[0])},i(e){g||(Q(c.$$.fragment,e),I((()=>{b||(b=Z(r,le,{duration:200},!0)),b.run(1)})),g=!0)},o(e){X(c.$$.fragment,e),b||(b=Z(r,le,{duration:200},!1)),b.run(0),g=!1},d(e){e&&m(n),e&&m(t),e&&m(r),re(c),e&&b&&b.end(),D=!1,F()}}}function ge(e,n,t){let{frameID:r}=n,{showFrameDetected:a}=n;return e.$$set=e=>{"frameID"in e&&t(0,r=e.frameID),"showFrameDetected"in e&&t(2,a=e.showFrameDetected)},[r,()=>{t(2,a=!1)},a]}class pe extends ce{constructor(e){super(),oe(this,e,ge,be,c,{frameID:0,showFrameDetected:2})}}const he=[];const me=function(n,t=e){let r;const a=[];function o(e){if(c(n,e)&&(n=e,r)){const e=!he.length;for(let e=0;e<a.length;e+=1){const t=a[e];t[1](),he.push(t,n)}if(e){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:o,update:function(e){o(e(n))},subscribe:function(c,i=e){const f=[c,i];return a.push(f),1===a.length&&(r=t(o)||e),c(n),()=>{const e=a.indexOf(f);-1!==e&&a.splice(e,1),0===a.length&&(r(),r=null)}}}}("001");function ye(n){let t,r,a,o,c,i,f,s;return{c(){t=y("div"),r=y("div"),r.innerHTML='<div class="small svelte-8axr32"></div>',a=w(),o=y("h3"),c=v("#"),i=v(n[0]),k(r,"class","big svelte-8axr32"),k(o,"class","svelte-8axr32"),k(t,"class","frameObject svelte-8axr32")},m(e,u){h(e,t,u),p(t,r),p(t,a),p(t,o),p(o,c),p(o,i),f||(s=_(t,"click",n[1]),f=!0)},p(e,[n]){1&n&&x(i,e[0])},i:e,o:e,d(e){e&&m(t),f=!1,s()}}}function ve(e,n,t){let{frameID:r}=n,{showRecordPage:a}=n;return e.$$set=e=>{"frameID"in e&&t(0,r=e.frameID),"showRecordPage"in e&&t(2,a=e.showRecordPage)},[r,()=>{me.set(r),t(2,a=!0),console.log(r)},a]}class we extends ce{constructor(e){super(),oe(this,e,ve,ye,c,{frameID:0,showRecordPage:2})}}function _e(e,n,t){const r=e.slice();return r[3]=n[t],r}function ke(e){let n,t,r;function a(n){e[2](n)}let o={frameID:e[3]};return void 0!==e[0]&&(o.showRecordPage=e[0]),n=new we({props:o}),L.push((()=>ee(n,"showRecordPage",a))),{c(){ne(n.$$.fragment)},m(e,t){te(n,e,t),r=!0},p(e,r){const a={};2&r&&(a.frameID=e[3]),!t&&1&r&&(t=!0,a.showRecordPage=e[0],M((()=>t=!1))),n.$set(a)},i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){re(n,e)}}}function xe(e){let n,t,r=e[1],a=[];for(let n=0;n<r.length;n+=1)a[n]=ke(_e(e,r,n));const o=e=>X(a[e],1,1,(()=>{a[e]=null}));return{c(){n=y("div");for(let e=0;e<a.length;e+=1)a[e].c();k(n,"class","frameCollection svelte-p5k6wu")},m(e,r){h(e,n,r);for(let e=0;e<a.length;e+=1)a[e].m(n,null);t=!0},p(e,[t]){if(3&t){let c;for(r=e[1],c=0;c<r.length;c+=1){const o=_e(e,r,c);a[c]?(a[c].p(o,t),Q(a[c],1)):(a[c]=ke(o),a[c].c(),Q(a[c],1),a[c].m(n,null))}for(V(),c=r.length;c<a.length;c+=1)o(c);Y()}},i(e){if(!t){for(let e=0;e<r.length;e+=1)Q(a[e]);t=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)X(a[e]);t=!1},d(e){e&&m(n),function(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}(a,e)}}}function Ne(e,n,t){let{savedFrameIDs:r}=n,{showRecordPage:a}=n;return e.$$set=e=>{"savedFrameIDs"in e&&t(1,r=e.savedFrameIDs),"showRecordPage"in e&&t(0,a=e.showRecordPage)},[a,r,function(e){a=e,t(0,a)}]}class De extends ce{constructor(e){super(),oe(this,e,Ne,xe,c,{savedFrameIDs:1,showRecordPage:0})}}function Fe(n){let t,r,a,o,c;return{c(){t=y("div"),t.innerHTML='<h3 class="svelte-17zyqyg">Front</h3>',r=w(),a=y("div"),a.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-17zyqyg">Back</h3>',k(t,"class","btnObj svelte-17zyqyg"),N(t,"border-radius","12px 0px 0px 12px"),k(a,"class","btnObj svelte-17zyqyg"),N(a,"border-radius","0px 12px 12px 0px"),N(a,"background","#3C3C3C")},m(e,i){h(e,t,i),h(e,r,i),h(e,a,i),o||(c=_(t,"click",n[3]),o=!0)},p:e,d(e){e&&m(t),e&&m(r),e&&m(a),o=!1,c()}}}function Ee(n){let t,r,a,o,c;return{c(){t=y("div"),t.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-17zyqyg">Front</h3>',r=w(),a=y("div"),a.innerHTML='<h3 class="svelte-17zyqyg">Back</h3>',k(t,"class","btnObj svelte-17zyqyg"),N(t,"border-radius","12px 0px 0px 12px"),N(t,"background","#3C3C3C"),k(a,"class","btnObj svelte-17zyqyg"),N(a,"border-radius","0px 12px 12px 0px")},m(e,i){h(e,t,i),h(e,r,i),h(e,a,i),o||(c=_(a,"click",n[2]),o=!0)},p:e,d(e){e&&m(t),e&&m(r),e&&m(a),o=!1,c()}}}function je(n){let t;function r(e,n){return"FRONT"==e[0]?Ee:Fe}let a=r(n),o=a(n);return{c(){t=y("div"),o.c(),k(t,"class","btnCollection svelte-17zyqyg")},m(e,n){h(e,t,n),o.m(t,null)},p(e,[n]){a===(a=r(e))&&o?o.p(e,n):(o.d(1),o=a(e),o&&(o.c(),o.m(t,null)))},i:e,o:e,d(e){e&&m(t),o.d()}}}function Se(e,n,t){let{currentCameraType:r}=n;const a=e=>{t(0,r=e)};return e.$$set=e=>{"currentCameraType"in e&&t(0,r=e.currentCameraType)},[r,a,()=>a("BACK"),()=>a("FRONT")]}class Ce extends ce{constructor(e){super(),oe(this,e,Se,je,c,{currentCameraType:0})}}function Pe(n){let t,r,o,c,i,f,s;return{c(){t=y("div"),t.innerHTML='<h3 class="svelte-1osvx2o">5 s</h3>',r=w(),o=y("div"),o.innerHTML='<h3 class="svelte-1osvx2o">10 s</h3>',c=w(),i=y("div"),i.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">15 s</h3>',k(t,"class","btnObj svelte-1osvx2o"),N(t,"border-radius","12px 0px 0px 12px"),k(o,"class","btnObj svelte-1osvx2o"),k(i,"class","btnObj svelte-1osvx2o"),N(i,"border-radius","0px 12px 12px 0px"),N(i,"background","#3C3C3C")},m(e,a){h(e,t,a),h(e,r,a),h(e,o,a),h(e,c,a),h(e,i,a),f||(s=[_(t,"click",n[6]),_(o,"click",n[7])],f=!0)},p:e,d(e){e&&m(t),e&&m(r),e&&m(o),e&&m(c),e&&m(i),f=!1,a(s)}}}function Ae(n){let t,r,o,c,i,f,s;return{c(){t=y("div"),t.innerHTML='<h3 class="svelte-1osvx2o">5 s</h3>',r=w(),o=y("div"),o.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">10 s</h3>',c=w(),i=y("div"),i.innerHTML='<h3 class="svelte-1osvx2o">15 s</h3>',k(t,"class","btnObj svelte-1osvx2o"),N(t,"border-radius","12px 0px 0px 12px"),k(o,"class","btnObj svelte-1osvx2o"),N(o,"background","#3C3C3C"),k(i,"class","btnObj svelte-1osvx2o"),N(i,"border-radius","0px 12px 12px 0px")},m(e,a){h(e,t,a),h(e,r,a),h(e,o,a),h(e,c,a),h(e,i,a),f||(s=[_(t,"click",n[4]),_(i,"click",n[5])],f=!0)},p:e,d(e){e&&m(t),e&&m(r),e&&m(o),e&&m(c),e&&m(i),f=!1,a(s)}}}function Le(n){let t,r,o,c,i,f,s;return{c(){t=y("div"),t.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">5 s</h3>',r=w(),o=y("div"),o.innerHTML='<h3 class="svelte-1osvx2o">10 s</h3>',c=w(),i=y("div"),i.innerHTML='<h3 class="svelte-1osvx2o">15 s</h3>',k(t,"class","btnObj sBtnObj svelte-1osvx2o"),N(t,"border-radius","12px 0px 0px 12px"),N(t,"background","#3C3C3C"),k(o,"class","btnObj sBtnObj svelte-1osvx2o"),k(i,"class","btnObj sBtnObj svelte-1osvx2o"),N(i,"border-radius","0px 12px 12px 0px")},m(e,a){h(e,t,a),h(e,r,a),h(e,o,a),h(e,c,a),h(e,i,a),f||(s=[_(o,"click",n[2]),_(i,"click",n[3])],f=!0)},p:e,d(e){e&&m(t),e&&m(r),e&&m(o),e&&m(c),e&&m(i),f=!1,a(s)}}}function Te(n){let t;function r(e,n){return 5==e[0]?Le:10==e[0]?Ae:Pe}let a=r(n),o=a(n);return{c(){t=y("div"),o.c(),k(t,"class","btnCollection svelte-1osvx2o")},m(e,n){h(e,t,n),o.m(t,null)},p(e,[n]){a===(a=r(e))&&o?o.p(e,n):(o.d(1),o=a(e),o&&(o.c(),o.m(t,null)))},i:e,o:e,d(e){e&&m(t),o.d()}}}function Oe(e,n,t){let{currentTime:r}=n;const a=e=>{t(0,r=e)};return e.$$set=e=>{"currentTime"in e&&t(0,r=e.currentTime)},[r,a,()=>a(10),()=>a(15),()=>a(5),()=>a(15),()=>a(5),()=>a(10)]}class Ue extends ce{constructor(e){super(),oe(this,e,Oe,Te,c,{currentTime:0})}}function Re(n){let t,r,a,o,c,i,f,s,u,d,l,b,g,_;return{c(){t=y("script"),t.textContent='!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.FFmpeg=n():e.FFmpeg=n()}(self,(function(){return(()=>{var __webpack_modules__={725:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval(\'module.exports = __webpack_require__.p + "046d0074eee1d99a674a.js";\\n\\n//# sourceURL=webpack://FFmpeg/./node_modules/@ffmpeg/core/dist/ffmpeg-core.js?\')},839:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("// ESM COMPAT FLAG\\n__webpack_require__.r(__webpack_exports__);\\n\\n// EXPORTS\\n__webpack_require__.d(__webpack_exports__, {\\n  \\"defaultOptions\\": () => /* reexport */ defaultOptions,\\n  \\"fetchFile\\": () => /* reexport */ fetchFile,\\n  \\"getCreateFFmpegCore\\": () => /* reexport */ getCreateFFmpegCore\\n});\\n\\n// EXTERNAL MODULE: ./package.json\\nvar package_0 = __webpack_require__(306);\\n// CONCATENATED MODULE: ./src/browser/defaultOptions.js\\n\\n/*\\n * Default options for browser environment\\n */\\n\\nvar corePath = typeof process !== \'undefined\' && \\"production\\" === \'development\' ? new URL(/* asset import */ __webpack_require__(725), __webpack_require__.b).href : \\"https://unpkg.com/@ffmpeg/core@\\".concat(package_0.devDependencies[\\"@ffmpeg/core\\"].substring(1), \\"/dist/ffmpeg-core.js\\");\\n/* harmony default export */ const defaultOptions = ({\\n  corePath: corePath\\n});\\n// EXTERNAL MODULE: ./src/utils/log.js\\nvar log = __webpack_require__(185);\\n// EXTERNAL MODULE: ./src/utils/errors.js\\nvar errors = __webpack_require__(835);\\n// CONCATENATED MODULE: ./src/browser/getCreateFFmpegCore.js\\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\\n\\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"next\\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"throw\\", err); } _next(undefined); }); }; }\\n\\n/* eslint-disable no-undef */\\n\\n\\n/*\\n * Fetch data from remote URL and convert to blob URL\\n * to avoid CORS issue\\n */\\n\\nvar toBlobURL = /*#__PURE__*/function () {\\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, mimeType) {\\n    var buf, blob, blobURL;\\n    return regeneratorRuntime.wrap(function _callee$(_context) {\\n      while (1) {\\n        switch (_context.prev = _context.next) {\\n          case 0:\\n            (0,log.log)(\'info\', \\"fetch \\".concat(url));\\n            _context.next = 3;\\n            return fetch(url);\\n\\n          case 3:\\n            _context.next = 5;\\n            return _context.sent.arrayBuffer();\\n\\n          case 5:\\n            buf = _context.sent;\\n            (0,log.log)(\'info\', \\"\\".concat(url, \\" file size = \\").concat(buf.byteLength, \\" bytes\\"));\\n            blob = new Blob([buf], {\\n              type: mimeType\\n            });\\n            blobURL = URL.createObjectURL(blob);\\n            (0,log.log)(\'info\', \\"\\".concat(url, \\" blob URL = \\").concat(blobURL));\\n            return _context.abrupt(\\"return\\", blobURL);\\n\\n          case 11:\\n          case \\"end\\":\\n            return _context.stop();\\n        }\\n      }\\n    }, _callee);\\n  }));\\n\\n  return function toBlobURL(_x, _x2) {\\n    return _ref.apply(this, arguments);\\n  };\\n}(); // eslint-disable-next-line\\n\\n\\nvar getCreateFFmpegCore = /*#__PURE__*/function () {\\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref2) {\\n    var _corePath, _workerPath, _wasmPath, _coreRemotePath, _corePath2, _wasmPath2, _workerPath2, coreRemotePath, corePath, wasmPath, workerPath;\\n\\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\\n      while (1) {\\n        switch (_context2.prev = _context2.next) {\\n          case 0:\\n            _corePath = _ref2.corePath, _workerPath = _ref2.workerPath, _wasmPath = _ref2.wasmPath;\\n\\n            if (!(typeof WorkerGlobalScope !== \'undefined\' && self instanceof WorkerGlobalScope)) {\\n              _context2.next = 18;\\n              break;\\n            }\\n\\n            if (!(typeof _corePath !== \'string\')) {\\n              _context2.next = 4;\\n              break;\\n            }\\n\\n            throw Error(\'corePath should be a string!\');\\n\\n          case 4:\\n            _coreRemotePath = new URL(_corePath, \\"file:///C:/Users/jason/Desktop/ffmpeg.wasm-master/src/browser/getCreateFFmpegCore.js\\").href;\\n            _context2.next = 7;\\n            return toBlobURL(_coreRemotePath, \'application/javascript\');\\n\\n          case 7:\\n            _corePath2 = _context2.sent;\\n            _context2.next = 10;\\n            return toBlobURL(_wasmPath !== undefined ? _wasmPath : _coreRemotePath.replace(\'ffmpeg-core.js\', \'ffmpeg-core.wasm\'), \'application/wasm\');\\n\\n          case 10:\\n            _wasmPath2 = _context2.sent;\\n            _context2.next = 13;\\n            return toBlobURL(_workerPath !== undefined ? _workerPath : _coreRemotePath.replace(\'ffmpeg-core.js\', \'ffmpeg-core.worker.js\'), \'application/javascript\');\\n\\n          case 13:\\n            _workerPath2 = _context2.sent;\\n\\n            if (!(typeof createFFmpegCore === \'undefined\')) {\\n              _context2.next = 16;\\n              break;\\n            }\\n\\n            return _context2.abrupt(\\"return\\", new Promise(function (resolve) {\\n              globalThis.importScripts(_corePath2);\\n\\n              if (typeof createFFmpegCore === \'undefined\') {\\n                throw Error((0,errors.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(_coreRemotePath));\\n              }\\n\\n              (0,log.log)(\'info\', \'ffmpeg-core.js script loaded\');\\n              resolve({\\n                createFFmpegCore: createFFmpegCore,\\n                corePath: _corePath2,\\n                wasmPath: _wasmPath2,\\n                workerPath: _workerPath2\\n              });\\n            }));\\n\\n          case 16:\\n            (0,log.log)(\'info\', \'ffmpeg-core.js script is loaded already\');\\n            return _context2.abrupt(\\"return\\", Promise.resolve({\\n              createFFmpegCore: createFFmpegCore,\\n              corePath: _corePath2,\\n              wasmPath: _wasmPath2,\\n              workerPath: _workerPath2\\n            }));\\n\\n          case 18:\\n            if (!(typeof _corePath !== \'string\')) {\\n              _context2.next = 20;\\n              break;\\n            }\\n\\n            throw Error(\'corePath should be a string!\');\\n\\n          case 20:\\n            coreRemotePath = new URL(_corePath, \\"file:///C:/Users/jason/Desktop/ffmpeg.wasm-master/src/browser/getCreateFFmpegCore.js\\").href;\\n            _context2.next = 23;\\n            return toBlobURL(coreRemotePath, \'application/javascript\');\\n\\n          case 23:\\n            corePath = _context2.sent;\\n            _context2.next = 26;\\n            return toBlobURL(_wasmPath !== undefined ? _wasmPath : coreRemotePath.replace(\'ffmpeg-core.js\', \'ffmpeg-core.wasm\'), \'application/wasm\');\\n\\n          case 26:\\n            wasmPath = _context2.sent;\\n            _context2.next = 29;\\n            return toBlobURL(_workerPath !== undefined ? _workerPath : coreRemotePath.replace(\'ffmpeg-core.js\', \'ffmpeg-core.worker.js\'), \'application/javascript\');\\n\\n          case 29:\\n            workerPath = _context2.sent;\\n\\n            if (!(typeof createFFmpegCore === \'undefined\')) {\\n              _context2.next = 32;\\n              break;\\n            }\\n\\n            return _context2.abrupt(\\"return\\", new Promise(function (resolve) {\\n              var script = document.createElement(\'script\');\\n\\n              var eventHandler = function eventHandler() {\\n                script.removeEventListener(\'load\', eventHandler);\\n\\n                if (typeof createFFmpegCore === \'undefined\') {\\n                  throw Error((0,errors.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(coreRemotePath));\\n                }\\n\\n                (0,log.log)(\'info\', \'ffmpeg-core.js script loaded\');\\n                resolve({\\n                  createFFmpegCore: createFFmpegCore,\\n                  corePath: corePath,\\n                  wasmPath: wasmPath,\\n                  workerPath: workerPath\\n                });\\n              };\\n\\n              script.src = corePath;\\n              script.type = \'text/javascript\';\\n              script.addEventListener(\'load\', eventHandler);\\n              document.getElementsByTagName(\'head\')[0].appendChild(script);\\n            }));\\n\\n          case 32:\\n            (0,log.log)(\'info\', \'ffmpeg-core.js script is loaded already\');\\n            return _context2.abrupt(\\"return\\", Promise.resolve({\\n              createFFmpegCore: createFFmpegCore,\\n              corePath: corePath,\\n              wasmPath: wasmPath,\\n              workerPath: workerPath\\n            }));\\n\\n          case 34:\\n          case \\"end\\":\\n            return _context2.stop();\\n        }\\n      }\\n    }, _callee2);\\n  }));\\n\\n  return function getCreateFFmpegCore(_x3) {\\n    return _ref3.apply(this, arguments);\\n  };\\n}();\\n// CONCATENATED MODULE: ./src/browser/fetchFile.js\\nfunction fetchFile_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\\n\\nfunction fetchFile_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { fetchFile_asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"next\\", value); } function _throw(err) { fetchFile_asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"throw\\", err); } _next(undefined); }); }; }\\n\\nvar readFromBlobOrFile = function readFromBlobOrFile(blob) {\\n  return new Promise(function (resolve, reject) {\\n    var fileReader = new FileReader();\\n\\n    fileReader.onload = function () {\\n      resolve(fileReader.result);\\n    };\\n\\n    fileReader.onerror = function (_ref) {\\n      var code = _ref.target.error.code;\\n      reject(Error(\\"File could not be read! Code=\\".concat(code)));\\n    };\\n\\n    fileReader.readAsArrayBuffer(blob);\\n  });\\n}; // eslint-disable-next-line\\n\\n\\nvar fetchFile = /*#__PURE__*/function () {\\n  var _ref2 = fetchFile_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_data) {\\n    var data, res;\\n    return regeneratorRuntime.wrap(function _callee$(_context) {\\n      while (1) {\\n        switch (_context.prev = _context.next) {\\n          case 0:\\n            data = _data;\\n\\n            if (!(typeof _data === \'undefined\')) {\\n              _context.next = 3;\\n              break;\\n            }\\n\\n            return _context.abrupt(\\"return\\", new Uint8Array());\\n\\n          case 3:\\n            if (!(typeof _data === \'string\')) {\\n              _context.next = 16;\\n              break;\\n            }\\n\\n            if (!/data:_data\\\\/([a-zA-Z]*);base64,([^\\"]*)/.test(_data)) {\\n              _context.next = 8;\\n              break;\\n            }\\n\\n            data = atob(_data.split(\',\')[1]).split(\'\').map(function (c) {\\n              return c.charCodeAt(0);\\n            });\\n            /* From remote server/URL */\\n\\n            _context.next = 14;\\n            break;\\n\\n          case 8:\\n            _context.next = 10;\\n            return fetch(new URL(_data, \\"file:///C:/Users/jason/Desktop/ffmpeg.wasm-master/src/browser/fetchFile.js\\").href);\\n\\n          case 10:\\n            res = _context.sent;\\n            _context.next = 13;\\n            return res.arrayBuffer();\\n\\n          case 13:\\n            data = _context.sent;\\n\\n          case 14:\\n            _context.next = 20;\\n            break;\\n\\n          case 16:\\n            if (!(_data instanceof File || _data instanceof Blob)) {\\n              _context.next = 20;\\n              break;\\n            }\\n\\n            _context.next = 19;\\n            return readFromBlobOrFile(_data);\\n\\n          case 19:\\n            data = _context.sent;\\n\\n          case 20:\\n            return _context.abrupt(\\"return\\", new Uint8Array(data));\\n\\n          case 21:\\n          case \\"end\\":\\n            return _context.stop();\\n        }\\n      }\\n    }, _callee);\\n  }));\\n\\n  return function fetchFile(_x) {\\n    return _ref2.apply(this, arguments);\\n  };\\n}();\\n// CONCATENATED MODULE: ./src/browser/index.js\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://FFmpeg/./src/browser/index.js_+_3_modules?")},500:module=>{eval("module.exports = {\\n  defaultArgs: [\\n  /* args[0] is always the binary path */\\n  \'./ffmpeg\',\\n  /* Disable interaction mode */\\n  \'-nostdin\',\\n  /* Force to override output file */\\n  \'-y\'],\\n  baseOptions: {\\n    /* Flag to turn on/off log messages in console */\\n    log: false,\\n\\n    /*\\n     * Custom logger to get ffmpeg.wasm output messages.\\n     * a sample logger looks like this:\\n     *\\n     * ```\\n     * logger = ({ type, message }) => {\\n     *   console.log(type, message);\\n     * }\\n     * ```\\n     *\\n     * type can be one of following:\\n     *\\n     * info: internal workflow debug messages\\n     * fferr: ffmpeg native stderr output\\n     * ffout: ffmpeg native stdout output\\n     */\\n    logger: function logger() {},\\n\\n    /*\\n     * Progress handler to get current progress of ffmpeg command.\\n     * a sample progress handler looks like this:\\n     *\\n     * ```\\n     * progress = ({ ratio }) => {\\n     *   console.log(ratio);\\n     * }\\n     * ```\\n     *\\n     * ratio is a float number between 0 to 1.\\n     */\\n    progress: function progress() {},\\n\\n    /*\\n     * Path to find/download ffmpeg.wasm-core,\\n     * this value should be overwriten by `defaultOptions` in\\n     * each environment.\\n     */\\n    corePath: \'\'\\n  }\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/config.js?")},906:(module,__unused_webpack_exports,__webpack_require__)=>{eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\\n\\nfunction _nonIterableSpread() { throw new TypeError(\\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\"); }\\n\\nfunction _iterableToArray(iter) { if (typeof Symbol !== \\"undefined\\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\\n\\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\\n\\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\\n\\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"next\\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\"throw\\", err); } _next(undefined); }); }; }\\n\\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\\n\\nfunction _nonIterableRest() { throw new TypeError(\\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\"); }\\n\\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \\"string\\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \\"Object\\" && o.constructor) n = o.constructor.name; if (n === \\"Map\\" || n === \\"Set\\") return Array.from(o); if (n === \\"Arguments\\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\\n\\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\\n\\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \\"undefined\\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\"return\\"] != null) _i[\\"return\\"](); } finally { if (_d) throw _e; } } return _arr; }\\n\\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\\n\\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\\n\\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\\n\\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\\n\\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\\n\\nvar _require = __webpack_require__(500),\\n    defaultArgs = _require.defaultArgs,\\n    baseOptions = _require.baseOptions;\\n\\nvar parseArgs = __webpack_require__(319);\\n\\nvar _require2 = __webpack_require__(839),\\n    defaultOptions = _require2.defaultOptions,\\n    getCreateFFmpegCore = _require2.getCreateFFmpegCore;\\n\\nvar _require3 = __webpack_require__(306),\\n    version = _require3.version;\\n\\nvar NO_LOAD = Error(\'ffmpeg.wasm is not ready, make sure you have completed load().\');\\n\\nmodule.exports = function () {\\n  var _options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\\n\\n  var _baseOptions$defaultO = _objectSpread(_objectSpread(_objectSpread({}, baseOptions), defaultOptions), _options),\\n      optLog = _baseOptions$defaultO.log,\\n      logger = _baseOptions$defaultO.logger,\\n      optProgress = _baseOptions$defaultO.progress,\\n      options = _objectWithoutProperties(_baseOptions$defaultO, [\\"log\\", \\"logger\\", \\"progress\\"]);\\n\\n  var Core = null;\\n  var ffmpeg = null;\\n  var runResolve = null;\\n  var runReject = null;\\n  var running = false;\\n\\n  var customLogger = function customLogger() {};\\n\\n  var logging = optLog;\\n  var progress = optProgress;\\n  var duration = 0;\\n  var frames = 0;\\n  var readFrames = false;\\n  var ratio = 0;\\n\\n  var detectCompletion = function detectCompletion(message) {\\n    if (message === \'FFMPEG_END\' && runResolve !== null) {\\n      runResolve();\\n      runResolve = null;\\n      runReject = null;\\n      running = false;\\n    }\\n  };\\n\\n  var log = function log(type, message) {\\n    customLogger({\\n      type: type,\\n      message: message\\n    });\\n\\n    if (logging) {\\n      console.log(\\"[\\".concat(type, \\"] \\").concat(message));\\n    }\\n  };\\n\\n  var ts2sec = function ts2sec(ts) {\\n    var _ts$split = ts.split(\':\'),\\n        _ts$split2 = _slicedToArray(_ts$split, 3),\\n        h = _ts$split2[0],\\n        m = _ts$split2[1],\\n        s = _ts$split2[2];\\n\\n    return parseFloat(h) * 60 * 60 + parseFloat(m) * 60 + parseFloat(s);\\n  };\\n\\n  var parseProgress = function parseProgress(message, prog) {\\n    if (typeof message === \'string\') {\\n      if (message.startsWith(\'  Duration\')) {\\n        var ts = message.split(\', \')[0].split(\': \')[1];\\n        var d = ts2sec(ts);\\n        prog({\\n          duration: d,\\n          ratio: ratio\\n        });\\n\\n        if (duration === 0 || duration > d) {\\n          duration = d;\\n          readFrames = true;\\n        }\\n      } else if (readFrames && message.startsWith(\'    Stream\')) {\\n        var match = message.match(/([\\\\d.]+) fps/);\\n\\n        if (match) {\\n          var fps = parseFloat(match[1]);\\n          frames = duration * fps;\\n        } else {\\n          frames = 0;\\n        }\\n\\n        readFrames = false;\\n      } else if (message.startsWith(\'frame\') || message.startsWith(\'size\')) {\\n        var _ts = message.split(\'time=\')[1].split(\' \')[0];\\n        var t = ts2sec(_ts);\\n\\n        var _match = message.match(/frame=\\\\s*(\\\\d+)/);\\n\\n        if (frames && _match) {\\n          var f = parseFloat(_match[1]);\\n          ratio = Math.min(f / frames, 1);\\n        } else {\\n          ratio = t / duration;\\n        }\\n\\n        prog({\\n          ratio: ratio,\\n          time: t\\n        });\\n      } else if (message.startsWith(\'video:\')) {\\n        prog({\\n          ratio: 1\\n        });\\n        duration = 0;\\n      }\\n    }\\n  };\\n\\n  var parseMessage = function parseMessage(_ref) {\\n    var type = _ref.type,\\n        message = _ref.message;\\n    log(type, message);\\n    parseProgress(message, progress);\\n    detectCompletion(message);\\n  };\\n  /*\\n   * Load ffmpeg.wasm-core script.\\n   * In browser environment, the ffmpeg.wasm-core script is fetch from\\n   * CDN and can be assign to a local path by assigning `corePath`.\\n   * In node environment, we use dynamic require and the default `corePath`\\n   * is `$ffmpeg/core`.\\n   *\\n   * Typically the load() func might take few seconds to minutes to complete,\\n   * better to do it as early as possible.\\n   *\\n   */\\n\\n\\n  var load = /*#__PURE__*/function () {\\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\\n      var _yield$getCreateFFmpe, createFFmpegCore, corePath, workerPath, wasmPath;\\n\\n      return regeneratorRuntime.wrap(function _callee$(_context) {\\n        while (1) {\\n          switch (_context.prev = _context.next) {\\n            case 0:\\n              log(\'info\', \'load ffmpeg-core\');\\n\\n              if (!(Core === null)) {\\n                _context.next = 17;\\n                break;\\n              }\\n\\n              log(\'info\', \'loading ffmpeg-core\');\\n              /*\\n               * In node environment, all paths are undefined as there\\n               * is no need to set them.\\n               */\\n\\n              _context.next = 5;\\n              return getCreateFFmpegCore(options);\\n\\n            case 5:\\n              _yield$getCreateFFmpe = _context.sent;\\n              createFFmpegCore = _yield$getCreateFFmpe.createFFmpegCore;\\n              corePath = _yield$getCreateFFmpe.corePath;\\n              workerPath = _yield$getCreateFFmpe.workerPath;\\n              wasmPath = _yield$getCreateFFmpe.wasmPath;\\n              _context.next = 12;\\n              return createFFmpegCore({\\n                /*\\n                 * Assign mainScriptUrlOrBlob fixes chrome extension web worker issue\\n                 * as there is no document.currentScript in the context of content_scripts\\n                 */\\n                mainScriptUrlOrBlob: corePath,\\n                printErr: function printErr(message) {\\n                  return parseMessage({\\n                    type: \'fferr\',\\n                    message: message\\n                  });\\n                },\\n                print: function print(message) {\\n                  return parseMessage({\\n                    type: \'ffout\',\\n                    message: message\\n                  });\\n                },\\n\\n                /*\\n                 * locateFile overrides paths of files that is loaded by main script (ffmpeg-core.js).\\n                 * It is critical for browser environment and we override both wasm and worker paths\\n                 * as we are using blob URL instead of original URL to avoid cross origin issues.\\n                 */\\n                locateFile: function locateFile(path, prefix) {\\n                  if (typeof window !== \'undefined\' || typeof WorkerGlobalScope !== \'undefined\') {\\n                    if (typeof wasmPath !== \'undefined\' && path.endsWith(\'ffmpeg-core.wasm\')) {\\n                      return wasmPath;\\n                    }\\n\\n                    if (typeof workerPath !== \'undefined\' && path.endsWith(\'ffmpeg-core.worker.js\')) {\\n                      return workerPath;\\n                    }\\n                  }\\n\\n                  return prefix + path;\\n                }\\n              });\\n\\n            case 12:\\n              Core = _context.sent;\\n              ffmpeg = Core.cwrap(options.mainName || \'proxy_main\', \'number\', [\'number\', \'number\']);\\n              log(\'info\', \'ffmpeg-core loaded\');\\n              _context.next = 18;\\n              break;\\n\\n            case 17:\\n              throw Error(\'ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.\');\\n\\n            case 18:\\n            case \\"end\\":\\n              return _context.stop();\\n          }\\n        }\\n      }, _callee);\\n    }));\\n\\n    return function load() {\\n      return _ref2.apply(this, arguments);\\n    };\\n  }();\\n  /*\\n   * Determine whether the Core is loaded.\\n   */\\n\\n\\n  var isLoaded = function isLoaded() {\\n    return Core !== null;\\n  };\\n  /*\\n   * Run ffmpeg command.\\n   * This is the major function in ffmpeg.wasm, you can just imagine it\\n   * as ffmpeg native cli and what you need to pass is the same.\\n   *\\n   * For example, you can convert native command below:\\n   *\\n   * ```\\n   * $ ffmpeg -i video.avi -c:v libx264 video.mp4\\n   * ```\\n   *\\n   * To\\n   *\\n   * ```\\n   * await ffmpeg.run(\'-i\', \'video.avi\', \'-c:v\', \'libx264\', \'video.mp4\');\\n   * ```\\n   *\\n   */\\n\\n\\n  var run = function run() {\\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\\n      _args[_key] = arguments[_key];\\n    }\\n\\n    log(\'info\', \\"run ffmpeg command: \\".concat(_args.join(\' \')));\\n\\n    if (Core === null) {\\n      throw NO_LOAD;\\n    } else if (running) {\\n      throw Error(\'ffmpeg.wasm can only run one command at a time\');\\n    } else {\\n      running = true;\\n      return new Promise(function (resolve, reject) {\\n        var args = [].concat(_toConsumableArray(defaultArgs), _args).filter(function (s) {\\n          return s.length !== 0;\\n        });\\n        runResolve = resolve;\\n        runReject = reject;\\n        ffmpeg.apply(void 0, _toConsumableArray(parseArgs(Core, args)));\\n      });\\n    }\\n  };\\n  /*\\n   * Run FS operations.\\n   * For input/output file of ffmpeg.wasm, it is required to save them to MEMFS\\n   * first so that ffmpeg.wasm is able to consume them. Here we rely on the FS\\n   * methods provided by Emscripten.\\n   *\\n   * Common methods to use are:\\n   * ffmpeg.FS(\'writeFile\', \'video.avi\', new Uint8Array(...)): writeFile writes\\n   * data to MEMFS. You need to use Uint8Array for binary data.\\n   * ffmpeg.FS(\'readFile\', \'video.mp4\'): readFile from MEMFS.\\n   * ffmpeg.FS(\'unlink\', \'video.map\'): delete file from MEMFS.\\n   *\\n   * For more info, check https://emscripten.org/docs/api_reference/Filesystem-API.html\\n   *\\n   */\\n\\n\\n  var FS = function FS(method) {\\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\\n      args[_key2 - 1] = arguments[_key2];\\n    }\\n\\n    log(\'info\', \\"run FS.\\".concat(method, \\" \\").concat(args.map(function (arg) {\\n      return typeof arg === \'string\' ? arg : \\"<\\".concat(arg.length, \\" bytes binary file>\\");\\n    }).join(\' \')));\\n\\n    if (Core === null) {\\n      throw NO_LOAD;\\n    } else {\\n      var ret = null;\\n\\n      try {\\n        var _Core$FS;\\n\\n        ret = (_Core$FS = Core.FS)[method].apply(_Core$FS, args);\\n      } catch (e) {\\n        if (method === \'readdir\') {\\n          throw Error(\\"ffmpeg.FS(\'readdir\', \'\\".concat(args[0], \\"\') error. Check if the path exists, ex: ffmpeg.FS(\'readdir\', \'/\')\\"));\\n        } else if (method === \'readFile\') {\\n          throw Error(\\"ffmpeg.FS(\'readFile\', \'\\".concat(args[0], \\"\') error. Check if the path exists\\"));\\n        } else {\\n          throw Error(\'Oops, something went wrong in FS operation.\');\\n        }\\n      }\\n\\n      return ret;\\n    }\\n  };\\n  /**\\n   * forcibly terminate the ffmpeg program.\\n   */\\n\\n\\n  var exit = function exit() {\\n    if (Core === null) {\\n      throw NO_LOAD;\\n    } else {\\n      // if there\'s any pending runs, reject them\\n      if (runReject) {\\n        runReject(\'ffmpeg has exited\');\\n      }\\n\\n      running = false;\\n\\n      try {\\n        Core.exit(1);\\n      } catch (err) {\\n        log(err.message);\\n\\n        if (runReject) {\\n          runReject(err);\\n        }\\n      } finally {\\n        Core = null;\\n        ffmpeg = null;\\n        runResolve = null;\\n        runReject = null;\\n      }\\n    }\\n  };\\n\\n  var setProgress = function setProgress(_progress) {\\n    progress = _progress;\\n  };\\n\\n  var setLogger = function setLogger(_logger) {\\n    customLogger = _logger;\\n  };\\n\\n  var setLogging = function setLogging(_logging) {\\n    logging = _logging;\\n  };\\n\\n  log(\'info\', \\"use ffmpeg.wasm v\\".concat(version));\\n  return {\\n    setProgress: setProgress,\\n    setLogger: setLogger,\\n    setLogging: setLogging,\\n    load: load,\\n    isLoaded: isLoaded,\\n    run: run,\\n    exit: exit,\\n    FS: FS\\n  };\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/createFFmpeg.js?")},352:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(666);\\n\\nvar createFFmpeg = __webpack_require__(906);\\n\\nvar _require = __webpack_require__(839),\\n    fetchFile = _require.fetchFile;\\n\\nmodule.exports = {\\n  /*\\n   * Create ffmpeg instance.\\n   * Each ffmpeg instance owns an isolated MEMFS and works\\n   * independently.\\n   *\\n   * For example:\\n   *\\n   * ```\\n   * const ffmpeg = createFFmpeg({\\n   *  log: true,\\n   *  logger: () => {},\\n   *  progress: () => {},\\n   *  corePath: \'\',\\n   * })\\n   * ```\\n   *\\n   * For the usage of these four arguments, check config.js\\n   *\\n   */\\n  createFFmpeg: createFFmpeg,\\n\\n  /*\\n   * Helper function for fetching files from various resource.\\n   * Sometimes the video/audio file you want to process may located\\n   * in a remote URL and somewhere in your local file system.\\n   *\\n   * This helper function helps you to fetch to file and return an\\n   * Uint8Array variable for ffmpeg.wasm to consume.\\n   *\\n   */\\n  fetchFile: fetchFile\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/index.js?")},835:module=>{eval(\'var CREATE_FFMPEG_CORE_IS_NOT_DEFINED = function CREATE_FFMPEG_CORE_IS_NOT_DEFINED(corePath) {\\n  return "\\\\ncreateFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ".concat(corePath, ". Use another URL when calling createFFmpeg():\\\\n\\\\nconst ffmpeg = createFFmpeg({\\\\n  corePath: \\\'http://localhost:3000/ffmpeg-core.js\\\',\\\\n});\\\\n");\\n};\\n\\nmodule.exports = {\\n  CREATE_FFMPEG_CORE_IS_NOT_DEFINED: CREATE_FFMPEG_CORE_IS_NOT_DEFINED\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/utils/errors.js?\')},185:module=>{eval(\'var logging = false;\\n\\nvar customLogger = function customLogger() {};\\n\\nvar setLogging = function setLogging(_logging) {\\n  logging = _logging;\\n};\\n\\nvar setCustomLogger = function setCustomLogger(logger) {\\n  customLogger = logger;\\n};\\n\\nvar log = function log(type, message) {\\n  customLogger({\\n    type: type,\\n    message: message\\n  });\\n\\n  if (logging) {\\n    console.log("[".concat(type, "] ").concat(message));\\n  }\\n};\\n\\nmodule.exports = {\\n  logging: logging,\\n  setLogging: setLogging,\\n  setCustomLogger: setCustomLogger,\\n  log: log\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/utils/log.js?\')},319:module=>{eval("module.exports = function (Core, args) {\\n  var argsPtr = Core._malloc(args.length * Uint32Array.BYTES_PER_ELEMENT);\\n\\n  args.forEach(function (s, idx) {\\n    var sz = Core.lengthBytesUTF8(s) + 1;\\n\\n    var buf = Core._malloc(sz);\\n\\n    Core.stringToUTF8(s, buf, sz);\\n    Core.setValue(argsPtr + Uint32Array.BYTES_PER_ELEMENT * idx, buf, \'i32\');\\n  });\\n  return [args.length, argsPtr];\\n};\\n\\n//# sourceURL=webpack://FFmpeg/./src/utils/parseArgs.js?")},666:module=>{eval(\'/**\\n * Copyright (c) 2014-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\nvar runtime = (function (exports) {\\n  "use strict";\\n\\n  var Op = Object.prototype;\\n  var hasOwn = Op.hasOwnProperty;\\n  var undefined; // More compressible than void 0.\\n  var $Symbol = typeof Symbol === "function" ? Symbol : {};\\n  var iteratorSymbol = $Symbol.iterator || "@@iterator";\\n  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\\n  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\\n\\n  function define(obj, key, value) {\\n    Object.defineProperty(obj, key, {\\n      value: value,\\n      enumerable: true,\\n      configurable: true,\\n      writable: true\\n    });\\n    return obj[key];\\n  }\\n  try {\\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\\n    define({}, "");\\n  } catch (err) {\\n    define = function(obj, key, value) {\\n      return obj[key] = value;\\n    };\\n  }\\n\\n  function wrap(innerFn, outerFn, self, tryLocsList) {\\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\\n    var generator = Object.create(protoGenerator.prototype);\\n    var context = new Context(tryLocsList || []);\\n\\n    // The ._invoke method unifies the implementations of the .next,\\n    // .throw, and .return methods.\\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\\n\\n    return generator;\\n  }\\n  exports.wrap = wrap;\\n\\n  // Try/catch helper to minimize deoptimizations. Returns a completion\\n  // record like context.tryEntries[i].completion. This interface could\\n  // have been (and was previously) designed to take a closure to be\\n  // invoked without arguments, but in all the cases we care about we\\n  // already have an existing method we want to call, so there\\\'s no need\\n  // to create a new function object. We can even get away with assuming\\n  // the method takes exactly one argument, since that happens to be true\\n  // in every case, so we don\\\'t have to touch the arguments object. The\\n  // only additional allocation required is the completion record, which\\n  // has a stable shape and so hopefully should be cheap to allocate.\\n  function tryCatch(fn, obj, arg) {\\n    try {\\n      return { type: "normal", arg: fn.call(obj, arg) };\\n    } catch (err) {\\n      return { type: "throw", arg: err };\\n    }\\n  }\\n\\n  var GenStateSuspendedStart = "suspendedStart";\\n  var GenStateSuspendedYield = "suspendedYield";\\n  var GenStateExecuting = "executing";\\n  var GenStateCompleted = "completed";\\n\\n  // Returning this object from the innerFn has the same effect as\\n  // breaking out of the dispatch switch statement.\\n  var ContinueSentinel = {};\\n\\n  // Dummy constructor functions that we use as the .constructor and\\n  // .constructor.prototype properties for functions that return Generator\\n  // objects. For full spec compliance, you may wish to configure your\\n  // minifier not to mangle the names of these two functions.\\n  function Generator() {}\\n  function GeneratorFunction() {}\\n  function GeneratorFunctionPrototype() {}\\n\\n  // This is a polyfill for %IteratorPrototype% for environments that\\n  // don\\\'t natively support it.\\n  var IteratorPrototype = {};\\n  IteratorPrototype[iteratorSymbol] = function () {\\n    return this;\\n  };\\n\\n  var getProto = Object.getPrototypeOf;\\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\\n  if (NativeIteratorPrototype &&\\n      NativeIteratorPrototype !== Op &&\\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\\n    // This environment has a native %IteratorPrototype%; use it instead\\n    // of the polyfill.\\n    IteratorPrototype = NativeIteratorPrototype;\\n  }\\n\\n  var Gp = GeneratorFunctionPrototype.prototype =\\n    Generator.prototype = Object.create(IteratorPrototype);\\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\\n  GeneratorFunction.displayName = define(\\n    GeneratorFunctionPrototype,\\n    toStringTagSymbol,\\n    "GeneratorFunction"\\n  );\\n\\n  // Helper for defining the .next, .throw, and .return methods of the\\n  // Iterator interface in terms of a single ._invoke method.\\n  function defineIteratorMethods(prototype) {\\n    ["next", "throw", "return"].forEach(function(method) {\\n      define(prototype, method, function(arg) {\\n        return this._invoke(method, arg);\\n      });\\n    });\\n  }\\n\\n  exports.isGeneratorFunction = function(genFun) {\\n    var ctor = typeof genFun === "function" && genFun.constructor;\\n    return ctor\\n      ? ctor === GeneratorFunction ||\\n        // For the native GeneratorFunction constructor, the best we can\\n        // do is to check its .name property.\\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\\n      : false;\\n  };\\n\\n  exports.mark = function(genFun) {\\n    if (Object.setPrototypeOf) {\\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\\n    } else {\\n      genFun.__proto__ = GeneratorFunctionPrototype;\\n      define(genFun, toStringTagSymbol, "GeneratorFunction");\\n    }\\n    genFun.prototype = Object.create(Gp);\\n    return genFun;\\n  };\\n\\n  // Within the body of any async function, `await x` is transformed to\\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\\n  // `hasOwn.call(value, "__await")` to determine if the yielded value is\\n  // meant to be awaited.\\n  exports.awrap = function(arg) {\\n    return { __await: arg };\\n  };\\n\\n  function AsyncIterator(generator, PromiseImpl) {\\n    function invoke(method, arg, resolve, reject) {\\n      var record = tryCatch(generator[method], generator, arg);\\n      if (record.type === "throw") {\\n        reject(record.arg);\\n      } else {\\n        var result = record.arg;\\n        var value = result.value;\\n        if (value &&\\n            typeof value === "object" &&\\n            hasOwn.call(value, "__await")) {\\n          return PromiseImpl.resolve(value.__await).then(function(value) {\\n            invoke("next", value, resolve, reject);\\n          }, function(err) {\\n            invoke("throw", err, resolve, reject);\\n          });\\n        }\\n\\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\\n          // When a yielded Promise is resolved, its final value becomes\\n          // the .value of the Promise<{value,done}> result for the\\n          // current iteration.\\n          result.value = unwrapped;\\n          resolve(result);\\n        }, function(error) {\\n          // If a rejected Promise was yielded, throw the rejection back\\n          // into the async generator function so it can be handled there.\\n          return invoke("throw", error, resolve, reject);\\n        });\\n      }\\n    }\\n\\n    var previousPromise;\\n\\n    function enqueue(method, arg) {\\n      function callInvokeWithMethodAndArg() {\\n        return new PromiseImpl(function(resolve, reject) {\\n          invoke(method, arg, resolve, reject);\\n        });\\n      }\\n\\n      return previousPromise =\\n        // If enqueue has been called before, then we want to wait until\\n        // all previous Promises have been resolved before calling invoke,\\n        // so that results are always delivered in the correct order. If\\n        // enqueue has not been called before, then it is important to\\n        // call invoke immediately, without waiting on a callback to fire,\\n        // so that the async generator function has the opportunity to do\\n        // any necessary setup in a predictable way. This predictability\\n        // is why the Promise constructor synchronously invokes its\\n        // executor callback, and why async functions synchronously\\n        // execute code before the first await. Since we implement simple\\n        // async functions in terms of async generators, it is especially\\n        // important to get this right, even though it requires care.\\n        previousPromise ? previousPromise.then(\\n          callInvokeWithMethodAndArg,\\n          // Avoid propagating failures to Promises returned by later\\n          // invocations of the iterator.\\n          callInvokeWithMethodAndArg\\n        ) : callInvokeWithMethodAndArg();\\n    }\\n\\n    // Define the unified helper method that is used to implement .next,\\n    // .throw, and .return (see defineIteratorMethods).\\n    this._invoke = enqueue;\\n  }\\n\\n  defineIteratorMethods(AsyncIterator.prototype);\\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\\n    return this;\\n  };\\n  exports.AsyncIterator = AsyncIterator;\\n\\n  // Note that simple async functions are implemented on top of\\n  // AsyncIterator objects; they just return a Promise for the value of\\n  // the final result produced by the iterator.\\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\\n\\n    var iter = new AsyncIterator(\\n      wrap(innerFn, outerFn, self, tryLocsList),\\n      PromiseImpl\\n    );\\n\\n    return exports.isGeneratorFunction(outerFn)\\n      ? iter // If outerFn is a generator, return the full iterator.\\n      : iter.next().then(function(result) {\\n          return result.done ? result.value : iter.next();\\n        });\\n  };\\n\\n  function makeInvokeMethod(innerFn, self, context) {\\n    var state = GenStateSuspendedStart;\\n\\n    return function invoke(method, arg) {\\n      if (state === GenStateExecuting) {\\n        throw new Error("Generator is already running");\\n      }\\n\\n      if (state === GenStateCompleted) {\\n        if (method === "throw") {\\n          throw arg;\\n        }\\n\\n        // Be forgiving, per 25.3.3.3.3 of the spec:\\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\\n        return doneResult();\\n      }\\n\\n      context.method = method;\\n      context.arg = arg;\\n\\n      while (true) {\\n        var delegate = context.delegate;\\n        if (delegate) {\\n          var delegateResult = maybeInvokeDelegate(delegate, context);\\n          if (delegateResult) {\\n            if (delegateResult === ContinueSentinel) continue;\\n            return delegateResult;\\n          }\\n        }\\n\\n        if (context.method === "next") {\\n          // Setting context._sent for legacy support of Babel\\\'s\\n          // function.sent implementation.\\n          context.sent = context._sent = context.arg;\\n\\n        } else if (context.method === "throw") {\\n          if (state === GenStateSuspendedStart) {\\n            state = GenStateCompleted;\\n            throw context.arg;\\n          }\\n\\n          context.dispatchException(context.arg);\\n\\n        } else if (context.method === "return") {\\n          context.abrupt("return", context.arg);\\n        }\\n\\n        state = GenStateExecuting;\\n\\n        var record = tryCatch(innerFn, self, context);\\n        if (record.type === "normal") {\\n          // If an exception is thrown from innerFn, we leave state ===\\n          // GenStateExecuting and loop back for another invocation.\\n          state = context.done\\n            ? GenStateCompleted\\n            : GenStateSuspendedYield;\\n\\n          if (record.arg === ContinueSentinel) {\\n            continue;\\n          }\\n\\n          return {\\n            value: record.arg,\\n            done: context.done\\n          };\\n\\n        } else if (record.type === "throw") {\\n          state = GenStateCompleted;\\n          // Dispatch the exception by looping back around to the\\n          // context.dispatchException(context.arg) call above.\\n          context.method = "throw";\\n          context.arg = record.arg;\\n        }\\n      }\\n    };\\n  }\\n\\n  // Call delegate.iterator[context.method](context.arg) and handle the\\n  // result, either by returning a { value, done } result from the\\n  // delegate iterator, or by modifying context.method and context.arg,\\n  // setting context.delegate to null, and returning the ContinueSentinel.\\n  function maybeInvokeDelegate(delegate, context) {\\n    var method = delegate.iterator[context.method];\\n    if (method === undefined) {\\n      // A .throw or .return when the delegate iterator has no .throw\\n      // method always terminates the yield* loop.\\n      context.delegate = null;\\n\\n      if (context.method === "throw") {\\n        // Note: ["return"] must be used for ES3 parsing compatibility.\\n        if (delegate.iterator["return"]) {\\n          // If the delegate iterator has a return method, give it a\\n          // chance to clean up.\\n          context.method = "return";\\n          context.arg = undefined;\\n          maybeInvokeDelegate(delegate, context);\\n\\n          if (context.method === "throw") {\\n            // If maybeInvokeDelegate(context) changed context.method from\\n            // "return" to "throw", let that override the TypeError below.\\n            return ContinueSentinel;\\n          }\\n        }\\n\\n        context.method = "throw";\\n        context.arg = new TypeError(\\n          "The iterator does not provide a \\\'throw\\\' method");\\n      }\\n\\n      return ContinueSentinel;\\n    }\\n\\n    var record = tryCatch(method, delegate.iterator, context.arg);\\n\\n    if (record.type === "throw") {\\n      context.method = "throw";\\n      context.arg = record.arg;\\n      context.delegate = null;\\n      return ContinueSentinel;\\n    }\\n\\n    var info = record.arg;\\n\\n    if (! info) {\\n      context.method = "throw";\\n      context.arg = new TypeError("iterator result is not an object");\\n      context.delegate = null;\\n      return ContinueSentinel;\\n    }\\n\\n    if (info.done) {\\n      // Assign the result of the finished delegate to the temporary\\n      // variable specified by delegate.resultName (see delegateYield).\\n      context[delegate.resultName] = info.value;\\n\\n      // Resume execution at the desired location (see delegateYield).\\n      context.next = delegate.nextLoc;\\n\\n      // If context.method was "throw" but the delegate handled the\\n      // exception, let the outer generator proceed normally. If\\n      // context.method was "next", forget context.arg since it has been\\n      // "consumed" by the delegate iterator. If context.method was\\n      // "return", allow the original .return call to continue in the\\n      // outer generator.\\n      if (context.method !== "return") {\\n        context.method = "next";\\n        context.arg = undefined;\\n      }\\n\\n    } else {\\n      // Re-yield the result returned by the delegate method.\\n      return info;\\n    }\\n\\n    // The delegate iterator is finished, so forget it and continue with\\n    // the outer generator.\\n    context.delegate = null;\\n    return ContinueSentinel;\\n  }\\n\\n  // Define Generator.prototype.{next,throw,return} in terms of the\\n  // unified ._invoke helper method.\\n  defineIteratorMethods(Gp);\\n\\n  define(Gp, toStringTagSymbol, "Generator");\\n\\n  // A Generator should always return itself as the iterator object when the\\n  // @@iterator function is called on it. Some browsers\\\' implementations of the\\n  // iterator prototype chain incorrectly implement this, causing the Generator\\n  // object to not be returned from this call. This ensures that doesn\\\'t happen.\\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\\n  Gp[iteratorSymbol] = function() {\\n    return this;\\n  };\\n\\n  Gp.toString = function() {\\n    return "[object Generator]";\\n  };\\n\\n  function pushTryEntry(locs) {\\n    var entry = { tryLoc: locs[0] };\\n\\n    if (1 in locs) {\\n      entry.catchLoc = locs[1];\\n    }\\n\\n    if (2 in locs) {\\n      entry.finallyLoc = locs[2];\\n      entry.afterLoc = locs[3];\\n    }\\n\\n    this.tryEntries.push(entry);\\n  }\\n\\n  function resetTryEntry(entry) {\\n    var record = entry.completion || {};\\n    record.type = "normal";\\n    delete record.arg;\\n    entry.completion = record;\\n  }\\n\\n  function Context(tryLocsList) {\\n    // The root entry object (effectively a try statement without a catch\\n    // or a finally block) gives us a place to store values thrown from\\n    // locations where there is no enclosing try statement.\\n    this.tryEntries = [{ tryLoc: "root" }];\\n    tryLocsList.forEach(pushTryEntry, this);\\n    this.reset(true);\\n  }\\n\\n  exports.keys = function(object) {\\n    var keys = [];\\n    for (var key in object) {\\n      keys.push(key);\\n    }\\n    keys.reverse();\\n\\n    // Rather than returning an object with a next method, we keep\\n    // things simple and return the next function itself.\\n    return function next() {\\n      while (keys.length) {\\n        var key = keys.pop();\\n        if (key in object) {\\n          next.value = key;\\n          next.done = false;\\n          return next;\\n        }\\n      }\\n\\n      // To avoid creating an additional object, we just hang the .value\\n      // and .done properties off the next function object itself. This\\n      // also ensures that the minifier will not anonymize the function.\\n      next.done = true;\\n      return next;\\n    };\\n  };\\n\\n  function values(iterable) {\\n    if (iterable) {\\n      var iteratorMethod = iterable[iteratorSymbol];\\n      if (iteratorMethod) {\\n        return iteratorMethod.call(iterable);\\n      }\\n\\n      if (typeof iterable.next === "function") {\\n        return iterable;\\n      }\\n\\n      if (!isNaN(iterable.length)) {\\n        var i = -1, next = function next() {\\n          while (++i < iterable.length) {\\n            if (hasOwn.call(iterable, i)) {\\n              next.value = iterable[i];\\n              next.done = false;\\n              return next;\\n            }\\n          }\\n\\n          next.value = undefined;\\n          next.done = true;\\n\\n          return next;\\n        };\\n\\n        return next.next = next;\\n      }\\n    }\\n\\n    // Return an iterator with no values.\\n    return { next: doneResult };\\n  }\\n  exports.values = values;\\n\\n  function doneResult() {\\n    return { value: undefined, done: true };\\n  }\\n\\n  Context.prototype = {\\n    constructor: Context,\\n\\n    reset: function(skipTempReset) {\\n      this.prev = 0;\\n      this.next = 0;\\n      // Resetting context._sent for legacy support of Babel\\\'s\\n      // function.sent implementation.\\n      this.sent = this._sent = undefined;\\n      this.done = false;\\n      this.delegate = null;\\n\\n      this.method = "next";\\n      this.arg = undefined;\\n\\n      this.tryEntries.forEach(resetTryEntry);\\n\\n      if (!skipTempReset) {\\n        for (var name in this) {\\n          // Not sure about the optimal order of these conditions:\\n          if (name.charAt(0) === "t" &&\\n              hasOwn.call(this, name) &&\\n              !isNaN(+name.slice(1))) {\\n            this[name] = undefined;\\n          }\\n        }\\n      }\\n    },\\n\\n    stop: function() {\\n      this.done = true;\\n\\n      var rootEntry = this.tryEntries[0];\\n      var rootRecord = rootEntry.completion;\\n      if (rootRecord.type === "throw") {\\n        throw rootRecord.arg;\\n      }\\n\\n      return this.rval;\\n    },\\n\\n    dispatchException: function(exception) {\\n      if (this.done) {\\n        throw exception;\\n      }\\n\\n      var context = this;\\n      function handle(loc, caught) {\\n        record.type = "throw";\\n        record.arg = exception;\\n        context.next = loc;\\n\\n        if (caught) {\\n          // If the dispatched exception was caught by a catch block,\\n          // then let that catch block handle the exception normally.\\n          context.method = "next";\\n          context.arg = undefined;\\n        }\\n\\n        return !! caught;\\n      }\\n\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        var record = entry.completion;\\n\\n        if (entry.tryLoc === "root") {\\n          // Exception thrown outside of any try block that could handle\\n          // it, so set the completion value of the entire function to\\n          // throw the exception.\\n          return handle("end");\\n        }\\n\\n        if (entry.tryLoc <= this.prev) {\\n          var hasCatch = hasOwn.call(entry, "catchLoc");\\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\\n\\n          if (hasCatch && hasFinally) {\\n            if (this.prev < entry.catchLoc) {\\n              return handle(entry.catchLoc, true);\\n            } else if (this.prev < entry.finallyLoc) {\\n              return handle(entry.finallyLoc);\\n            }\\n\\n          } else if (hasCatch) {\\n            if (this.prev < entry.catchLoc) {\\n              return handle(entry.catchLoc, true);\\n            }\\n\\n          } else if (hasFinally) {\\n            if (this.prev < entry.finallyLoc) {\\n              return handle(entry.finallyLoc);\\n            }\\n\\n          } else {\\n            throw new Error("try statement without catch or finally");\\n          }\\n        }\\n      }\\n    },\\n\\n    abrupt: function(type, arg) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.tryLoc <= this.prev &&\\n            hasOwn.call(entry, "finallyLoc") &&\\n            this.prev < entry.finallyLoc) {\\n          var finallyEntry = entry;\\n          break;\\n        }\\n      }\\n\\n      if (finallyEntry &&\\n          (type === "break" ||\\n           type === "continue") &&\\n          finallyEntry.tryLoc <= arg &&\\n          arg <= finallyEntry.finallyLoc) {\\n        // Ignore the finally entry if control is not jumping to a\\n        // location outside the try/catch block.\\n        finallyEntry = null;\\n      }\\n\\n      var record = finallyEntry ? finallyEntry.completion : {};\\n      record.type = type;\\n      record.arg = arg;\\n\\n      if (finallyEntry) {\\n        this.method = "next";\\n        this.next = finallyEntry.finallyLoc;\\n        return ContinueSentinel;\\n      }\\n\\n      return this.complete(record);\\n    },\\n\\n    complete: function(record, afterLoc) {\\n      if (record.type === "throw") {\\n        throw record.arg;\\n      }\\n\\n      if (record.type === "break" ||\\n          record.type === "continue") {\\n        this.next = record.arg;\\n      } else if (record.type === "return") {\\n        this.rval = this.arg = record.arg;\\n        this.method = "return";\\n        this.next = "end";\\n      } else if (record.type === "normal" && afterLoc) {\\n        this.next = afterLoc;\\n      }\\n\\n      return ContinueSentinel;\\n    },\\n\\n    finish: function(finallyLoc) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.finallyLoc === finallyLoc) {\\n          this.complete(entry.completion, entry.afterLoc);\\n          resetTryEntry(entry);\\n          return ContinueSentinel;\\n        }\\n      }\\n    },\\n\\n    "catch": function(tryLoc) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.tryLoc === tryLoc) {\\n          var record = entry.completion;\\n          if (record.type === "throw") {\\n            var thrown = record.arg;\\n            resetTryEntry(entry);\\n          }\\n          return thrown;\\n        }\\n      }\\n\\n      // The context.catch method must only be called with a location\\n      // argument that corresponds to a known catch block.\\n      throw new Error("illegal catch attempt");\\n    },\\n\\n    delegateYield: function(iterable, resultName, nextLoc) {\\n      this.delegate = {\\n        iterator: values(iterable),\\n        resultName: resultName,\\n        nextLoc: nextLoc\\n      };\\n\\n      if (this.method === "next") {\\n        // Deliberately forget the last sent value so that we don\\\'t\\n        // accidentally pass it on to the delegate.\\n        this.arg = undefined;\\n      }\\n\\n      return ContinueSentinel;\\n    }\\n  };\\n\\n  // Regardless of whether this script is executing as a CommonJS module\\n  // or not, return the runtime object so that we can declare the variable\\n  // regeneratorRuntime in the outer scope, which allows this module to be\\n  // injected easily by `bin/regenerator --include-runtime script.js`.\\n  return exports;\\n\\n}(\\n  // If this script is executing as a CommonJS module, use module.exports\\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\\n  // object. Either way, the resulting object will be used to initialize\\n  // the regeneratorRuntime variable at the top of this file.\\n   true ? module.exports : 0\\n));\\n\\ntry {\\n  regeneratorRuntime = runtime;\\n} catch (accidentalStrictMode) {\\n  // This module should not be running in strict mode, so the above\\n  // assignment should always work unless something is misconfigured. Just\\n  // in case runtime.js accidentally runs in strict mode, we can escape\\n  // strict mode using a global Function call. This could conceivably fail\\n  // if a Content Security Policy forbids using Function, but in that case\\n  // the proper solution is to fix the accidental strict mode problem. If\\n  // you\\\'ve misconfigured your bundler to force strict mode and applied a\\n  // CSP to forbid Function, and you\\\'re not willing to fix either of those\\n  // problems, please detail your unique predicament in a GitHub issue.\\n  Function("r", "regeneratorRuntime = r")(runtime);\\n}\\n\\n\\n//# sourceURL=webpack://FFmpeg/./node_modules/regenerator-runtime/runtime.js?\')},306:module=>{"use strict";eval(\'module.exports = JSON.parse("{\\\\"name\\\\":\\\\"@ffmpeg/ffmpeg\\\\",\\\\"version\\\\":\\\\"0.11.6\\\\",\\\\"description\\\\":\\\\"FFmpeg WebAssembly version\\\\",\\\\"main\\\\":\\\\"src/index.js\\\\",\\\\"types\\\\":\\\\"src/index.d.ts\\\\",\\\\"directories\\\\":{\\\\"example\\\\":\\\\"examples\\\\"},\\\\"scripts\\\\":{\\\\"start\\\\":\\\\"node scripts/server.js\\\\",\\\\"start:worker\\\\":\\\\"node scripts/worker-server.js\\\\",\\\\"build\\\\":\\\\"rimraf dist && webpack --config scripts/webpack.config.prod.js\\\\",\\\\"build:worker\\\\":\\\\"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js\\\\",\\\\"prepublishOnly\\\\":\\\\"npm run build\\\\",\\\\"lint\\\\":\\\\"eslint src\\\\",\\\\"wait\\\\":\\\\"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js\\\\",\\\\"test\\\\":\\\\"npm-run-all -p -r start test:all\\\\",\\\\"test:all\\\\":\\\\"npm-run-all wait test:browser:ffmpeg test:node:all\\\\",\\\\"test:node\\\\":\\\\"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js\\\\",\\\\"test:node:all\\\\":\\\\"npm run test:node -- ./tests/*.test.js\\\\",\\\\"test:browser\\\\":\\\\"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000\\\\",\\\\"test:browser:ffmpeg\\\\":\\\\"npm run test:browser -- -f ./tests/ffmpeg.test.html\\\\"},\\\\"browser\\\\":{\\\\"./src/node/index.js\\\\":\\\\"./src/browser/index.js\\\\"},\\\\"repository\\\\":{\\\\"type\\\\":\\\\"git\\\\",\\\\"url\\\\":\\\\"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git\\\\"},\\\\"keywords\\\\":[\\\\"ffmpeg\\\\",\\\\"WebAssembly\\\\",\\\\"video\\\\"],\\\\"author\\\\":\\\\"Jerome Wu <jeromewus@gmail.com>\\\\",\\\\"license\\\\":\\\\"MIT\\\\",\\\\"bugs\\\\":{\\\\"url\\\\":\\\\"https://github.com/ffmpegwasm/ffmpeg.wasm/issues\\\\"},\\\\"engines\\\\":{\\\\"node\\\\":\\\\">=12.16.1\\\\"},\\\\"homepage\\\\":\\\\"https://github.com/ffmpegwasm/ffmpeg.wasm#readme\\\\",\\\\"dependencies\\\\":{\\\\"is-url\\\\":\\\\"^1.2.4\\\\",\\\\"node-fetch\\\\":\\\\"^2.6.1\\\\",\\\\"regenerator-runtime\\\\":\\\\"^0.13.7\\\\",\\\\"resolve-url\\\\":\\\\"^0.2.1\\\\"},\\\\"devDependencies\\\\":{\\\\"@babel/core\\\\":\\\\"^7.12.3\\\\",\\\\"@babel/preset-env\\\\":\\\\"^7.12.1\\\\",\\\\"@ffmpeg/core\\\\":\\\\"^0.11.0\\\\",\\\\"@types/emscripten\\\\":\\\\"^1.39.4\\\\",\\\\"babel-eslint\\\\":\\\\"^10.1.0\\\\",\\\\"babel-loader\\\\":\\\\"^8.1.0\\\\",\\\\"chai\\\\":\\\\"^4.2.0\\\\",\\\\"cors\\\\":\\\\"^2.8.5\\\\",\\\\"eslint\\\\":\\\\"^7.12.1\\\\",\\\\"eslint-config-airbnb-base\\\\":\\\\"^14.1.0\\\\",\\\\"eslint-plugin-import\\\\":\\\\"^2.22.1\\\\",\\\\"express\\\\":\\\\"^4.17.1\\\\",\\\\"mocha\\\\":\\\\"^10.1.0\\\\",\\\\"mocha-headless-chrome\\\\":\\\\"^2.0.3\\\\",\\\\"npm-run-all\\\\":\\\\"^4.1.5\\\\",\\\\"wait-on\\\\":\\\\"^5.3.0\\\\",\\\\"webpack\\\\":\\\\"^5.3.2\\\\",\\\\"webpack-cli\\\\":\\\\"^4.1.0\\\\",\\\\"webpack-dev-middleware\\\\":\\\\"^4.0.0\\\\"}}");\\n\\n//# sourceURL=webpack://FFmpeg/./package.json?\')}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}return __webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="",__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__(352)})()}));\r\n  ',r=y("script"),r.textContent='/**\r\n    * Skipped minification because the original files appears to be already minified.\r\n    * Original file: /npm/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js\r\n    *\r\n    * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files\r\n    */\r\n   \r\n    var createFFmpegCore = (function() {\r\n       var _scriptDir = typeof document !== \'undefined\' && document.currentScript ? document.currentScript.src : undefined;\r\n       if (typeof __filename !== \'undefined\') _scriptDir = _scriptDir || __filename;\r\n       return (\r\n     function(createFFmpegCore) {\r\n       createFFmpegCore = createFFmpegCore || {};\r\n     \r\n     \r\n     var f;f||(f=typeof createFFmpegCore !== \'undefined\' ? createFFmpegCore : {});var aa,ba;f.ready=new Promise(function(a,b){aa=a;ba=b});f.quit=function(a){if(f.onExit)f.onExit(a);throw new ca(a);};f.exit=da;ea=h=function(){};var fa={},ia;for(ia in f)f.hasOwnProperty(ia)&&(fa[ia]=f[ia]);var ja=[],ka="./this.program";function la(a,b){throw b;}var ma=!1,oa=!1,l=!1,pa=!1;ma="object"===typeof window;oa="function"===typeof importScripts;\r\n     l="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;pa=!ma&&!l&&!oa;var n=f.ENVIRONMENT_IS_PTHREAD||!1;n&&(qa=f.buffer);var ra="";function sa(a){return f.locateFile?f.locateFile(a,ra):ra+a}var ta,va,wa,xa;\r\n     if(l){ra=oa?require("path").dirname(ra)+"/":__dirname+"/";ta=function(a,b){wa||(wa=require("fs"));xa||(xa=require("path"));a=xa.normalize(a);return wa.readFileSync(a,b?null:"utf8")};va=function(a){a=ta(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a};1<process.argv.length&&(ka=process.argv[1].replace(/\\\\/g,"/"));ja=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof ca))throw a;});process.on("unhandledRejection",u);la=function(a){process.exit(a)};f.inspect=\r\n     function(){return"[Emscripten Module object]"};var ya;try{ya=require("worker_threads")}catch(a){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),a;}global.Worker=ya.Worker}else if(pa)"undefined"!=typeof read&&(ta=function(a){return read(a)}),va=function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");assert("object"===typeof a);return a},"undefined"!=typeof scriptArgs?ja=scriptArgs:\r\n     "undefined"!=typeof arguments&&(ja=arguments),"function"===typeof quit&&(la=function(a){quit(a)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print);else if(ma||oa)oa?ra=self.location.href:"undefined"!==typeof document&&document.currentScript&&(ra=document.currentScript.src),_scriptDir&&(ra=_scriptDir),0!==ra.indexOf("blob:")?ra=ra.substr(0,ra.lastIndexOf("/")+1):ra="",l?(ta=function(a,\r\n     b){wa||(wa=require("fs"));xa||(xa=require("path"));a=xa.normalize(a);return wa.readFileSync(a,b?null:"utf8")},va=function(a){a=ta(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a}):(ta=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},oa&&(va=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}));l&&"undefined"===typeof performance&&(global.performance=require("perf_hooks").performance);\r\n     var ea=f.print||console.log.bind(console),h=f.printErr||console.warn.bind(console);for(ia in fa)fa.hasOwnProperty(ia)&&(f[ia]=fa[ia]);fa=null;f.arguments&&(ja=f.arguments);f.thisProgram&&(ka=f.thisProgram);f.quit&&(la=f.quit);var za,Aa=0,Ba;f.wasmBinary&&(Ba=f.wasmBinary);var noExitRuntime;f.noExitRuntime&&(noExitRuntime=f.noExitRuntime);"object"!==typeof WebAssembly&&u("no native wasm support detected");var Ca,Da,threadInfoStruct=0,selfThreadId=0,Ea=!1;\r\n     function assert(a,b){a||u("Assertion failed: "+b)}function Fa(a){var b=f["_"+a];assert(b,"Cannot call unknown function "+a+", make sure it is exported");return b}\r\n     function Ga(a,b,c,d){var e={string:function(q){var t=0;if(null!==q&&void 0!==q&&0!==q){var w=(q.length<<2)+1;t=Ha(w);Ia(q,t,w)}return t},array:function(q){var t=Ha(q.length);v.set(q,t);return t}},g=Fa(a),k=[];a=0;if(d)for(var m=0;m<d.length;m++){var r=e[c[m]];r?(0===a&&(a=y()),k[m]=r(d[m])):k[m]=d[m]}c=g.apply(null,k);c="string"===b?A(c):"boolean"===b?!!c:c;0!==a&&C(a);return c}\r\n     function Ja(a,b,c){c=b+c;for(var d="";!(b>=c);){var e=a[b++];if(!e)break;if(e&128){var g=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|g);else{var k=a[b++]&63;e=224==(e&240)?(e&15)<<12|g<<6|k:(e&7)<<18|g<<12|k<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d}function A(a,b){return a?Ja(Ka,a,b):""}\r\n     function La(a,b,c,d){if(!(0<d))return 0;var e=c;d=c+d-1;for(var g=0;g<a.length;++g){var k=a.charCodeAt(g);if(55296<=k&&57343>=k){var m=a.charCodeAt(++g);k=65536+((k&1023)<<10)|m&1023}if(127>=k){if(c>=d)break;b[c++]=k}else{if(2047>=k){if(c+1>=d)break;b[c++]=192|k>>6}else{if(65535>=k){if(c+2>=d)break;b[c++]=224|k>>12}else{if(c+3>=d)break;b[c++]=240|k>>18;b[c++]=128|k>>12&63}b[c++]=128|k>>6&63}b[c++]=128|k&63}}b[c]=0;return c-e}function Ia(a,b,c){return La(a,Ka,b,c)}\r\n     function Ma(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function Na(a){var b=Ma(a)+1,c=Oa(b);c&&La(a,v,c,b);return c}function Pa(a){var b=Ma(a)+1,c=Ha(b);La(a,v,c,b);return c}function Ra(a,b,c){for(var d=0;d<a.length;++d)v[b++>>0]=a.charCodeAt(d);c||(v[b>>0]=0)}var qa,v,Ka,Sa,Ta,D,E,F,Ua,Va=f.INITIAL_MEMORY||1073741824;\r\n     if(n)Ca=f.wasmMemory,qa=f.buffer;else if(f.wasmMemory)Ca=f.wasmMemory;else if(Ca=new WebAssembly.Memory({initial:Va/65536,maximum:Va/65536,shared:!0}),!(Ca.buffer instanceof SharedArrayBuffer))throw h("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),l&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),\r\n     Error("bad memory");Ca&&(qa=Ca.buffer);Va=qa.byteLength;var Wa=qa;qa=Wa;f.HEAP8=v=new Int8Array(Wa);f.HEAP16=Sa=new Int16Array(Wa);f.HEAP32=D=new Int32Array(Wa);f.HEAPU8=Ka=new Uint8Array(Wa);f.HEAPU16=Ta=new Uint16Array(Wa);f.HEAPU32=E=new Uint32Array(Wa);f.HEAPF32=F=new Float32Array(Wa);f.HEAPF64=Ua=new Float64Array(Wa);var G,Xa=[],Ya=[],Za=[],$a=[],ab=[];function bb(){var a=f.preRun.shift();Xa.unshift(a)}var cb=0,db=null,eb=null;\r\n     function gb(){assert(!n,"addRunDependency cannot be used in a pthread worker");cb++;f.monitorRunDependencies&&f.monitorRunDependencies(cb)}function hb(){cb--;f.monitorRunDependencies&&f.monitorRunDependencies(cb);if(0==cb&&(null!==db&&(clearInterval(db),db=null),eb)){var a=eb;eb=null;a()}}f.preloadedImages={};f.preloadedAudios={};\r\n     function u(a){if(f.onAbort)f.onAbort(a);n&&console.error("Pthread aborting at "+Error().stack);h(a);Ea=!0;a=new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");ba(a);throw a;}function ib(a){var b=jb;return String.prototype.startsWith?b.startsWith(a):0===b.indexOf(a)}function kb(){return ib("data:application/octet-stream;base64,")}var jb="ffmpeg-core.wasm";kb()||(jb=sa(jb));\r\n     function lb(){try{if(Ba)return new Uint8Array(Ba);if(va)return va(jb);throw"both async and sync fetching of the wasm failed";}catch(a){u(a)}}function mb(){return Ba||!ma&&!oa||"function"!==typeof fetch||ib("file://")?Promise.resolve().then(lb):fetch(jb,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at \'"+jb+"\'";return a.arrayBuffer()}).catch(function(){return lb()})}\r\n     var H,J,ob={5449136:function(){throw"Canceled!";},5449356:function(a,b){setTimeout(function(){nb(a,b)},0)},5449458:function(){return 5242880}};function pb(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(f);else{var c=b.vh;"number"===typeof c?void 0===b.Tf?G.get(c)():G.get(c)(b.Tf):c(void 0===b.Tf?null:b.Tf)}}}function qb(a){return a.replace(/\\b_Z[\\w\\d_]+/g,function(b){return b===b?b:b+" ["+b+"]"})}\r\n     f.dynCall=function(a,b,c){var d;-1!=a.indexOf("j")?d=c&&c.length?f["dynCall_"+a].apply(null,[b].concat(c)):f["dynCall_"+a].call(null,b):d=G.get(b).apply(null,c);return d};var rb=0,sb=0,tb=0;function ub(a,b,c){rb=a|0;tb=b|0;sb=c|0}f.registerPthreadPtr=ub;\r\n     function vb(a,b){if(0>=a||a>v.length||a&1||0>b)return-28;if(0==b)return 0;2147483647<=b&&(b=Infinity);var c=Atomics.load(D,L.Vf>>2),d=0;if(c==a&&Atomics.compareExchange(D,L.Vf>>2,c,0)==c&&(--b,d=1,0>=b))return 1;a=Atomics.notify(D,a>>2,b);if(0<=a)return a+d;throw"Atomics.notify returned an unexpected value "+a;}f._emscripten_futex_wake=vb;\r\n     function wb(a){if(n)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cancelThread!";L.Ef[a].worker.postMessage({cmd:"cancel"})}function xb(a){if(n)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cleanupThread!";D[a+12>>2]=0;(a=L.Ef[a])&&L.Ag(a.worker)}\r\n     var L={Ph:1,nj:{Ih:0,Jh:0},Gf:[],Kf:[],lj:function(){},pi:function(){L.xf=Oa(232);for(var a=0;58>a;++a)E[L.xf/4+a]=0;D[L.xf+12>>2]=L.xf;a=L.xf+156;D[a>>2]=a;var b=Oa(512);for(a=0;128>a;++a)E[b/4+a]=0;Atomics.store(E,L.xf+104>>2,b);Atomics.store(E,L.xf+40>>2,L.xf);Atomics.store(E,L.xf+44>>2,42);L.Ch();ub(L.xf,!oa,1);yb(L.xf)},ri:function(){L.Ch();aa(f);L.receiveObjectTransfer=L.Ii;L.setThreadStatus=L.Li;L.threadCancel=L.Pi;L.threadExit=L.Qi},Ch:function(){L.Vf=zb},Ef:{},Dg:[],Li:function(){},eh:function(){for(;0<\r\n     L.Dg.length;)L.Dg.pop()();n&&threadInfoStruct&&Ab()},Qi:function(a){var b=rb|0;b&&(Atomics.store(E,b+4>>2,a),Atomics.store(E,b+0>>2,1),Atomics.store(E,b+60>>2,1),Atomics.store(E,b+64>>2,0),L.eh(),vb(b+0,2147483647),ub(0,0,0),threadInfoStruct=0,n&&postMessage({cmd:"exit"}))},Pi:function(){L.eh();Atomics.store(E,threadInfoStruct+4>>2,-1);Atomics.store(E,threadInfoStruct+0>>2,1);vb(threadInfoStruct+0,2147483647);threadInfoStruct=selfThreadId=0;ub(0,0,0);postMessage({cmd:"cancelDone"})},Oi:function(){for(var a in L.Ef){var b=\r\n     L.Ef[a];b&&b.worker&&L.Ag(b.worker)}L.Ef={};for(a=0;a<L.Gf.length;++a){var c=L.Gf[a];c.terminate()}L.Gf=[];for(a=0;a<L.Kf.length;++a)c=L.Kf[a],b=c.yf,L.Pg(b),c.terminate();L.Kf=[]},Pg:function(a){if(a){if(a.threadInfoStruct){var b=D[a.threadInfoStruct+104>>2];D[a.threadInfoStruct+104>>2]=0;Bb(b);Bb(a.threadInfoStruct)}a.threadInfoStruct=0;a.Kg&&a.Rf&&Bb(a.Rf);a.Rf=0;a.worker&&(a.worker.yf=null)}},Ag:function(a){delete L.Ef[a.yf.Lh];L.Gf.push(a);L.Kf.splice(L.Kf.indexOf(a),1);L.Pg(a.yf);a.yf=void 0},\r\n     Ii:function(){},vi:function(a,b){a.onmessage=function(c){var d=c.data,e=d.cmd;a.yf&&(L.Mg=a.yf.threadInfoStruct);if(d.targetThread&&d.targetThread!=(rb|0)){var g=L.Ef[d.xj];g?g.worker.postMessage(c.data,d.transferList):console.error(\'Internal error! Worker sent a message "\'+e+\'" to target pthread \'+d.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===e)Cb();else if("spawnThread"===e)Db(c.data);else if("cleanupThread"===e)xb(d.thread);else if("killThread"===\r\n     e){c=d.thread;if(n)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!c)throw"Internal Error! Null pthread_ptr in killThread!";D[c+12>>2]=0;c=L.Ef[c];c.worker.terminate();L.Pg(c);L.Kf.splice(L.Kf.indexOf(c.worker),1);c.worker.yf=void 0}else if("cancelThread"===e)wb(d.thread);else if("loaded"===e)a.loaded=!0,b&&b(a),a.og&&(a.og(),delete a.og);else if("print"===e)ea("Thread "+d.threadId+": "+d.text);else if("printErr"===e)h("Thread "+d.threadId+": "+d.text);\r\n     else if("alert"===e)alert("Thread "+d.threadId+": "+d.text);else if("exit"===e)a.yf&&Atomics.load(E,a.yf.Lh+68>>2)&&L.Ag(a);else if("exitProcess"===e){noExitRuntime=!1;try{da(d.returnCode)}catch(k){if(k instanceof ca)return;throw k;}}else"cancelDone"===e?L.Ag(a):"objectTransfer"!==e&&("setimmediate"===c.data.target?a.postMessage(c.data):h("worker sent an unknown command "+e));L.Mg=void 0};a.onerror=function(c){h("pthread sent an error! "+c.filename+":"+c.lineno+": "+c.message)};l&&(a.on("message",\r\n     function(c){a.onmessage({data:c})}),a.on("error",function(c){a.onerror(c)}),a.on("exit",function(){}));a.postMessage({cmd:"load",urlOrBlob:f.mainScriptUrlOrBlob||_scriptDir,wasmMemory:Ca,wasmModule:Da})},Vh:function(){var a=sa("ffmpeg-core.worker.js");L.Gf.push(new Worker(a))},li:function(){0==L.Gf.length&&(L.Vh(),L.vi(L.Gf[0]));return 0<L.Gf.length?L.Gf.pop():null},Zi:function(a){for(a=performance.now()+a;performance.now()<a;);}};f.establishStackSpace=function(a){C(a)};f.getNoExitRuntime=function(){return noExitRuntime};\r\n     var Eb;l?Eb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:n?Eb=function(){return performance.now()-f.__performance_now_clock_drift}:"undefined"!==typeof dateNow?Eb=dateNow:Eb=function(){return performance.now()};function Fb(a){return D[Gb()>>2]=a}function Hb(a,b){if(0===a)a=Date.now();else if(1===a||4===a)a=Eb();else return Fb(28),-1;D[b>>2]=a/1E3|0;D[b+4>>2]=a%1E3*1E6|0;return 0}function Ib(a,b){if(n)return M(1,1,a,b);$a.unshift({vh:a,Tf:b})}\r\n     function Jb(a,b){a=new Date(1E3*D[a>>2]);D[b>>2]=a.getUTCSeconds();D[b+4>>2]=a.getUTCMinutes();D[b+8>>2]=a.getUTCHours();D[b+12>>2]=a.getUTCDate();D[b+16>>2]=a.getUTCMonth();D[b+20>>2]=a.getUTCFullYear()-1900;D[b+24>>2]=a.getUTCDay();D[b+36>>2]=0;D[b+32>>2]=0;D[b+28>>2]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;Jb.ih||(Jb.ih=Na("GMT"));D[b+40>>2]=Jb.ih;return b}\r\n     function Kb(){function a(k){return(k=k.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?k[1]:"GMT"}if(n)return M(2,1);if(!Kb.Yh){Kb.Yh=!0;var b=(new Date).getFullYear(),c=new Date(b,0,1),d=new Date(b,6,1);b=c.getTimezoneOffset();var e=d.getTimezoneOffset(),g=Math.max(b,e);D[Lb()>>2]=60*g;D[Mb()>>2]=Number(b!=e);c=a(c);d=a(d);c=Na(c);d=Na(d);e<b?(D[Nb()>>2]=c,D[Nb()+4>>2]=d):(D[Nb()>>2]=d,D[Nb()+4>>2]=c)}}\r\n     function Ob(a,b){Kb();a=new Date(1E3*D[a>>2]);D[b>>2]=a.getSeconds();D[b+4>>2]=a.getMinutes();D[b+8>>2]=a.getHours();D[b+12>>2]=a.getDate();D[b+16>>2]=a.getMonth();D[b+20>>2]=a.getFullYear()-1900;D[b+24>>2]=a.getDay();var c=new Date(a.getFullYear(),0,1);D[b+28>>2]=(a.getTime()-c.getTime())/864E5|0;D[b+36>>2]=-(60*a.getTimezoneOffset());var d=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();c=c.getTimezoneOffset();a=(d!=c&&a.getTimezoneOffset()==Math.min(c,d))|0;D[b+32>>2]=a;a=D[Nb()+(a?4:0)>>2];\r\n     D[b+40>>2]=a;return b}function Pb(a,b){for(var c=0,d=a.length-1;0<=d;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a}function Qb(a){var b="/"===a.charAt(0),c="/"===a.substr(-1);(a=Pb(a.split("/").filter(function(d){return!!d}),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a}\r\n     function Rb(a){var b=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b}function Sb(a){if("/"===a)return"/";a=Qb(a);a=a.replace(/\\/$/,"");var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)}function Tb(a,b){return Qb(a+"/"+b)}\r\n     function Ub(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}if(l)try{var b=require("crypto");return function(){return b.randomBytes(1)[0]}}catch(c){}return function(){u("randomDevice")}}\r\n     function Vb(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:N.cwd();if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=Pb(a.split("/").filter(function(d){return!!d}),!b).join("/");return(b?"/":"")+a||"."}\r\n     function Wb(a,b){function c(k){for(var m=0;m<k.length&&""===k[m];m++);for(var r=k.length-1;0<=r&&""===k[r];r--);return m>r?[]:k.slice(m,r-m+1)}a=Vb(a).substr(1);b=Vb(b).substr(1);a=c(a.split("/"));b=c(b.split("/"));for(var d=Math.min(a.length,b.length),e=d,g=0;g<d;g++)if(a[g]!==b[g]){e=g;break}d=[];for(g=e;g<a.length;g++)d.push("..");d=d.concat(b.slice(e));return d.join("/")}var Xb=[];function Yb(a,b){Xb[a]={input:[],output:[],Yf:b};N.dh(a,Zb)}\r\n     var Zb={open:function(a){var b=Xb[a.node.rdev];if(!b)throw new N.af(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.Yf.flush(a.tty)},flush:function(a){a.tty.Yf.flush(a.tty)},read:function(a,b,c,d){if(!a.tty||!a.tty.Yf.xh)throw new N.af(60);for(var e=0,g=0;g<d;g++){try{var k=a.tty.Yf.xh(a.tty)}catch(m){throw new N.af(29);}if(void 0===k&&0===e)throw new N.af(6);if(null===k||void 0===k)break;e++;b[c+g]=k}e&&(a.node.timestamp=Date.now());return e},write:function(a,b,c,d){if(!a.tty||!a.tty.Yf.Zg)throw new N.af(60);\r\n     try{for(var e=0;e<d;e++)a.tty.Yf.Zg(a.tty,b[c+e])}catch(g){throw new N.af(29);}d&&(a.node.timestamp=Date.now());return e}},ac={xh:function(a){if(!a.input.length){var b=null;if(l){var c=Buffer.Sf?Buffer.Sf(256):new Buffer(256),d=0;try{d=wa.readSync(process.stdin.fd,c,0,256,null)}catch(e){if(-1!=e.toString().indexOf("EOF"))d=0;else throw e;}0<d?b=c.slice(0,d).toString("utf-8"):b=null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\\n")):"function"==\r\n     typeof readline&&(b=readline(),null!==b&&(b+="\\n"));if(!b)return null;a.input=$b(b,!0)}return a.input.shift()},Zg:function(a,b){null===b||10===b?(ea(Ja(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(ea(Ja(a.output,0)),a.output=[])}},ec={Zg:function(a,b){null===b||10===b?(h(Ja(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(h(Ja(a.output,0)),a.output=[])}},O={Df:null,jf:function(){return O.createNode(null,\r\n     "/",16895,0)},createNode:function(a,b,c,d){if(N.si(c)||N.isFIFO(c))throw new N.af(63);O.Df||(O.Df={dir:{node:{Af:O.cf.Af,nf:O.cf.nf,lookup:O.cf.lookup,Ff:O.cf.Ff,rename:O.cf.rename,unlink:O.cf.unlink,rmdir:O.cf.rmdir,readdir:O.cf.readdir,symlink:O.cf.symlink},stream:{tf:O.df.tf}},file:{node:{Af:O.cf.Af,nf:O.cf.nf},stream:{tf:O.df.tf,read:O.df.read,write:O.df.write,fg:O.df.fg,Wf:O.df.Wf,Xf:O.df.Xf}},link:{node:{Af:O.cf.Af,nf:O.cf.nf,readlink:O.cf.readlink},stream:{}},lh:{node:{Af:O.cf.Af,nf:O.cf.nf},\r\n     stream:N.$h}});c=N.createNode(a,b,c,d);N.kf(c.mode)?(c.cf=O.Df.dir.node,c.df=O.Df.dir.stream,c.bf={}):N.isFile(c.mode)?(c.cf=O.Df.file.node,c.df=O.Df.file.stream,c.gf=0,c.bf=null):N.Mf(c.mode)?(c.cf=O.Df.link.node,c.df=O.Df.link.stream):N.hg(c.mode)&&(c.cf=O.Df.lh.node,c.df=O.Df.lh.stream);c.timestamp=Date.now();a&&(a.bf[b]=c);return c},gj:function(a){if(a.bf&&a.bf.subarray){for(var b=[],c=0;c<a.gf;++c)b.push(a.bf[c]);return b}return a.bf},hj:function(a){return a.bf?a.bf.subarray?a.bf.subarray(0,\r\n     a.gf):new Uint8Array(a.bf):new Uint8Array(0)},sh:function(a,b){var c=a.bf?a.bf.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)>>>0),0!=c&&(b=Math.max(b,256)),c=a.bf,a.bf=new Uint8Array(b),0<a.gf&&a.bf.set(c.subarray(0,a.gf),0))},Ji:function(a,b){if(a.gf!=b)if(0==b)a.bf=null,a.gf=0;else{if(!a.bf||a.bf.subarray){var c=a.bf;a.bf=new Uint8Array(b);c&&a.bf.set(c.subarray(0,Math.min(b,a.gf)))}else if(a.bf||(a.bf=[]),a.bf.length>b)a.bf.length=b;else for(;a.bf.length<b;)a.bf.push(0);a.gf=b}},cf:{Af:function(a){var b=\r\n     {};b.dev=N.hg(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;N.kf(a.mode)?b.size=4096:N.isFile(a.mode)?b.size=a.gf:N.Mf(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.Xh=4096;b.blocks=Math.ceil(b.size/b.Xh);return b},nf:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&O.Ji(a,b.size)},lookup:function(){throw N.Qg[44];},Ff:function(a,\r\n     b,c,d){return O.createNode(a,b,c,d)},rename:function(a,b,c){if(N.kf(a.mode)){try{var d=N.Bf(b,c)}catch(g){}if(d)for(var e in d.bf)throw new N.af(55);}delete a.parent.bf[a.name];a.name=c;b.bf[c]=a;a.parent=b},unlink:function(a,b){delete a.bf[b]},rmdir:function(a,b){var c=N.Bf(a,b),d;for(d in c.bf)throw new N.af(55);delete a.bf[b]},readdir:function(a){var b=[".",".."],c;for(c in a.bf)a.bf.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){a=O.createNode(a,b,41471,0);a.link=c;return a},readlink:function(a){if(!N.Mf(a.mode))throw new N.af(28);\r\n     return a.link}},df:{read:function(a,b,c,d,e){var g=a.node.bf;if(e>=a.node.gf)return 0;a=Math.min(a.node.gf-e,d);if(8<a&&g.subarray)b.set(g.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=g[e+d];return a},write:function(a,b,c,d,e,g){if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.bf||a.bf.subarray)){if(g)return a.bf=b.subarray(c,c+d),a.gf=d;if(0===a.gf&&0===e)return a.bf=b.slice(c,c+d),a.gf=d;if(e+d<=a.gf)return a.bf.set(b.subarray(c,c+d),e),d}O.sh(a,e+d);if(a.bf.subarray&&b.subarray)a.bf.set(b.subarray(c,\r\n     c+d),e);else for(g=0;g<d;g++)a.bf[e+g]=b[c+g];a.gf=Math.max(a.gf,e+d);return d},tf:function(a,b,c){1===c?b+=a.position:2===c&&N.isFile(a.node.mode)&&(b+=a.node.gf);if(0>b)throw new N.af(28);return b},fg:function(a,b,c){O.sh(a.node,b+c);a.node.gf=Math.max(a.node.gf,b+c)},Wf:function(a,b,c,d,e,g){assert(0===b);if(!N.isFile(a.node.mode))throw new N.af(43);a=a.node.bf;if(g&2||a.buffer!==qa){if(0<d||d+c<a.length)a.subarray?a=a.subarray(d,d+c):a=Array.prototype.slice.call(a,d,d+c);d=!0;g=16384*Math.ceil(c/\r\n     16384);for(b=Oa(g);c<g;)v[b+c++]=0;c=b;if(!c)throw new N.af(48);v.set(a,c)}else d=!1,c=a.byteOffset;return{Hi:c,Jg:d}},Xf:function(a,b,c,d,e){if(!N.isFile(a.node.mode))throw new N.af(43);if(e&2)return 0;O.df.write(a,b,0,d,c,!1);return 0}}},N={root:null,mg:[],ph:{},streams:[],Ai:1,Cf:null,oh:"/",Tg:!1,Bh:!0,mf:{},Mh:{Gh:{Rh:1,Sh:2}},af:null,Qg:{},ii:null,Cg:0,kj:function(a){if(!(a instanceof N.af)){a:{var b=Error();if(!b.stack){try{throw Error();}catch(c){b=c}if(!b.stack){b="(no stack trace available)";\r\n     break a}}b=b.stack.toString()}f.extraStackTrace&&(b+="\\n"+f.extraStackTrace());b=qb(b);throw a+" : "+b;}return Fb(a.ef)},ff:function(a,b){a=Vb(N.cwd(),a);b=b||{};if(!a)return{path:"",node:null};var c={Og:!0,ah:0},d;for(d in c)void 0===b[d]&&(b[d]=c[d]);if(8<b.ah)throw new N.af(32);a=Pb(a.split("/").filter(function(k){return!!k}),!1);var e=N.root;c="/";for(d=0;d<a.length;d++){var g=d===a.length-1;if(g&&b.parent)break;e=N.Bf(e,a[d]);c=Tb(c,a[d]);N.Nf(e)&&(!g||g&&b.Og)&&(e=e.lg.root);if(!g||b.wf)for(g=\r\n     0;N.Mf(e.mode);)if(e=N.readlink(c),c=Vb(Rb(c),e),e=N.ff(c,{ah:b.ah}).node,40<g++)throw new N.af(32);}return{path:c,node:e}},If:function(a){for(var b;;){if(N.wg(a))return a=a.jf.Eh,b?"/"!==a[a.length-1]?a+"/"+b:a+b:a;b=b?a.name+"/"+b:a.name;a=a.parent}},Sg:function(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%N.Cf.length},zh:function(a){var b=N.Sg(a.parent.id,a.name);a.Pf=N.Cf[b];N.Cf[b]=a},Ah:function(a){var b=N.Sg(a.parent.id,a.name);if(N.Cf[b]===a)N.Cf[b]=a.Pf;\r\n     else for(b=N.Cf[b];b;){if(b.Pf===a){b.Pf=a.Pf;break}b=b.Pf}},Bf:function(a,b){var c=N.yi(a);if(c)throw new N.af(c,a);for(c=N.Cf[N.Sg(a.id,b)];c;c=c.Pf){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return N.lookup(a,b)},createNode:function(a,b,c,d){a=new N.Oh(a,b,c,d);N.zh(a);return a},Ng:function(a){N.Ah(a)},wg:function(a){return a===a.parent},Nf:function(a){return!!a.lg},isFile:function(a){return 32768===(a&61440)},kf:function(a){return 16384===(a&61440)},Mf:function(a){return 40960===(a&61440)},\r\n     hg:function(a){return 8192===(a&61440)},si:function(a){return 24576===(a&61440)},isFIFO:function(a){return 4096===(a&61440)},isSocket:function(a){return 49152===(a&49152)},ji:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},Dh:function(a){var b=N.ji[a];if("undefined"===typeof b)throw Error("Unknown file open mode: "+a);return b},th:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},Jf:function(a,b){if(N.Bh)return 0;\r\n     if(-1===b.indexOf("r")||a.mode&292){if(-1!==b.indexOf("w")&&!(a.mode&146)||-1!==b.indexOf("x")&&!(a.mode&73))return 2}else return 2;return 0},yi:function(a){var b=N.Jf(a,"x");return b?b:a.cf.lookup?0:2},Yg:function(a,b){try{return N.Bf(a,b),20}catch(c){}return N.Jf(a,"wx")},xg:function(a,b,c){try{var d=N.Bf(a,b)}catch(e){return e.ef}if(a=N.Jf(a,"wx"))return a;if(c){if(!N.kf(d.mode))return 54;if(N.wg(d)||N.If(d)===N.cwd())return 10}else if(N.kf(d.mode))return 31;return 0},zi:function(a,b){return a?\r\n     N.Mf(a.mode)?32:N.kf(a.mode)&&("r"!==N.th(b)||b&512)?31:N.Jf(a,N.th(b)):44},Qh:4096,Bi:function(a,b){b=b||N.Qh;for(a=a||0;a<=b;a++)if(!N.streams[a])return a;throw new N.af(33);},zf:function(a){return N.streams[a]},nh:function(a,b,c){N.Hg||(N.Hg=function(){},N.Hg.prototype={object:{get:function(){return this.node},set:function(g){this.node=g}}});var d=new N.Hg,e;for(e in a)d[e]=a[e];a=d;b=N.Bi(b,c);a.fd=b;return N.streams[b]=a},ai:function(a){N.streams[a]=null},$h:{open:function(a){a.df=N.ki(a.node.rdev).df;\r\n     a.df.open&&a.df.open(a)},tf:function(){throw new N.af(70);}},Wg:function(a){return a>>8},oj:function(a){return a&255},Of:function(a,b){return a<<8|b},dh:function(a,b){N.ph[a]={df:b}},ki:function(a){return N.ph[a]},wh:function(a){var b=[];for(a=[a];a.length;){var c=a.pop();b.push(c);a.push.apply(a,c.mg)}return b},Kh:function(a,b){function c(k){N.Cg--;return b(k)}function d(k){if(k){if(!d.gi)return d.gi=!0,c(k)}else++g>=e.length&&c(null)}"function"===typeof a&&(b=a,a=!1);N.Cg++;1<N.Cg&&h("warning: "+\r\n     N.Cg+" FS.syncfs operations in flight at once, probably just doing extra work");var e=N.wh(N.root.jf),g=0;e.forEach(function(k){if(!k.type.Kh)return d(null);k.type.Kh(k,a,d)})},jf:function(a,b,c){var d="/"===c,e=!c;if(d&&N.root)throw new N.af(10);if(!d&&!e){var g=N.ff(c,{Og:!1});c=g.path;g=g.node;if(N.Nf(g))throw new N.af(10);if(!N.kf(g.mode))throw new N.af(54);}b={type:a,tj:b,Eh:c,mg:[]};a=a.jf(b);a.jf=b;b.root=a;d?N.root=a:g&&(g.lg=b,g.jf&&g.jf.mg.push(b));return a},zj:function(a){a=N.ff(a,{Og:!1});\r\n     if(!N.Nf(a.node))throw new N.af(28);a=a.node;var b=a.lg,c=N.wh(b);Object.keys(N.Cf).forEach(function(d){for(d=N.Cf[d];d;){var e=d.Pf;-1!==c.indexOf(d.jf)&&N.Ng(d);d=e}});a.lg=null;a.jf.mg.splice(a.jf.mg.indexOf(b),1)},lookup:function(a,b){return a.cf.lookup(a,b)},Ff:function(a,b,c){var d=N.ff(a,{parent:!0}).node;a=Sb(a);if(!a||"."===a||".."===a)throw new N.af(28);var e=N.Yg(d,a);if(e)throw new N.af(e);if(!d.cf.Ff)throw new N.af(63);return d.cf.Ff(d,a,b,c)},create:function(a,b){return N.Ff(a,(void 0!==\r\n     b?b:438)&4095|32768,0)},mkdir:function(a,b){return N.Ff(a,(void 0!==b?b:511)&1023|16384,0)},qj:function(a,b){a=a.split("/");for(var c="",d=0;d<a.length;++d)if(a[d]){c+="/"+a[d];try{N.mkdir(c,b)}catch(e){if(20!=e.ef)throw e;}}},yg:function(a,b,c){"undefined"===typeof c&&(c=b,b=438);return N.Ff(a,b|8192,c)},symlink:function(a,b){if(!Vb(a))throw new N.af(44);var c=N.ff(b,{parent:!0}).node;if(!c)throw new N.af(44);b=Sb(b);var d=N.Yg(c,b);if(d)throw new N.af(d);if(!c.cf.symlink)throw new N.af(63);return c.cf.symlink(c,\r\n     b,a)},rename:function(a,b){var c=Rb(a),d=Rb(b),e=Sb(a),g=Sb(b);var k=N.ff(a,{parent:!0});var m=k.node;k=N.ff(b,{parent:!0});k=k.node;if(!m||!k)throw new N.af(44);if(m.jf!==k.jf)throw new N.af(75);var r=N.Bf(m,e);d=Wb(a,d);if("."!==d.charAt(0))throw new N.af(28);d=Wb(b,c);if("."!==d.charAt(0))throw new N.af(55);try{var q=N.Bf(k,g)}catch(t){}if(r!==q){c=N.kf(r.mode);if(e=N.xg(m,e,c))throw new N.af(e);if(e=q?N.xg(k,g,c):N.Yg(k,g))throw new N.af(e);if(!m.cf.rename)throw new N.af(63);if(N.Nf(r)||q&&N.Nf(q))throw new N.af(10);\r\n     if(k!==m&&(e=N.Jf(m,"w")))throw new N.af(e);try{N.mf.willMovePath&&N.mf.willMovePath(a,b)}catch(t){h("FS.trackingDelegate[\'willMovePath\'](\'"+a+"\', \'"+b+"\') threw an exception: "+t.message)}N.Ah(r);try{m.cf.rename(r,k,g)}catch(t){throw t;}finally{N.zh(r)}try{if(N.mf.onMovePath)N.mf.onMovePath(a,b)}catch(t){h("FS.trackingDelegate[\'onMovePath\'](\'"+a+"\', \'"+b+"\') threw an exception: "+t.message)}}},rmdir:function(a){var b=N.ff(a,{parent:!0}).node,c=Sb(a),d=N.Bf(b,c),e=N.xg(b,c,!0);if(e)throw new N.af(e);\r\n     if(!b.cf.rmdir)throw new N.af(63);if(N.Nf(d))throw new N.af(10);try{N.mf.willDeletePath&&N.mf.willDeletePath(a)}catch(g){h("FS.trackingDelegate[\'willDeletePath\'](\'"+a+"\') threw an exception: "+g.message)}b.cf.rmdir(b,c);N.Ng(d);try{if(N.mf.onDeletePath)N.mf.onDeletePath(a)}catch(g){h("FS.trackingDelegate[\'onDeletePath\'](\'"+a+"\') threw an exception: "+g.message)}},readdir:function(a){a=N.ff(a,{wf:!0}).node;if(!a.cf.readdir)throw new N.af(54);return a.cf.readdir(a)},unlink:function(a){var b=N.ff(a,\r\n     {parent:!0}).node,c=Sb(a),d=N.Bf(b,c),e=N.xg(b,c,!1);if(e)throw new N.af(e);if(!b.cf.unlink)throw new N.af(63);if(N.Nf(d))throw new N.af(10);try{N.mf.willDeletePath&&N.mf.willDeletePath(a)}catch(g){h("FS.trackingDelegate[\'willDeletePath\'](\'"+a+"\') threw an exception: "+g.message)}b.cf.unlink(b,c);N.Ng(d);try{if(N.mf.onDeletePath)N.mf.onDeletePath(a)}catch(g){h("FS.trackingDelegate[\'onDeletePath\'](\'"+a+"\') threw an exception: "+g.message)}},readlink:function(a){a=N.ff(a).node;if(!a)throw new N.af(44);\r\n     if(!a.cf.readlink)throw new N.af(28);return Vb(N.If(a.parent),a.cf.readlink(a))},stat:function(a,b){a=N.ff(a,{wf:!b}).node;if(!a)throw new N.af(44);if(!a.cf.Af)throw new N.af(63);return a.cf.Af(a)},lstat:function(a){return N.stat(a,!0)},chmod:function(a,b,c){var d;"string"===typeof a?d=N.ff(a,{wf:!c}).node:d=a;if(!d.cf.nf)throw new N.af(63);d.cf.nf(d,{mode:b&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){N.chmod(a,b,!0)},fchmod:function(a,b){a=N.zf(a);if(!a)throw new N.af(8);N.chmod(a.node,\r\n     b)},chown:function(a,b,c,d){var e;"string"===typeof a?e=N.ff(a,{wf:!d}).node:e=a;if(!e.cf.nf)throw new N.af(63);e.cf.nf(e,{timestamp:Date.now()})},lchown:function(a,b,c){N.chown(a,b,c,!0)},fchown:function(a,b,c){a=N.zf(a);if(!a)throw new N.af(8);N.chown(a.node,b,c)},truncate:function(a,b){if(0>b)throw new N.af(28);var c;"string"===typeof a?c=N.ff(a,{wf:!0}).node:c=a;if(!c.cf.nf)throw new N.af(63);if(N.kf(c.mode))throw new N.af(31);if(!N.isFile(c.mode))throw new N.af(28);if(a=N.Jf(c,"w"))throw new N.af(a);\r\n     c.cf.nf(c,{size:b,timestamp:Date.now()})},fj:function(a,b){a=N.zf(a);if(!a)throw new N.af(8);if(0===(a.flags&2097155))throw new N.af(28);N.truncate(a.node,b)},Aj:function(a,b,c){a=N.ff(a,{wf:!0}).node;a.cf.nf(a,{timestamp:Math.max(b,c)})},open:function(a,b,c,d,e){if(""===a)throw new N.af(44);b="string"===typeof b?N.Dh(b):b;c=b&64?("undefined"===typeof c?438:c)&4095|32768:0;if("object"===typeof a)var g=a;else{a=Qb(a);try{g=N.ff(a,{wf:!(b&131072)}).node}catch(m){}}var k=!1;if(b&64)if(g){if(b&128)throw new N.af(20);\r\n     }else g=N.Ff(a,c,0),k=!0;if(!g)throw new N.af(44);N.hg(g.mode)&&(b&=-513);if(b&65536&&!N.kf(g.mode))throw new N.af(54);if(!k&&(c=N.zi(g,b)))throw new N.af(c);b&512&&N.truncate(g,0);b&=-131713;d=N.nh({node:g,path:N.If(g),flags:b,seekable:!0,position:0,df:g.df,Wi:[],error:!1},d,e);d.df.open&&d.df.open(d);!f.logReadFiles||b&1||(N.$g||(N.$g={}),a in N.$g||(N.$g[a]=1,h("FS.trackingDelegate error on read file: "+a)));try{N.mf.onOpenFile&&(e=0,1!==(b&2097155)&&(e|=N.Mh.Gh.Rh),0!==(b&2097155)&&(e|=N.Mh.Gh.Sh),\r\n     N.mf.onOpenFile(a,e))}catch(m){h("FS.trackingDelegate[\'onOpenFile\'](\'"+a+"\', flags) threw an exception: "+m.message)}return d},close:function(a){if(N.ig(a))throw new N.af(8);a.Lf&&(a.Lf=null);try{a.df.close&&a.df.close(a)}catch(b){throw b;}finally{N.ai(a.fd)}a.fd=null},ig:function(a){return null===a.fd},tf:function(a,b,c){if(N.ig(a))throw new N.af(8);if(!a.seekable||!a.df.tf)throw new N.af(70);if(0!=c&&1!=c&&2!=c)throw new N.af(28);a.position=a.df.tf(a,b,c);a.Wi=[];return a.position},read:function(a,\r\n     b,c,d,e){if(0>d||0>e)throw new N.af(28);if(N.ig(a))throw new N.af(8);if(1===(a.flags&2097155))throw new N.af(8);if(N.kf(a.node.mode))throw new N.af(31);if(!a.df.read)throw new N.af(28);var g="undefined"!==typeof e;if(!g)e=a.position;else if(!a.seekable)throw new N.af(70);b=a.df.read(a,b,c,d,e);g||(a.position+=b);return b},write:function(a,b,c,d,e,g){if(0>d||0>e)throw new N.af(28);if(N.ig(a))throw new N.af(8);if(0===(a.flags&2097155))throw new N.af(8);if(N.kf(a.node.mode))throw new N.af(31);if(!a.df.write)throw new N.af(28);\r\n     a.seekable&&a.flags&1024&&N.tf(a,0,2);var k="undefined"!==typeof e;if(!k)e=a.position;else if(!a.seekable)throw new N.af(70);b=a.df.write(a,b,c,d,e,g);k||(a.position+=b);try{if(a.path&&N.mf.onWriteToFile)N.mf.onWriteToFile(a.path)}catch(m){h("FS.trackingDelegate[\'onWriteToFile\'](\'"+a.path+"\') threw an exception: "+m.message)}return b},fg:function(a,b,c){if(N.ig(a))throw new N.af(8);if(0>b||0>=c)throw new N.af(28);if(0===(a.flags&2097155))throw new N.af(8);if(!N.isFile(a.node.mode)&&!N.kf(a.node.mode))throw new N.af(43);\r\n     if(!a.df.fg)throw new N.af(138);a.df.fg(a,b,c)},Wf:function(a,b,c,d,e,g){if(0!==(e&2)&&0===(g&2)&&2!==(a.flags&2097155))throw new N.af(2);if(1===(a.flags&2097155))throw new N.af(2);if(!a.df.Wf)throw new N.af(43);return a.df.Wf(a,b,c,d,e,g)},Xf:function(a,b,c,d,e){return a&&a.df.Xf?a.df.Xf(a,b,c,d,e):0},sj:function(){return 0},Uf:function(a,b,c){if(!a.df.Uf)throw new N.af(59);return a.df.Uf(a,b,c)},readFile:function(a,b){b=b||{};b.flags=b.flags||"r";b.encoding=b.encoding||"binary";if("utf8"!==b.encoding&&\r\n     "binary"!==b.encoding)throw Error(\'Invalid encoding type "\'+b.encoding+\'"\');var c,d=N.open(a,b.flags);a=N.stat(a).size;var e=new Uint8Array(a);N.read(d,e,0,a,0);"utf8"===b.encoding?c=Ja(e,0):"binary"===b.encoding&&(c=e);N.close(d);return c},writeFile:function(a,b,c){c=c||{};c.flags=c.flags||"w";a=N.open(a,c.flags,c.mode);if("string"===typeof b){var d=new Uint8Array(Ma(b)+1);b=La(b,d,0,d.length);N.write(a,d,0,b,void 0,c.Zh)}else if(ArrayBuffer.isView(b))N.write(a,b,0,b.byteLength,void 0,c.Zh);else throw Error("Unsupported data type");\r\n     N.close(a)},cwd:function(){return N.oh},chdir:function(a){a=N.ff(a,{wf:!0});if(null===a.node)throw new N.af(44);if(!N.kf(a.node.mode))throw new N.af(54);var b=N.Jf(a.node,"x");if(b)throw new N.af(b);N.oh=a.path},ci:function(){N.mkdir("/tmp");N.mkdir("/home");N.mkdir("/home/web_user")},bi:function(){N.mkdir("/dev");N.dh(N.Of(1,3),{read:function(){return 0},write:function(b,c,d,e){return e}});N.yg("/dev/null",N.Of(1,3));Yb(N.Of(5,0),ac);Yb(N.Of(6,0),ec);N.yg("/dev/tty",N.Of(5,0));N.yg("/dev/tty1",N.Of(6,\r\n     0));var a=Ub();N.Hf("/dev","random",a);N.Hf("/dev","urandom",a);N.mkdir("/dev/shm");N.mkdir("/dev/shm/tmp")},ei:function(){N.mkdir("/proc");N.mkdir("/proc/self");N.mkdir("/proc/self/fd");N.jf({jf:function(){var a=N.createNode("/proc/self","fd",16895,73);a.cf={lookup:function(b,c){var d=N.zf(+c);if(!d)throw new N.af(8);b={parent:null,jf:{Eh:"fake"},cf:{readlink:function(){return d.path}}};return b.parent=b}};return a}},{},"/proc/self/fd")},fi:function(){f.stdin?N.Hf("/dev","stdin",f.stdin):N.symlink("/dev/tty",\r\n     "/dev/stdin");f.stdout?N.Hf("/dev","stdout",null,f.stdout):N.symlink("/dev/tty","/dev/stdout");f.stderr?N.Hf("/dev","stderr",null,f.stderr):N.symlink("/dev/tty1","/dev/stderr");N.open("/dev/stdin","r");N.open("/dev/stdout","w");N.open("/dev/stderr","w")},rh:function(){N.af||(N.af=function(a,b){this.node=b;this.Ki=function(c){this.ef=c};this.Ki(a);this.message="FS error"},N.af.prototype=Error(),N.af.prototype.constructor=N.af,[44].forEach(function(a){N.Qg[a]=new N.af(a);N.Qg[a].stack="<generic error, no stack>"}))},\r\n     Ni:function(){N.rh();N.Cf=Array(4096);N.jf(O,{},"/");N.ci();N.bi();N.ei();N.ii={MEMFS:O}},gg:function(a,b,c){N.gg.Tg=!0;N.rh();f.stdin=a||f.stdin;f.stdout=b||f.stdout;f.stderr=c||f.stderr;N.fi()},quit:function(){N.gg.Tg=!1;var a=f._fflush;a&&a(0);for(a=0;a<N.streams.length;a++){var b=N.streams[a];b&&N.close(b)}},Rg:function(a,b){var c=0;a&&(c|=365);b&&(c|=146);return c},ej:function(a,b){a=N.Lg(a,b);if(a.exists)return a.object;Fb(a.error);return null},Lg:function(a,b){try{var c=N.ff(a,{wf:!b});a=c.path}catch(e){}var d=\r\n     {wg:!1,exists:!1,error:0,name:null,path:null,object:null,Ci:!1,Ei:null,Di:null};try{c=N.ff(a,{parent:!0}),d.Ci=!0,d.Ei=c.path,d.Di=c.node,d.name=Sb(a),c=N.ff(a,{wf:!b}),d.exists=!0,d.path=c.path,d.object=c.node,d.name=c.node.name,d.wg="/"===c.path}catch(e){d.error=e.ef}return d},cj:function(a,b){a="string"===typeof a?a:N.If(a);for(b=b.split("/").reverse();b.length;){var c=b.pop();if(c){var d=Tb(a,c);try{N.mkdir(d)}catch(e){}a=d}}return d},di:function(a,b,c,d,e){a=Tb("string"===typeof a?a:N.If(a),\r\n     b);return N.create(a,N.Rg(d,e))},mh:function(a,b,c,d,e,g){a=b?Tb("string"===typeof a?a:N.If(a),b):a;d=N.Rg(d,e);e=N.create(a,d);if(c){if("string"===typeof c){a=Array(c.length);b=0;for(var k=c.length;b<k;++b)a[b]=c.charCodeAt(b);c=a}N.chmod(e,d|146);a=N.open(e,"w");N.write(a,c,0,c.length,0,g);N.close(a);N.chmod(e,d)}return e},Hf:function(a,b,c,d){a=Tb("string"===typeof a?a:N.If(a),b);b=N.Rg(!!c,!!d);N.Hf.Wg||(N.Hf.Wg=64);var e=N.Of(N.Hf.Wg++,0);N.dh(e,{open:function(g){g.seekable=!1},close:function(){d&&\r\n     d.buffer&&d.buffer.length&&d(10)},read:function(g,k,m,r){for(var q=0,t=0;t<r;t++){try{var w=c()}catch(B){throw new N.af(29);}if(void 0===w&&0===q)throw new N.af(6);if(null===w||void 0===w)break;q++;k[m+t]=w}q&&(g.node.timestamp=Date.now());return q},write:function(g,k,m,r){for(var q=0;q<r;q++)try{d(k[m+q])}catch(t){throw new N.af(29);}r&&(g.node.timestamp=Date.now());return q}});return N.yg(a,b,e)},uh:function(a){if(a.Ug||a.ti||a.link||a.bf)return!0;var b=!0;if("undefined"!==typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");\r\n     if(ta)try{a.bf=$b(ta(a.url),!0),a.gf=a.bf.length}catch(c){b=!1}else throw Error("Cannot load without read() or XMLHttpRequest.");b||Fb(29);return b},bj:function(a,b,c,d,e){function g(){this.Vg=!1;this.Sf=[]}g.prototype.get=function(q){if(!(q>this.length-1||0>q)){var t=q%this.chunkSize;return this.yh(q/this.chunkSize|0)[t]}};g.prototype.Wh=function(q){this.yh=q};g.prototype.kh=function(){var q=new XMLHttpRequest;q.open("HEAD",c,!1);q.send(null);if(!(200<=q.status&&300>q.status||304===q.status))throw Error("Couldn\'t load "+\r\n     c+". Status: "+q.status);var t=Number(q.getResponseHeader("Content-length")),w,B=(w=q.getResponseHeader("Accept-Ranges"))&&"bytes"===w;q=(w=q.getResponseHeader("Content-Encoding"))&&"gzip"===w;var p=1048576;B||(p=t);var x=this;x.Wh(function(z){var I=z*p,V=(z+1)*p-1;V=Math.min(V,t-1);if("undefined"===typeof x.Sf[z]){var fb=x.Sf;if(I>V)throw Error("invalid range ("+I+", "+V+") or no bytes requested!");if(V>t-1)throw Error("only "+t+" bytes available! programmer error!");var K=new XMLHttpRequest;K.open("GET",\r\n     c,!1);t!==p&&K.setRequestHeader("Range","bytes="+I+"-"+V);"undefined"!=typeof Uint8Array&&(K.responseType="arraybuffer");K.overrideMimeType&&K.overrideMimeType("text/plain; charset=x-user-defined");K.send(null);if(!(200<=K.status&&300>K.status||304===K.status))throw Error("Couldn\'t load "+c+". Status: "+K.status);I=void 0!==K.response?new Uint8Array(K.response||[]):$b(K.responseText||"",!0);fb[z]=I}if("undefined"===typeof x.Sf[z])throw Error("doXHR failed!");return x.Sf[z]});if(q||!t)p=t=1,p=t=this.yh(0).length,\r\n     ea("LazyFiles on gzip forces download of the whole file when length is accessed");this.Uh=t;this.Th=p;this.Vg=!0};if("undefined"!==typeof XMLHttpRequest){if(!oa)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var k=new g;Object.defineProperties(k,{length:{get:function(){this.Vg||this.kh();return this.Uh}},chunkSize:{get:function(){this.Vg||this.kh();return this.Th}}});k={Ug:!1,bf:k}}else k={Ug:!1,url:c};var m=N.di(a,b,k,d,\r\n     e);k.bf?m.bf=k.bf:k.url&&(m.bf=null,m.url=k.url);Object.defineProperties(m,{gf:{get:function(){return this.bf.length}}});var r={};Object.keys(m.df).forEach(function(q){var t=m.df[q];r[q]=function(){if(!N.uh(m))throw new N.af(29);return t.apply(null,arguments)}});r.read=function(q,t,w,B,p){if(!N.uh(m))throw new N.af(29);q=q.node.bf;if(p>=q.length)return 0;B=Math.min(q.length-p,B);if(q.slice)for(var x=0;x<B;x++)t[w+x]=q[p+x];else for(x=0;x<B;x++)t[w+x]=q.get(p+x);return B};m.df=r;return m},dj:function(a,\r\n     b,c,d,e,g,k,m,r,q){function t(B){function p(z){q&&q();m||N.mh(a,b,z,d,e,r);g&&g();hb()}var x=!1;f.preloadPlugins.forEach(function(z){!x&&z.canHandle(w)&&(z.handle(B,w,p,function(){k&&k();hb()}),x=!0)});x||p(B)}fc.gg();var w=b?Vb(Tb(a,b)):a;gb();"string"==typeof c?fc.Xi(c,function(B){t(B)},k):t(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},gh:function(){return"EM_FS_"+window.location.pathname},hh:20,eg:"FILE_DATA",wj:function(a,b,\r\n     c){b=b||function(){};c=c||function(){};var d=N.indexedDB();try{var e=d.open(N.gh(),N.hh)}catch(g){return c(g)}e.onupgradeneeded=function(){ea("creating db");e.result.createObjectStore(N.eg)};e.onsuccess=function(){var g=e.result.transaction([N.eg],"readwrite"),k=g.objectStore(N.eg),m=0,r=0,q=a.length;a.forEach(function(t){t=k.put(N.Lg(t).object.bf,t);t.onsuccess=function(){m++;m+r==q&&(0==r?b():c())};t.onerror=function(){r++;m+r==q&&(0==r?b():c())}});g.onerror=c};e.onerror=c},mj:function(a,b,c){b=\r\n     b||function(){};c=c||function(){};var d=N.indexedDB();try{var e=d.open(N.gh(),N.hh)}catch(g){return c(g)}e.onupgradeneeded=c;e.onsuccess=function(){var g=e.result;try{var k=g.transaction([N.eg],"readonly")}catch(w){c(w);return}var m=k.objectStore(N.eg),r=0,q=0,t=a.length;a.forEach(function(w){var B=m.get(w);B.onsuccess=function(){N.Lg(w).exists&&N.unlink(w);N.mh(Rb(w),Sb(w),B.result,!0,!0,!0);r++;r+q==t&&(0==q?b():c())};B.onerror=function(){q++;r+q==t&&(0==q?b():c())}});k.onerror=c};e.onerror=c}},\r\n     hc={};\r\n     function ic(a,b,c){try{var d=a(b)}catch(e){if(e&&e.node&&Qb(b)!==Qb(N.If(e.node)))return-54;throw e;}D[c>>2]=d.dev;D[c+4>>2]=0;D[c+8>>2]=d.ino;D[c+12>>2]=d.mode;D[c+16>>2]=d.nlink;D[c+20>>2]=d.uid;D[c+24>>2]=d.gid;D[c+28>>2]=d.rdev;D[c+32>>2]=0;J=[d.size>>>0,(H=d.size,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[c+40>>2]=J[0];D[c+44>>2]=J[1];D[c+48>>2]=4096;D[c+52>>2]=d.blocks;D[c+56>>2]=d.atime.getTime()/1E3|0;D[c+60>>\r\n     2]=0;D[c+64>>2]=d.mtime.getTime()/1E3|0;D[c+68>>2]=0;D[c+72>>2]=d.ctime.getTime()/1E3|0;D[c+76>>2]=0;J=[d.ino>>>0,(H=d.ino,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[c+80>>2]=J[0];D[c+84>>2]=J[1];return 0}var jc=void 0;function P(){jc+=4;return D[jc-4>>2]}function kc(a){a=N.zf(a);if(!a)throw new N.af(8);return a}\r\n     function lc(a,b,c,d,e){if(n)return M(3,1,a,b,c,d,e);try{e=0;for(var g=b?D[b>>2]:0,k=b?D[b+4>>2]:0,m=c?D[c>>2]:0,r=c?D[c+4>>2]:0,q=d?D[d>>2]:0,t=d?D[d+4>>2]:0,w=0,B=0,p=0,x=0,z=0,I=0,V=(b?D[b>>2]:0)|(c?D[c>>2]:0)|(d?D[d>>2]:0),fb=(b?D[b+4>>2]:0)|(c?D[c+4>>2]:0)|(d?D[d+4>>2]:0),K=0;K<a;K++){var X=1<<K%32;if(32>K?V&X:fb&X){var ha=N.zf(K);if(!ha)throw new N.af(8);var na=5;ha.df.Zf&&(na=ha.df.Zf(ha));na&1&&(32>K?g&X:k&X)&&(32>K?w|=X:B|=X,e++);na&4&&(32>K?m&X:r&X)&&(32>K?p|=X:x|=X,e++);na&2&&(32>K?q&X:\r\n     t&X)&&(32>K?z|=X:I|=X,e++)}}b&&(D[b>>2]=w,D[b+4>>2]=B);c&&(D[c>>2]=p,D[c+4>>2]=x);d&&(D[d>>2]=z,D[d+4>>2]=I);return e}catch(ua){return"undefined"!==typeof N&&ua instanceof N.af||u(ua),-ua.ef}}function mc(a,b){if(n)return M(4,1,a,b);try{a=A(a);if(b&-8)var c=-28;else{var d;(d=N.ff(a,{wf:!0}).node)?(a="",b&4&&(a+="r"),b&2&&(a+="w"),b&1&&(a+="x"),c=a&&N.Jf(d,a)?-2:0):c=-44}return c}catch(e){return"undefined"!==typeof N&&e instanceof N.af||u(e),-e.ef}}\r\n     function nc(a,b,c){if(n)return M(5,1,a,b,c);jc=c;try{var d=kc(a);switch(b){case 0:var e=P();return 0>e?-28:N.open(d.path,d.flags,0,e).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return e=P(),d.flags|=e,0;case 12:return e=P(),Sa[e+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Fb(28),-1;default:return-28}}catch(g){return"undefined"!==typeof N&&g instanceof N.af||u(g),-g.ef}}\r\n     function oc(a,b){if(n)return M(6,1,a,b);try{var c=kc(a);return ic(N.stat,c.path,b)}catch(d){return"undefined"!==typeof N&&d instanceof N.af||u(d),-d.ef}}\r\n     function pc(a,b,c){if(n)return M(7,1,a,b,c);try{var d=kc(a);d.Lf||(d.Lf=N.readdir(d.path));a=0;for(var e=N.tf(d,0,1),g=Math.floor(e/280);g<d.Lf.length&&a+280<=c;){var k=d.Lf[g];if("."===k[0]){var m=1;var r=4}else{var q=N.Bf(d.node,k);m=q.id;r=N.hg(q.mode)?2:N.kf(q.mode)?4:N.Mf(q.mode)?10:8}J=[m>>>0,(H=m,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[b+a>>2]=J[0];D[b+a+4>>2]=J[1];J=[280*(g+1)>>>0,(H=280*(g+1),1<=+Math.abs(H)?\r\n     0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[b+a+8>>2]=J[0];D[b+a+12>>2]=J[1];Sa[b+a+16>>1]=280;v[b+a+18>>0]=r;Ia(k,b+a+19,256);a+=280;g+=1}N.tf(d,280*g,0);return a}catch(t){return"undefined"!==typeof N&&t instanceof N.af||u(t),-t.ef}}function qc(a,b){if(n)return M(8,1,a,b);try{return rc(b,0,136),D[b>>2]=1,D[b+4>>2]=2,D[b+8>>2]=3,D[b+12>>2]=4,0}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}}\r\n     function sc(a,b,c){if(n)return M(9,1,a,b,c);jc=c;try{var d=kc(a);switch(b){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:if(!d.tty)return-59;var e=P();return D[e>>2]=0;case 21520:return d.tty?-28:-59;case 21531:return e=P(),N.Uf(d,b,e);case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:u("bad ioctl syscall "+b)}}catch(g){return"undefined"!==typeof N&&g instanceof N.af||u(g),-g.ef}}\r\n     function tc(a,b){if(n)return M(10,1,a,b);try{return a=A(a),ic(N.lstat,a,b)}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}}function uc(a,b){if(n)return M(11,1,a,b);try{return a=A(a),a=Qb(a),"/"===a[a.length-1]&&(a=a.substr(0,a.length-1)),N.mkdir(a,b,0),0}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}}\r\n     function vc(a,b,c,d,e,g){if(n)return M(12,1,a,b,c,d,e,g);try{a:{g<<=12;var k=!1;if(0!==(d&16)&&0!==a%16384)var m=-28;else{if(0!==(d&32)){var r=wc(16384,b);if(!r){m=-48;break a}rc(r,0,b);k=!0}else{var q=N.zf(e);if(!q){m=-8;break a}var t=N.Wf(q,a,b,g,c,d);r=t.Hi;k=t.Jg}hc[r]={xi:r,ui:b,Jg:k,fd:e,Gi:c,flags:d,offset:g};m=r}}return m}catch(w){return"undefined"!==typeof N&&w instanceof N.af||u(w),-w.ef}}\r\n     function xc(a,b){if(n)return M(13,1,a,b);try{if(-1===(a|0)||0===b)var c=-28;else{var d=hc[a];if(d&&b===d.ui){var e=N.zf(d.fd);if(d.Gi&2){var g=d.flags,k=d.offset,m=Ka.slice(a,a+b);N.Xf(e,m,k,b,g)}hc[a]=null;d.Jg&&Bb(d.xi)}c=0}return c}catch(r){return"undefined"!==typeof N&&r instanceof N.af||u(r),-r.ef}}function yc(a,b,c){if(n)return M(14,1,a,b,c);jc=c;try{var d=A(a),e=P();return N.open(d,b,e).fd}catch(g){return"undefined"!==typeof N&&g instanceof N.af||u(g),-g.ef}}\r\n     function zc(a,b,c){if(n)return M(15,1,a,b,c);try{for(var d=c=0;d<b;d++){var e=a+8*d,g=Sa[e+4>>1],k=32,m=N.zf(D[e>>2]);m&&(k=5,m.df.Zf&&(k=m.df.Zf(m)));(k&=g|24)&&c++;Sa[e+6>>1]=k}return c}catch(r){return"undefined"!==typeof N&&r instanceof N.af||u(r),-r.ef}}function Ac(a,b,c,d){if(n)return M(16,1,a,b,c,d);try{return d&&(D[d>>2]=-1,D[d+4>>2]=-1,D[d+8>>2]=-1,D[d+12>>2]=-1),0}catch(e){return"undefined"!==typeof N&&e instanceof N.af||u(e),-e.ef}}\r\n     function Bc(a,b,c){if(n)return M(17,1,a,b,c);try{var d=kc(a);return N.read(d,v,b,c)}catch(e){return"undefined"!==typeof N&&e instanceof N.af||u(e),-e.ef}}function Cc(a,b){if(n)return M(18,1,a,b);try{return a=A(a),b=A(b),N.rename(a,b),0}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}}function Dc(a){if(n)return M(19,1,a);try{return a=A(a),N.rmdir(a),0}catch(b){return"undefined"!==typeof N&&b instanceof N.af||u(b),-b.ef}}\r\n     var Q={jf:function(){f.websocket=f.websocket&&"object"===typeof f.websocket?f.websocket:{};f.websocket.Ig={};f.websocket.on=function(a,b){"function"===typeof b&&(this.Ig[a]=b);return this};f.websocket.emit=function(a,b){"function"===typeof this.Ig[a]&&this.Ig[a].call(this,b)};return N.createNode(null,"/",16895,0)},createSocket:function(a,b,c){b&=-526337;c&&assert(1==b==(6==c));a={family:a,type:b,protocol:c,lf:null,error:null,ng:{},pending:[],ag:[],pf:Q.qf};b=Q.zg();c=N.createNode(Q.root,b,49152,0);\r\n     c.bg=a;b=N.nh({path:b,node:c,flags:N.Dh("r+"),seekable:!1,df:Q.df});a.stream=b;return a},mi:function(a){return(a=N.zf(a))&&N.isSocket(a.node.mode)?a.node.bg:null},df:{Zf:function(a){a=a.node.bg;return a.pf.Zf(a)},Uf:function(a,b,c){a=a.node.bg;return a.pf.Uf(a,b,c)},read:function(a,b,c,d){a=a.node.bg;d=a.pf.bh(a,d);if(!d)return 0;b.set(d.buffer,c);return d.buffer.length},write:function(a,b,c,d){a=a.node.bg;return a.pf.fh(a,b,c,d)},close:function(a){a=a.node.bg;a.pf.close(a)}},zg:function(){Q.zg.current||\r\n     (Q.zg.current=0);return"socket["+Q.zg.current++ +"]"},qf:{tg:function(a,b,c){if("object"===typeof b){var d=b;c=b=null}if(d)if(d._socket)b=d._socket.remoteAddress,c=d._socket.remotePort;else{c=/ws[s]?:\\/\\/([^:]+):(\\d+)/.exec(d.url);if(!c)throw Error("WebSocket URL must be in the format ws(s)://address:port");b=c[1];c=parseInt(c[2],10)}else try{var e=f.websocket&&"object"===typeof f.websocket,g="ws:#".replace("#","//");e&&"string"===typeof f.websocket.url&&(g=f.websocket.url);if("ws://"===g||"wss://"===\r\n     g){var k=b.split("/");g=g+k[0]+":"+c+"/"+k.slice(1).join("/")}k="binary";e&&"string"===typeof f.websocket.subprotocol&&(k=f.websocket.subprotocol);var m=void 0;"null"!==k&&(k=k.replace(/^ +| +$/g,"").split(/ *, */),m=l?{protocol:k.toString()}:k);e&&null===f.websocket.subprotocol&&(m=void 0);d=new (l?require("ws"):WebSocket)(g,m);d.binaryType="arraybuffer"}catch(r){throw new N.af(23);}b={hf:b,port:c,socket:d,ug:[]};Q.qf.jh(a,b);Q.qf.ni(a,b);2===a.type&&"undefined"!==typeof a.Qf&&b.ug.push(new Uint8Array([255,\r\n     255,255,255,112,111,114,116,(a.Qf&65280)>>8,a.Qf&255]));return b},vg:function(a,b,c){return a.ng[b+":"+c]},jh:function(a,b){a.ng[b.hf+":"+b.port]=b},Hh:function(a,b){delete a.ng[b.hf+":"+b.port]},ni:function(a,b){function c(){f.websocket.emit("open",a.stream.fd);try{for(var g=b.ug.shift();g;)b.socket.send(g),g=b.ug.shift()}catch(k){b.socket.close()}}function d(g){if("string"===typeof g)g=(new TextEncoder).encode(g);else{assert(void 0!==g.byteLength);if(0==g.byteLength)return;g=new Uint8Array(g)}var k=\r\n     e;e=!1;k&&10===g.length&&255===g[0]&&255===g[1]&&255===g[2]&&255===g[3]&&112===g[4]&&111===g[5]&&114===g[6]&&116===g[7]?(g=g[8]<<8|g[9],Q.qf.Hh(a,b),b.port=g,Q.qf.jh(a,b)):(a.ag.push({hf:b.hf,port:b.port,data:g}),f.websocket.emit("message",a.stream.fd))}var e=!0;l?(b.socket.on("open",c),b.socket.on("message",function(g,k){k.Yi&&d((new Uint8Array(g)).buffer)}),b.socket.on("close",function(){f.websocket.emit("close",a.stream.fd)}),b.socket.on("error",function(){a.error=14;f.websocket.emit("error",[a.stream.fd,\r\n     a.error,"ECONNREFUSED: Connection refused"])})):(b.socket.onopen=c,b.socket.onclose=function(){f.websocket.emit("close",a.stream.fd)},b.socket.onmessage=function(g){d(g.data)},b.socket.onerror=function(){a.error=14;f.websocket.emit("error",[a.stream.fd,a.error,"ECONNREFUSED: Connection refused"])})},Zf:function(a){if(1===a.type&&a.lf)return a.pending.length?65:0;var b=0,c=1===a.type?Q.qf.vg(a,a.sf,a.vf):null;if(a.ag.length||!c||c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)b|=\r\n     65;if(!c||c&&c.socket.readyState===c.socket.OPEN)b|=4;if(c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)b|=16;return b},Uf:function(a,b,c){switch(b){case 21531:return b=0,a.ag.length&&(b=a.ag[0].data.length),D[c>>2]=b,0;default:return 28}},close:function(a){if(a.lf){try{a.lf.close()}catch(e){}a.lf=null}for(var b=Object.keys(a.ng),c=0;c<b.length;c++){var d=a.ng[b[c]];try{d.socket.close()}catch(e){}Q.qf.Hh(a,d)}return 0},bind:function(a,b,c){if("undefined"!==typeof a.Bg||\r\n     "undefined"!==typeof a.Qf)throw new N.af(28);a.Bg=b;a.Qf=c;if(2===a.type){a.lf&&(a.lf.close(),a.lf=null);try{a.pf.listen(a,0)}catch(d){if(!(d instanceof N.af))throw d;if(138!==d.ef)throw d;}}},connect:function(a,b,c){if(a.lf)throw new N.af(138);if("undefined"!==typeof a.sf&&"undefined"!==typeof a.vf){var d=Q.qf.vg(a,a.sf,a.vf);if(d){if(d.socket.readyState===d.socket.CONNECTING)throw new N.af(7);throw new N.af(30);}}b=Q.qf.tg(a,b,c);a.sf=b.hf;a.vf=b.port;throw new N.af(26);},listen:function(a){if(!l)throw new N.af(138);\r\n     if(a.lf)throw new N.af(28);var b=require("ws").Server;a.lf=new b({host:a.Bg,port:a.Qf});f.websocket.emit("listen",a.stream.fd);a.lf.on("connection",function(c){if(1===a.type){var d=Q.createSocket(a.family,a.type,a.protocol);c=Q.qf.tg(d,c);d.sf=c.hf;d.vf=c.port;a.pending.push(d);f.websocket.emit("connection",d.stream.fd)}else Q.qf.tg(a,c),f.websocket.emit("connection",a.stream.fd)});a.lf.on("closed",function(){f.websocket.emit("close",a.stream.fd);a.lf=null});a.lf.on("error",function(){a.error=23;\r\n     f.websocket.emit("error",[a.stream.fd,a.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(a){if(!a.lf)throw new N.af(28);var b=a.pending.shift();b.stream.flags=a.stream.flags;return b},ij:function(a,b){if(b){if(void 0===a.sf||void 0===a.vf)throw new N.af(53);b=a.sf;a=a.vf}else b=a.Bg||0,a=a.Qf||0;return{hf:b,port:a}},fh:function(a,b,c,d,e,g){if(2===a.type){if(void 0===e||void 0===g)e=a.sf,g=a.vf;if(void 0===e||void 0===g)throw new N.af(17);}else e=a.sf,g=a.vf;var k=Q.qf.vg(a,e,g);if(1===\r\n     a.type){if(!k||k.socket.readyState===k.socket.CLOSING||k.socket.readyState===k.socket.CLOSED)throw new N.af(53);if(k.socket.readyState===k.socket.CONNECTING)throw new N.af(6);}ArrayBuffer.isView(b)&&(c+=b.byteOffset,b=b.buffer);var m;b instanceof SharedArrayBuffer?m=(new Uint8Array(new Uint8Array(b.slice(c,c+d)))).buffer:m=b.slice(c,c+d);if(2===a.type&&(!k||k.socket.readyState!==k.socket.OPEN))return k&&k.socket.readyState!==k.socket.CLOSING&&k.socket.readyState!==k.socket.CLOSED||(k=Q.qf.tg(a,e,\r\n     g)),k.ug.push(m),d;try{return k.socket.send(m),d}catch(r){throw new N.af(28);}},bh:function(a,b){if(1===a.type&&a.lf)throw new N.af(53);var c=a.ag.shift();if(!c){if(1===a.type){if(a=Q.qf.vg(a,a.sf,a.vf)){if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new N.af(6);}throw new N.af(53);}throw new N.af(6);}var d=c.data.byteLength||c.data.length,e=c.data.byteOffset||0,g=c.data.buffer||c.data;b=Math.min(b,d);var k={buffer:new Uint8Array(g,e,b),hf:c.hf,\r\n     port:c.port};1===a.type&&b<d&&(c.data=new Uint8Array(g,e+b,d-b),a.ag.unshift(c));return k}}};function Ec(a){a=a.split(".");for(var b=0;4>b;b++){var c=Number(a[b]);if(isNaN(c))return null;a[b]=c}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}\r\n     function Fc(a){var b,c,d=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\\dA-F]{1,4}:(:|\\b)|){5}|([\\dA-F]{1,4}:){6})((([\\dA-F]{1,4}((?!\\3)::|:\\b|$))|(?!\\2\\3)){2}|(((2[0-4]|1\\d|[1-9])?\\d|25[0-5])\\.?\\b){4})$/i.test(a))return null;if("::"===a)return[0,0,0,0,0,0,0,0];a=0===a.indexOf("::")?a.replace("::","Z:"):a.replace("::",":Z:");0<a.indexOf(".")?(a=a.replace(/[.]/g,":"),a=a.split(":"),a[a.length-4]=parseInt(a[a.length-4])+256*parseInt(a[a.length-3]),a[a.length-3]=parseInt(a[a.length-2])+256*parseInt(a[a.length-\r\n     1]),a=a.slice(0,a.length-2)):a=a.split(":");for(b=c=0;b<a.length;b++)if("string"===typeof a[b])if("Z"===a[b]){for(c=0;c<8-a.length+1;c++)d[b+c]=0;--c}else d[b+c]=Gc(parseInt(a[b],16));else d[b+c]=a[b];return[d[1]<<16|d[0],d[3]<<16|d[2],d[5]<<16|d[4],d[7]<<16|d[6]]}var Hc=1,Ic={},Jc={};\r\n     function Kc(a){var b=Ec(a);if(null!==b)return a;b=Fc(a);if(null!==b)return a;Ic[a]?b=Ic[a]:(b=Hc++,assert(65535>b,"exceeded max address mappings of 65535"),b="172.29."+(b&255)+"."+(b&65280),Jc[b]=a,Ic[a]=b);return b}function Lc(a){return Jc[a]?Jc[a]:null}function Mc(a){return(a&255)+"."+(a>>8&255)+"."+(a>>16&255)+"."+(a>>24&255)}\r\n     function Nc(a){var b="",c,d=0,e=0,g=0,k=0;a=[a[0]&65535,a[0]>>16,a[1]&65535,a[1]>>16,a[2]&65535,a[2]>>16,a[3]&65535,a[3]>>16];var m=!0;for(c=0;5>c;c++)if(0!==a[c]){m=!1;break}if(m){c=Mc(a[6]|a[7]<<16);if(-1===a[5])return"::ffff:"+c;if(0===a[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),"::"+c}for(c=0;8>c;c++)0===a[c]&&(1<c-e&&(k=0),e=c,k++),k>d&&(d=k,g=c-d+1);for(c=0;8>c;c++)1<d&&0===a[c]&&c>=g&&c<g+d?c===g&&(b+=":",0===g&&(b+=":")):(b+=Number(Oc(a[c]&65535)).toString(16),b+=7>c?":":"");return b}\r\n     function Pc(a,b){var c=Sa[a>>1],d=Oc(Ta[a+2>>1]);switch(c){case 2:if(16!==b)return{ef:28};a=D[a+4>>2];a=Mc(a);break;case 10:if(28!==b)return{ef:28};a=[D[a+8>>2],D[a+12>>2],D[a+16>>2],D[a+20>>2]];a=Nc(a);break;default:return{ef:5}}return{family:c,hf:a,port:d}}\r\n     function Qc(a,b,c,d){switch(b){case 2:c=Ec(c);Sa[a>>1]=b;D[a+4>>2]=c;Sa[a+2>>1]=Gc(d);break;case 10:c=Fc(c);D[a>>2]=b;D[a+8>>2]=c[0];D[a+12>>2]=c[1];D[a+16>>2]=c[2];D[a+20>>2]=c[3];Sa[a+2>>1]=Gc(d);D[a+4>>2]=0;D[a+24>>2]=0;break;default:return{ef:5}}return{}}\r\n     function Rc(a,b){if(n)return M(20,1,a,b);try{jc=b;b=function(){var Z=Q.mi(P());if(!Z)throw new N.af(8);return Z};var c=function(Z){var qd=P(),he=P();if(Z&&0===qd)return null;Z=Pc(qd,he);if(Z.ef)throw new N.af(Z.ef);Z.hf=Lc(Z.hf)||Z.hf;return Z};switch(a){case 1:var d=P(),e=P(),g=P(),k=Q.createSocket(d,e,g);return k.stream.fd;case 2:k=b();var m=c();k.pf.bind(k,m.hf,m.port);return 0;case 3:return k=b(),m=c(),k.pf.connect(k,m.hf,m.port),0;case 4:k=b();var r=P();k.pf.listen(k,r);return 0;case 5:k=b();\r\n     var q=P();P();var t=k.pf.accept(k);q&&Qc(q,t.family,Kc(t.sf),t.vf);return t.stream.fd;case 6:return k=b(),q=P(),P(),Qc(q,k.family,Kc(k.Bg||"0.0.0.0"),k.Qf),0;case 7:k=b();q=P();P();if(!k.sf)return-53;Qc(q,k.family,Kc(k.sf),k.vf);return 0;case 11:k=b();var w=P(),B=P();P();var p=c(!0);return p?k.pf.fh(k,v,w,B,p.hf,p.port):N.write(k.stream,v,w,B);case 12:k=b();var x=P(),z=P();P();q=P();P();var I=k.pf.bh(k,z);if(!I)return 0;q&&Qc(q,k.family,Kc(I.hf),I.port);Ka.set(I.buffer,x);return I.buffer.byteLength;\r\n     case 14:return-50;case 15:k=b();var V=P(),fb=P(),K=P(),X=P();return 1===V&&4===fb?(D[K>>2]=k.error,D[X>>2]=4,k.error=null,0):-50;case 16:k=b();w=P();P();var ha=D[w+8>>2],na=D[w+12>>2],ua=D[w>>2],ie=D[w+4>>2];if(ua){m=Pc(ua,ie);if(m.ef)return-m.ef;var je=m.port;q=Lc(m.hf)||m.hf}for(var Qa=0,W=0;W<na;W++)Qa+=D[ha+(8*W+4)>>2];var rd=new Uint8Array(Qa);for(W=B=0;W<na;W++){var bc=D[ha+8*W>>2],cc=D[ha+(8*W+4)>>2];for(x=0;x<cc;x++)rd[B++]=v[bc+x>>0]}return k.pf.fh(k,rd,0,Qa,q,je);case 17:k=b();w=P();P();\r\n     ha=D[w+8>>2];na=D[w+12>>2];for(W=Qa=0;W<na;W++)Qa+=D[ha+(8*W+4)>>2];I=k.pf.bh(k,Qa);if(!I)return 0;(ua=D[w>>2])&&Qc(ua,k.family,Kc(I.hf),I.port);k=0;var dc=I.buffer.byteLength;for(W=0;0<dc&&W<na;W++)if(bc=D[ha+8*W>>2],cc=D[ha+(8*W+4)>>2])B=Math.min(cc,dc),x=I.buffer.subarray(k,k+B),Ka.set(x,bc+k),k+=B,dc-=B;return k;default:return-52}}catch(Z){return"undefined"!==typeof N&&Z instanceof N.af||u(Z),-Z.ef}}\r\n     function Sc(a,b){if(n)return M(21,1,a,b);try{return a=A(a),ic(N.stat,a,b)}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}}function Tc(a){if(n)return M(22,1,a);try{return a=A(a),N.unlink(a),0}catch(b){return"undefined"!==typeof N&&b instanceof N.af||u(b),-b.ef}}function Uc(){void 0===Uc.start&&(Uc.start=Date.now());return 1E3*(Date.now()-Uc.start)|0}\r\n     function Vc(){l||oa||(za||(za={}),za["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(za["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,h("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}\r\n     function Wc(a,b,c){if(0>=a||a>v.length||a&1)return-28;if(ma){if(Atomics.load(D,a>>2)!=b)return-6;var d=performance.now();c=d+c;for(Atomics.exchange(D,L.Vf>>2,a);;){d=performance.now();if(d>c)return Atomics.exchange(D,L.Vf>>2,0),-73;d=Atomics.exchange(D,L.Vf>>2,0);if(0==d)break;Cb();if(Atomics.load(D,a>>2)!=b)return-6;Atomics.exchange(D,L.Vf>>2,a)}return 0}a=Atomics.wait(D,a>>2,b,c);if("timed-out"===a)return-73;if("not-equal"===a)return-6;if("ok"===a)return 0;throw"Atomics.wait returned an unexpected value "+\r\n     a;}function Xc(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(c,d){b.vertexAttribDivisorANGLE(c,d)},a.drawArraysInstanced=function(c,d,e,g){b.drawArraysInstancedANGLE(c,d,e,g)},a.drawElementsInstanced=function(c,d,e,g,k){b.drawElementsInstancedANGLE(c,d,e,g,k)})}\r\n     function Yc(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function Zc(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(c,d){b.drawBuffersWEBGL(c,d)})}var $c=1,ad=[],R=[],bd=[],cd=[],dd=[],S=[],ed=[],fd=[],gd=[],hd={},id={},jd=4;\r\n     function T(a){kd||(kd=a)}function ld(a){for(var b=$c++,c=a.length;c<b;c++)a[c]=null;return b}\r\n     function md(a){a||(a=nd);if(!a.oi){a.oi=!0;var b=a.qg;Xc(b);Yc(b);Zc(b);b.uf=b.getExtension("EXT_disjoint_timer_query");b.rj=b.getExtension("WEBGL_multi_draw");var c="OES_texture_float OES_texture_half_float OES_standard_derivatives OES_vertex_array_object WEBGL_compressed_texture_s3tc WEBGL_depth_texture OES_element_index_uint EXT_texture_filter_anisotropic EXT_frag_depth WEBGL_draw_buffers ANGLE_instanced_arrays OES_texture_float_linear OES_texture_half_float_linear EXT_blend_minmax EXT_shader_texture_lod EXT_texture_norm16 WEBGL_compressed_texture_pvrtc EXT_color_buffer_half_float WEBGL_color_buffer_float EXT_sRGB WEBGL_compressed_texture_etc1 EXT_disjoint_timer_query WEBGL_compressed_texture_etc WEBGL_compressed_texture_astc EXT_color_buffer_float WEBGL_compressed_texture_s3tc_srgb EXT_disjoint_timer_query_webgl2 WEBKIT_WEBGL_compressed_texture_pvrtc".split(" ");(b.getSupportedExtensions()||\r\n     []).forEach(function(d){-1!=c.indexOf(d)&&b.getExtension(d)})}}var kd,nd,od=[];function pd(a,b,c,d){for(var e=0;e<a;e++){var g=U[c](),k=g&&ld(d);g?(g.name=k,d[k]=g):T(1282);D[b+4*e>>2]=k}}function sd(a,b,c,d,e,g,k,m){b=R[b];if(a=U[a](b,c))d=m&&Ia(a.name,m,d),e&&(D[e>>2]=d),g&&(D[g>>2]=a.size),k&&(D[k>>2]=a.type)}function td(a,b){E[a>>2]=b;E[a+4>>2]=(b-E[a>>2])/4294967296}\r\n     function ud(a,b,c){if(b){var d=void 0;switch(a){case 36346:d=1;break;case 36344:0!=c&&1!=c&&T(1280);return;case 36345:d=0;break;case 34466:var e=U.getParameter(34467);d=e?e.length:0}if(void 0===d)switch(e=U.getParameter(a),typeof e){case "number":d=e;break;case "boolean":d=e?1:0;break;case "string":T(1280);return;case "object":if(null===e)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:d=0;break;default:T(1280);return}else{if(e instanceof Float32Array||\r\n     e instanceof Uint32Array||e instanceof Int32Array||e instanceof Array){for(a=0;a<e.length;++a)switch(c){case 0:D[b+4*a>>2]=e[a];break;case 2:F[b+4*a>>2]=e[a];break;case 4:v[b+a>>0]=e[a]?1:0}return}try{d=e.name|0}catch(g){T(1280);h("GL_INVALID_ENUM in glGet"+c+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+g+")");return}}break;default:T(1280);h("GL_INVALID_ENUM in glGet"+c+"v: Native code calling glGet"+c+"v("+a+") and it returns "+e+" of type "+typeof e+"!");return}switch(c){case 1:td(b,\r\n     d);break;case 0:D[b>>2]=d;break;case 2:F[b>>2]=d;break;case 4:v[b>>0]=d?1:0}}else T(1281)}function vd(a){var b=Ma(a)+1,c=Oa(b);Ia(a,c,b);return c}function wd(a,b,c,d){if(c)if(a=U.getUniform(R[a],S[b]),"number"==typeof a||"boolean"==typeof a)switch(d){case 0:D[c>>2]=a;break;case 2:F[c>>2]=a}else for(b=0;b<a.length;b++)switch(d){case 0:D[c+4*b>>2]=a[b];break;case 2:F[c+4*b>>2]=a[b]}else T(1281)}\r\n     function xd(a,b,c,d){if(c)if(a=U.getVertexAttrib(a,b),34975==b)D[c>>2]=a&&a.name;else if("number"==typeof a||"boolean"==typeof a)switch(d){case 0:D[c>>2]=a;break;case 2:F[c>>2]=a;break;case 5:D[c>>2]=Math.fround(a)}else for(b=0;b<a.length;b++)switch(d){case 0:D[c+4*b>>2]=a[b];break;case 2:F[c+4*b>>2]=a[b];break;case 5:D[c+4*b>>2]=Math.fround(a[b])}else T(1281)}\r\n     function yd(a,b,c,d,e){a-=5120;a=1==a?Ka:4==a?D:6==a?F:5==a||28922==a?E:Ta;var g=31-Math.clz32(a.BYTES_PER_ELEMENT),k=jd;return a.subarray(e>>g,e+d*(c*({5:3,6:4,8:2,29502:3,29504:4}[b-6402]||1)*(1<<g)+k-1&-k)>>g)}var zd=[],Ad=[];function M(a,b){for(var c=arguments.length-2,d=y(),e=Ha(8*c),g=e>>3,k=0;k<c;k++)Ua[g+k]=arguments[2+k];c=Bd(a,c,e,b);C(d);return c}var Cd=[],Dd=[],Ed=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];\r\n     function Fd(a){a=2<a?A(a):a;return Ed[a]||("undefined"!==typeof document?document.querySelector(a):void 0)}\r\n     function Gd(a,b,c){var d=Fd(a);if(!d)return-4;d.sg&&(D[d.sg>>2]=b,D[d.sg+4>>2]=c);if(d.Fh||!d.aj)d.Fh&&(d=d.Fh),a=!1,d.rg&&d.rg.qg&&(a=d.rg.qg.getParameter(2978),a=0===a[0]&&0===a[1]&&a[2]===d.width&&a[3]===d.height),d.width=b,d.height=c,a&&d.rg.qg.viewport(0,0,b,c);else{if(d.sg){a=a?A(a):"";d=D[d.sg+8>>2];var e=y(),g=Ha(12),k=0;a&&(k=vd(a));D[g>>2]=k;D[g+4>>2]=b;D[g+8>>2]=c;Hd(0,d,657457152,0,k,g);C(e);return 1}return-4}return 0}function Id(a,b,c){return n?M(23,1,a,b,c):Gd(a,b,c)}\r\n     var Jd=["default","low-power","high-performance"],Kd={};function Ld(){if(!Md){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ka||"./this.program"},b;for(b in Kd)a[b]=Kd[b];var c=[];for(b in a)c.push(b+"="+a[b]);Md=c}return Md}var Md;\r\n     function Nd(a){if(n)return M(24,1,a);try{var b=kc(a);N.close(b);return 0}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),c.ef}}function Od(a,b){if(n)return M(25,1,a,b);try{var c=kc(a);v[b>>0]=c.tty?2:N.kf(c.mode)?3:N.Mf(c.mode)?7:4;return 0}catch(d){return"undefined"!==typeof N&&d instanceof N.af||u(d),d.ef}}\r\n     function Pd(a,b,c,d){if(n)return M(26,1,a,b,c,d);try{a:{for(var e=kc(a),g=a=0;g<c;g++){var k=D[b+(8*g+4)>>2],m=N.read(e,v,D[b+8*g>>2],k,void 0);if(0>m){var r=-1;break a}a+=m;if(m<k)break}r=a}D[d>>2]=r;return 0}catch(q){return"undefined"!==typeof N&&q instanceof N.af||u(q),q.ef}}\r\n     function Qd(a,b,c,d,e){if(n)return M(27,1,a,b,c,d,e);try{var g=kc(a);a=4294967296*c+(b>>>0);if(-9007199254740992>=a||9007199254740992<=a)return-61;N.tf(g,a,d);J=[g.position>>>0,(H=g.position,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[e>>2]=J[0];D[e+4>>2]=J[1];g.Lf&&0===a&&0===d&&(g.Lf=null);return 0}catch(k){return"undefined"!==typeof N&&k instanceof N.af||u(k),k.ef}}\r\n     function Rd(a,b,c,d){if(n)return M(28,1,a,b,c,d);try{a:{for(var e=kc(a),g=a=0;g<c;g++){var k=N.write(e,v,D[b+8*g>>2],D[b+(8*g+4)>>2],void 0);if(0>k){var m=-1;break a}a+=k}m=a}D[d>>2]=m;return 0}catch(r){return"undefined"!==typeof N&&r instanceof N.af||u(r),r.ef}}var Sd={};\r\n     function Td(a){Td.buffer||(Td.buffer=Oa(256),Sd["0"]="Success",Sd["-1"]="Invalid value for \'ai_flags\' field",Sd["-2"]="NAME or SERVICE is unknown",Sd["-3"]="Temporary failure in name resolution",Sd["-4"]="Non-recoverable failure in name res",Sd["-6"]="\'ai_family\' not supported",Sd["-7"]="\'ai_socktype\' not supported",Sd["-8"]="SERVICE not supported for \'ai_socktype\'",Sd["-10"]="Memory allocation failure",Sd["-11"]="System error returned in \'errno\'",Sd["-12"]="Argument buffer overflow");var b="Unknown error";\r\n     a in Sd&&(255<Sd[a].length?b="Message too long":b=Sd[a]);Ra(b,Td.buffer);return Td.buffer}\r\n     function Ud(a,b,c,d){function e(w,B,p,x,z,I){var V=10===w?28:16;z=10===w?Nc(z):Mc(z);V=Oa(V);z=Qc(V,w,z,I);assert(!z.ef);z=Oa(32);D[z+4>>2]=w;D[z+8>>2]=B;D[z+12>>2]=p;D[z+24>>2]=x;D[z+20>>2]=V;D[z+16>>2]=10===w?28:16;D[z+28>>2]=0;return z}if(n)return M(29,1,a,b,c,d);var g=0,k=0,m=0,r=0,q=0,t=0;c&&(m=D[c>>2],r=D[c+4>>2],q=D[c+8>>2],t=D[c+12>>2]);q&&!t&&(t=2===q?17:6);!q&&t&&(q=17===t?2:1);0===t&&(t=6);0===q&&(q=1);if(!a&&!b)return-2;if(m&-1088||0!==c&&D[c>>2]&2&&!a)return-1;if(m&32)return-2;if(0!==\r\n     q&&1!==q&&2!==q)return-7;if(0!==r&&2!==r&&10!==r)return-6;if(b&&(b=A(b),k=parseInt(b,10),isNaN(k)))return m&1024?-2:-8;if(!a)return 0===r&&(r=2),0===(m&1)&&(2===r?g=Vd(2130706433):g=[0,0,0,1]),a=e(r,q,t,null,g,k),D[d>>2]=a,0;a=A(a);g=Ec(a);if(null!==g)if(0===r||2===r)r=2;else if(10===r&&m&8)g=[0,0,Vd(65535),g],r=10;else return-2;else if(g=Fc(a),null!==g)if(0===r||10===r)r=10;else return-2;if(null!=g)return a=e(r,q,t,a,g,k),D[d>>2]=a,0;if(m&4)return-2;a=Kc(a);g=Ec(a);0===r?r=2:10===r&&(g=[0,0,Vd(65535),\r\n     g]);a=e(r,q,t,null,g,k);D[d>>2]=a;return 0}\r\n     function Db(a){if(n)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var b=L.li();if(void 0!==b.yf)throw"Internal error!";if(!a.$f)throw"Internal error, no pthread ptr!";L.Kf.push(b);for(var c=Oa(512),d=0;128>d;++d)D[c+4*d>>2]=0;var e=a.Rf+a.cg;d=L.Ef[a.$f]={worker:b,Rf:a.Rf,cg:a.cg,Kg:a.Kg,Lh:a.$f,threadInfoStruct:a.$f};var g=d.threadInfoStruct>>2;Atomics.store(E,g,0);Atomics.store(E,g+1,0);Atomics.store(E,g+2,0);Atomics.store(E,g+17,a.detached);Atomics.store(E,\r\n     g+26,c);Atomics.store(E,g+12,0);Atomics.store(E,g+10,d.threadInfoStruct);Atomics.store(E,g+11,42);Atomics.store(E,g+27,a.cg);Atomics.store(E,g+21,a.cg);Atomics.store(E,g+20,e);Atomics.store(E,g+29,e);Atomics.store(E,g+30,a.detached);Atomics.store(E,g+32,a.Ih);Atomics.store(E,g+33,a.Jh);c=Wd()+40;Atomics.store(E,g+44,c);b.yf=d;var k={cmd:"run",start_routine:a.Mi,arg:a.Tf,threadInfoStruct:a.$f,selfThreadId:a.$f,parentThreadId:a.Fi,stackBase:a.Rf,stackSize:a.cg};b.og=function(){k.time=performance.now();\r\n     b.postMessage(k,a.Vi)};b.loaded&&(b.og(),delete b.og)}function Xd(){return rb|0}f._pthread_self=Xd;\r\n     function Yd(a,b){if(!a)return h("pthread_join attempted on a null thread pointer!"),71;if(n&&selfThreadId==a)return h("PThread "+a+" is attempting to join to itself!"),16;if(!n&&L.xf==a)return h("Main thread "+a+" is attempting to join to itself!"),16;if(D[a+12>>2]!==a)return h("pthread_join attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(E,a+68>>2))return h("Attempted to join thread "+a+", which was already detached!"),28;for(Vc();;){var c=\r\n     Atomics.load(E,a>>2);if(1==c)return c=Atomics.load(E,a+4>>2),b&&(D[b>>2]=c),Atomics.store(E,a+68>>2,1),n?postMessage({cmd:"cleanupThread",thread:a}):xb(a),0;if(n&&threadInfoStruct&&!Atomics.load(E,threadInfoStruct+60>>2)&&2==Atomics.load(E,threadInfoStruct+0>>2))throw"Canceled!";n||Cb();Wc(a,c,n?100:1)}}function Zd(a){return 0===a%4&&(0!==a%100||0===a%400)}function $d(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}var ae=[31,29,31,30,31,30,31,31,30,31,30,31],be=[31,28,31,30,31,30,31,31,30,31,30,31];\r\n     function ce(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(Zd(a.getFullYear())?ae:be)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}\r\n     function de(a){if(n)return M(30,1,a);switch(a){case 30:return 16384;case 85:return Ka.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;\r\n     case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1E3;case 89:return 700;case 71:return 256;\r\n     case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator?navigator.hardwareConcurrency||1:1}Fb(28);return-1}function ee(a,b,c,d){a||(a=this);this.parent=a;this.jf=a.jf;this.lg=null;this.id=N.Ai++;this.name=b;this.mode=c;this.cf={};this.df={};this.rdev=d}\r\n     Object.defineProperties(ee.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}},ti:{get:function(){return N.kf(this.mode)}},Ug:{get:function(){return N.hg(this.mode)}}});N.Oh=ee;N.Ni();for(var fc,U,fe=0;32>fe;++fe)od.push(Array(fe));var ge=new Float32Array(288);for(fe=0;288>fe;++fe)zd[fe]=ge.subarray(0,fe+1);var ke=new Int32Array(288);\r\n     for(fe=0;288>fe;++fe)Ad[fe]=ke.subarray(0,fe+1);var le=[null,Ib,Kb,lc,mc,nc,oc,pc,qc,sc,tc,uc,vc,xc,yc,zc,Ac,Bc,Cc,Dc,Rc,Sc,Tc,Id,Nd,Od,Pd,Qd,Rd,Ud,de];function $b(a,b){var c=Array(Ma(a)+1);a=La(a,c,0,c.length);b&&(c.length=a);return c}n||Ya.push({vh:function(){me()}});\r\n     var Ge={c:function(a,b,c,d){u("Assertion failed: "+A(a)+", at: "+[b?A(b):"unknown filename",c,d?A(d):"unknown function"])},K:function(a,b){a=ne(a,b);if(!noExitRuntime)return postMessage({cmd:"exitProcess",returnCode:a}),a},W:function(a,b){return Hb(a,b)},aa:function(a,b){return Ib(a,b)},va:function(a,b){return Jb(a,b)},ua:function(a,b){return Ob(a,b)},Ma:lc,Ea:mc,u:nc,Na:oc,Ka:pc,Ha:qc,V:sc,Oa:tc,Pa:uc,ya:vc,Aa:function(){return 0},za:xc,Da:function(){return-63},Y:yc,La:zc,Ja:Ac,Ca:Bc,wa:Cc,Ga:Dc,\r\n     Ia:function(){return 0},t:Rc,X:Sc,Fa:function(a){try{if(!a)return-21;var b={__size__:390,sysname:0,nodename:65,release:130,version:195,machine:260,domainname:325};Ra("Emscripten",a+b.sysname);Ra("emscripten",a+b.nodename);Ra("1.0",a+b.release);Ra("#1",a+b.version);Ra("x86-JS",a+b.machine);return 0}catch(c){return"undefined"!==typeof N&&c instanceof N.af||u(c),-c.ef}},Ba:Tc,pa:function(a,b){if(a==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(n)postMessage({targetThread:a,cmd:"processThreadQueue"});\r\n     else{a=(a=L.Ef[a])&&a.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){u()},Qa:Uc,Ta:Hb,$:function(){u("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){u("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},F:function(a,b,c){Dd.length=0;var d;for(c>>=2;d=Ka[b++];)(d=105>d)&&c&1&&c++,Dd.push(d?Ua[c++>>\r\n     1]:D[c]),++c;return ob[a].apply(null,Dd)},qa:Vc,I:function(){},A:Wc,p:vb,z:Eb,Ed:function(a){U.activeTexture(a)},Dd:function(a,b){U.attachShader(R[a],ed[b])},ea:function(a,b){U.uf.beginQueryEXT(a,gd[b])},Cd:function(a,b,c){U.bindAttribLocation(R[a],b,A(c))},Bd:function(a,b){U.bindBuffer(a,ad[b])},Ad:function(a,b){U.bindFramebuffer(a,bd[b])},zd:function(a,b){U.bindRenderbuffer(a,cd[b])},yd:function(a,b){U.bindTexture(a,dd[b])},Md:function(a){U.bindVertexArray(fd[a])},xd:function(a,b,c,d){U.blendColor(a,\r\n     b,c,d)},wd:function(a){U.blendEquation(a)},vd:function(a,b){U.blendEquationSeparate(a,b)},ud:function(a,b){U.blendFunc(a,b)},td:function(a,b,c,d){U.blendFuncSeparate(a,b,c,d)},sd:function(a,b,c,d){U.bufferData(a,c?Ka.subarray(c,c+b):b,d)},rd:function(a,b,c,d){U.bufferSubData(a,b,Ka.subarray(d,d+c))},qd:function(a){return U.checkFramebufferStatus(a)},pd:function(a){U.clear(a)},od:function(a,b,c,d){U.clearColor(a,b,c,d)},nd:function(a){U.clearDepth(a)},md:function(a){U.clearStencil(a)},ld:function(a,\r\n     b,c,d){U.colorMask(!!a,!!b,!!c,!!d)},kd:function(a){U.compileShader(ed[a])},jd:function(a,b,c,d,e,g,k,m){U.compressedTexImage2D(a,b,c,d,e,g,m?Ka.subarray(m,m+k):null)},id:function(a,b,c,d,e,g,k,m,r){U.compressedTexSubImage2D(a,b,c,d,e,g,k,r?Ka.subarray(r,r+m):null)},hd:function(a,b,c,d,e,g,k,m){U.copyTexImage2D(a,b,c,d,e,g,k,m)},gd:function(a,b,c,d,e,g,k,m){U.copyTexSubImage2D(a,b,c,d,e,g,k,m)},fd:function(){var a=ld(R),b=U.createProgram();b.name=a;R[a]=b;return a},ed:function(a){var b=ld(ed);ed[b]=\r\n     U.createShader(a);return b},dd:function(a){U.cullFace(a)},cd:function(a,b){for(var c=0;c<a;c++){var d=D[b+4*c>>2],e=ad[d];e&&(U.deleteBuffer(e),e.name=0,ad[d]=null)}},bd:function(a,b){for(var c=0;c<a;++c){var d=D[b+4*c>>2],e=bd[d];e&&(U.deleteFramebuffer(e),e.name=0,bd[d]=null)}},ad:function(a){if(a){var b=R[a];b?(U.deleteProgram(b),b.name=0,R[a]=null,hd[a]=null):T(1281)}},ga:function(a,b){for(var c=0;c<a;c++){var d=D[b+4*c>>2],e=gd[d];e&&(U.uf.deleteQueryEXT(e),gd[d]=null)}},$c:function(a,b){for(var c=\r\n     0;c<a;c++){var d=D[b+4*c>>2],e=cd[d];e&&(U.deleteRenderbuffer(e),e.name=0,cd[d]=null)}},_c:function(a){if(a){var b=ed[a];b?(U.deleteShader(b),ed[a]=null):T(1281)}},Zc:function(a,b){for(var c=0;c<a;c++){var d=D[b+4*c>>2],e=dd[d];e&&(U.deleteTexture(e),e.name=0,dd[d]=null)}},Ld:function(a,b){for(var c=0;c<a;c++){var d=D[b+4*c>>2];U.deleteVertexArray(fd[d]);fd[d]=null}},Yc:function(a){U.depthFunc(a)},Xc:function(a){U.depthMask(!!a)},Wc:function(a,b){U.depthRange(a,b)},Vc:function(a,b){U.detachShader(R[a],\r\n     ed[b])},Uc:function(a){U.disable(a)},Tc:function(a){U.disableVertexAttribArray(a)},Sc:function(a,b,c){U.drawArrays(a,b,c)},Hd:function(a,b,c,d){U.drawArraysInstanced(a,b,c,d)},Id:function(a,b){for(var c=od[a],d=0;d<a;d++)c[d]=D[b+4*d>>2];U.drawBuffers(c)},Rc:function(a,b,c,d){U.drawElements(a,b,c,d)},Gd:function(a,b,c,d,e){U.drawElementsInstanced(a,b,c,d,e)},Qc:function(a){U.enable(a)},Pc:function(a){U.enableVertexAttribArray(a)},da:function(a){U.uf.endQueryEXT(a)},Oc:function(){U.finish()},Nc:function(){U.flush()},\r\n     Mc:function(a,b,c,d){U.framebufferRenderbuffer(a,b,c,cd[d])},Lc:function(a,b,c,d,e){U.framebufferTexture2D(a,b,c,dd[d],e)},Kc:function(a){U.frontFace(a)},Jc:function(a,b){pd(a,b,"createBuffer",ad)},Hc:function(a,b){pd(a,b,"createFramebuffer",bd)},ha:function(a,b){for(var c=0;c<a;c++){var d=U.uf.createQueryEXT();if(!d){for(T(1282);c<a;)D[b+4*c++>>2]=0;break}var e=ld(gd);d.name=e;gd[e]=d;D[b+4*c>>2]=e}},Gc:function(a,b){pd(a,b,"createRenderbuffer",cd)},Fc:function(a,b){pd(a,b,"createTexture",dd)},Kd:function(a,\r\n     b){pd(a,b,"createVertexArray",fd)},Ic:function(a){U.generateMipmap(a)},Ec:function(a,b,c,d,e,g,k){sd("getActiveAttrib",a,b,c,d,e,g,k)},Dc:function(a,b,c,d,e,g,k){sd("getActiveUniform",a,b,c,d,e,g,k)},Cc:function(a,b,c,d){a=U.getAttachedShaders(R[a]);var e=a.length;e>b&&(e=b);D[c>>2]=e;for(b=0;b<e;++b)D[d+4*b>>2]=ed.indexOf(a[b])},Bc:function(a,b){return U.getAttribLocation(R[a],A(b))},Ac:function(a,b){ud(a,b,4)},zc:function(a,b,c){c?D[c>>2]=U.getBufferParameter(a,b):T(1281)},yc:function(){var a=U.getError()||\r\n     kd;kd=0;return a},xc:function(a,b){ud(a,b,2)},wc:function(a,b,c,d){a=U.getFramebufferAttachmentParameter(a,b,c);if(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)a=a.name|0;D[d>>2]=a},vc:function(a,b){ud(a,b,0)},tc:function(a,b,c,d){a=U.getProgramInfoLog(R[a]);null===a&&(a="(unknown error)");b=0<b&&d?Ia(a,d,b):0;c&&(D[c>>2]=b)},uc:function(a,b,c){if(c)if(a>=$c)T(1281);else{var d=hd[a];if(d)if(35716==b)a=U.getProgramInfoLog(R[a]),null===a&&(a="(unknown error)"),D[c>>2]=a.length+1;else if(35719==\r\n     b)D[c>>2]=d.Xg;else if(35722==b){if(-1==d.jg){a=R[a];var e=U.getProgramParameter(a,35721);for(b=d.jg=0;b<e;++b)d.jg=Math.max(d.jg,U.getActiveAttrib(a,b).name.length+1)}D[c>>2]=d.jg}else if(35381==b){if(-1==d.kg)for(a=R[a],e=U.getProgramParameter(a,35382),b=d.kg=0;b<e;++b)d.kg=Math.max(d.kg,U.getActiveUniformBlockName(a,b).length+1);D[c>>2]=d.kg}else D[c>>2]=U.getProgramParameter(R[a],b);else T(1282)}else T(1281)},Od:function(a,b,c){if(c){a=U.uf.getQueryObjectEXT(gd[a],b);var d;"boolean"==typeof a?\r\n     d=a?1:0:d=a;td(c,d)}else T(1281)},Qd:function(a,b,c){if(c){a=U.uf.getQueryObjectEXT(gd[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;D[c>>2]=d}else T(1281)},Nd:function(a,b,c){if(c){a=U.uf.getQueryObjectEXT(gd[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;td(c,d)}else T(1281)},Pd:function(a,b,c){if(c){a=U.uf.getQueryObjectEXT(gd[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;D[c>>2]=d}else T(1281)},Rd:function(a,b,c){c?D[c>>2]=U.uf.getQueryEXT(a,b):T(1281)},sc:function(a,b,c){c?D[c>>2]=U.getRenderbufferParameter(a,\r\n     b):T(1281)},qc:function(a,b,c,d){a=U.getShaderInfoLog(ed[a]);null===a&&(a="(unknown error)");b=0<b&&d?Ia(a,d,b):0;c&&(D[c>>2]=b)},pc:function(a,b,c,d){a=U.getShaderPrecisionFormat(a,b);D[c>>2]=a.rangeMin;D[c+4>>2]=a.rangeMax;D[d>>2]=a.precision},oc:function(a,b,c,d){if(a=U.getShaderSource(ed[a]))b=0<b&&d?Ia(a,d,b):0,c&&(D[c>>2]=b)},rc:function(a,b,c){c?35716==b?(a=U.getShaderInfoLog(ed[a]),null===a&&(a="(unknown error)"),D[c>>2]=a?a.length+1:0):35720==b?(a=U.getShaderSource(ed[a]),D[c>>2]=a?a.length+\r\n     1:0):D[c>>2]=U.getShaderParameter(ed[a],b):T(1281)},nc:function(a){if(id[a])return id[a];switch(a){case 7939:var b=U.getSupportedExtensions()||[];b=b.concat(b.map(function(d){return"GL_"+d}));b=vd(b.join(" "));break;case 7936:case 7937:case 37445:case 37446:(b=U.getParameter(a))||T(1280);b=vd(b);break;case 7938:b=vd("OpenGL ES 2.0 ("+U.getParameter(7938)+")");break;case 35724:b=U.getParameter(35724);var c=b.match(/^WebGL GLSL ES ([0-9]\\.[0-9][0-9]?)(?:$| .*)/);null!==c&&(3==c[1].length&&(c[1]+="0"),\r\n     b="OpenGL ES GLSL ES "+c[1]+" ("+b+")");b=vd(b);break;default:return T(1280),0}return id[a]=b},mc:function(a,b,c){c?F[c>>2]=U.getTexParameter(a,b):T(1281)},lc:function(a,b,c){c?D[c>>2]=U.getTexParameter(a,b):T(1281)},ic:function(a,b){b=A(b);var c=0;if("]"==b[b.length-1]){var d=b.lastIndexOf("[");c="]"!=b[d+1]?parseInt(b.slice(d+1)):0;b=b.slice(0,d)}return(a=hd[a]&&hd[a].Nh[b])&&0<=c&&c<a[0]?a[1]+c:-1},kc:function(a,b,c){wd(a,b,c,2)},jc:function(a,b,c){wd(a,b,c,0)},fc:function(a,b,c){c?D[c>>2]=U.getVertexAttribOffset(a,\r\n     b):T(1281)},hc:function(a,b,c){xd(a,b,c,2)},gc:function(a,b,c){xd(a,b,c,5)},ec:function(a,b){U.hint(a,b)},dc:function(a){return(a=ad[a])?U.isBuffer(a):0},cc:function(a){return U.isEnabled(a)},bc:function(a){return(a=bd[a])?U.isFramebuffer(a):0},ac:function(a){return(a=R[a])?U.isProgram(a):0},fa:function(a){return(a=gd[a])?U.uf.isQueryEXT(a):0},$b:function(a){return(a=cd[a])?U.isRenderbuffer(a):0},_b:function(a){return(a=ed[a])?U.isShader(a):0},Zb:function(a){return(a=dd[a])?U.isTexture(a):0},Jd:function(a){return(a=\r\n     fd[a])?U.isVertexArray(a):0},Yb:function(a){U.lineWidth(a)},Xb:function(a){U.linkProgram(R[a]);var b=R[a];a=hd[a]={Nh:{},Xg:0,jg:-1,kg:-1};for(var c=a.Nh,d=U.getProgramParameter(b,35718),e=0;e<d;++e){var g=U.getActiveUniform(b,e),k=g.name;a.Xg=Math.max(a.Xg,k.length+1);"]"==k.slice(-1)&&(k=k.slice(0,k.lastIndexOf("[")));var m=U.getUniformLocation(b,k);if(m){var r=ld(S);c[k]=[g.size,r];S[r]=m;for(var q=1;q<g.size;++q)m=U.getUniformLocation(b,k+"["+q+"]"),r=ld(S),S[r]=m}}},Wb:function(a,b){3317==a&&\r\n     (jd=b);U.pixelStorei(a,b)},Vb:function(a,b){U.polygonOffset(a,b)},ca:function(a,b){U.uf.queryCounterEXT(gd[a],b)},Ub:function(a,b,c,d,e,g,k){(k=yd(g,e,c,d,k))?U.readPixels(a,b,c,d,e,g,k):T(1280)},Tb:function(){},Sb:function(a,b,c,d){U.renderbufferStorage(a,b,c,d)},Rb:function(a,b){U.sampleCoverage(a,!!b)},Qb:function(a,b,c,d){U.scissor(a,b,c,d)},Pb:function(){T(1280)},Ob:function(a,b,c,d){for(var e="",g=0;g<b;++g){var k=d?D[d+4*g>>2]:-1;e+=A(D[c+4*g>>2],0>k?void 0:k)}U.shaderSource(ed[a],e)},Nb:function(a,\r\n     b,c){U.stencilFunc(a,b,c)},Mb:function(a,b,c,d){U.stencilFuncSeparate(a,b,c,d)},Lb:function(a){U.stencilMask(a)},Kb:function(a,b){U.stencilMaskSeparate(a,b)},Jb:function(a,b,c){U.stencilOp(a,b,c)},Ib:function(a,b,c,d){U.stencilOpSeparate(a,b,c,d)},Hb:function(a,b,c,d,e,g,k,m,r){U.texImage2D(a,b,c,d,e,g,k,m,r?yd(m,k,d,e,r):null)},Gb:function(a,b,c){U.texParameterf(a,b,c)},Fb:function(a,b,c){U.texParameterf(a,b,F[c>>2])},Eb:function(a,b,c){U.texParameteri(a,b,c)},Db:function(a,b,c){U.texParameteri(a,\r\n     b,D[c>>2])},Cb:function(a,b,c,d,e,g,k,m,r){var q=null;r&&(q=yd(m,k,e,g,r));U.texSubImage2D(a,b,c,d,e,g,k,m,q)},Bb:function(a,b){U.uniform1f(S[a],b)},Ab:function(a,b,c){if(288>=b)for(var d=zd[b-1],e=0;e<b;++e)d[e]=F[c+4*e>>2];else d=F.subarray(c>>2,c+4*b>>2);U.uniform1fv(S[a],d)},zb:function(a,b){U.uniform1i(S[a],b)},yb:function(a,b,c){if(288>=b)for(var d=Ad[b-1],e=0;e<b;++e)d[e]=D[c+4*e>>2];else d=D.subarray(c>>2,c+4*b>>2);U.uniform1iv(S[a],d)},xb:function(a,b,c){U.uniform2f(S[a],b,c)},wb:function(a,\r\n     b,c){if(144>=b)for(var d=zd[2*b-1],e=0;e<2*b;e+=2)d[e]=F[c+4*e>>2],d[e+1]=F[c+(4*e+4)>>2];else d=F.subarray(c>>2,c+8*b>>2);U.uniform2fv(S[a],d)},vb:function(a,b,c){U.uniform2i(S[a],b,c)},ub:function(a,b,c){if(144>=b)for(var d=Ad[2*b-1],e=0;e<2*b;e+=2)d[e]=D[c+4*e>>2],d[e+1]=D[c+(4*e+4)>>2];else d=D.subarray(c>>2,c+8*b>>2);U.uniform2iv(S[a],d)},tb:function(a,b,c,d){U.uniform3f(S[a],b,c,d)},sb:function(a,b,c){if(96>=b)for(var d=zd[3*b-1],e=0;e<3*b;e+=3)d[e]=F[c+4*e>>2],d[e+1]=F[c+(4*e+4)>>2],d[e+2]=\r\n     F[c+(4*e+8)>>2];else d=F.subarray(c>>2,c+12*b>>2);U.uniform3fv(S[a],d)},rb:function(a,b,c,d){U.uniform3i(S[a],b,c,d)},qb:function(a,b,c){if(96>=b)for(var d=Ad[3*b-1],e=0;e<3*b;e+=3)d[e]=D[c+4*e>>2],d[e+1]=D[c+(4*e+4)>>2],d[e+2]=D[c+(4*e+8)>>2];else d=D.subarray(c>>2,c+12*b>>2);U.uniform3iv(S[a],d)},pb:function(a,b,c,d,e){U.uniform4f(S[a],b,c,d,e)},ob:function(a,b,c){if(72>=b){var d=zd[4*b-1];c>>=2;for(var e=0;e<4*b;e+=4){var g=c+e;d[e]=F[g];d[e+1]=F[g+1];d[e+2]=F[g+2];d[e+3]=F[g+3]}}else d=F.subarray(c>>\r\n     2,c+16*b>>2);U.uniform4fv(S[a],d)},nb:function(a,b,c,d,e){U.uniform4i(S[a],b,c,d,e)},mb:function(a,b,c){if(72>=b)for(var d=Ad[4*b-1],e=0;e<4*b;e+=4)d[e]=D[c+4*e>>2],d[e+1]=D[c+(4*e+4)>>2],d[e+2]=D[c+(4*e+8)>>2],d[e+3]=D[c+(4*e+12)>>2];else d=D.subarray(c>>2,c+16*b>>2);U.uniform4iv(S[a],d)},lb:function(a,b,c,d){if(72>=b)for(var e=zd[4*b-1],g=0;g<4*b;g+=4)e[g]=F[d+4*g>>2],e[g+1]=F[d+(4*g+4)>>2],e[g+2]=F[d+(4*g+8)>>2],e[g+3]=F[d+(4*g+12)>>2];else e=F.subarray(d>>2,d+16*b>>2);U.uniformMatrix2fv(S[a],\r\n     !!c,e)},kb:function(a,b,c,d){if(32>=b)for(var e=zd[9*b-1],g=0;g<9*b;g+=9)e[g]=F[d+4*g>>2],e[g+1]=F[d+(4*g+4)>>2],e[g+2]=F[d+(4*g+8)>>2],e[g+3]=F[d+(4*g+12)>>2],e[g+4]=F[d+(4*g+16)>>2],e[g+5]=F[d+(4*g+20)>>2],e[g+6]=F[d+(4*g+24)>>2],e[g+7]=F[d+(4*g+28)>>2],e[g+8]=F[d+(4*g+32)>>2];else e=F.subarray(d>>2,d+36*b>>2);U.uniformMatrix3fv(S[a],!!c,e)},jb:function(a,b,c,d){if(18>=b){var e=zd[16*b-1];d>>=2;for(var g=0;g<16*b;g+=16){var k=d+g;e[g]=F[k];e[g+1]=F[k+1];e[g+2]=F[k+2];e[g+3]=F[k+3];e[g+4]=F[k+4];\r\n     e[g+5]=F[k+5];e[g+6]=F[k+6];e[g+7]=F[k+7];e[g+8]=F[k+8];e[g+9]=F[k+9];e[g+10]=F[k+10];e[g+11]=F[k+11];e[g+12]=F[k+12];e[g+13]=F[k+13];e[g+14]=F[k+14];e[g+15]=F[k+15]}}else e=F.subarray(d>>2,d+64*b>>2);U.uniformMatrix4fv(S[a],!!c,e)},ib:function(a){U.useProgram(R[a])},hb:function(a){U.validateProgram(R[a])},gb:function(a,b){U.vertexAttrib1f(a,b)},fb:function(a,b){U.vertexAttrib1f(a,F[b>>2])},eb:function(a,b,c){U.vertexAttrib2f(a,b,c)},db:function(a,b){U.vertexAttrib2f(a,F[b>>2],F[b+4>>2])},cb:function(a,\r\n     b,c,d){U.vertexAttrib3f(a,b,c,d)},bb:function(a,b){U.vertexAttrib3f(a,F[b>>2],F[b+4>>2],F[b+8>>2])},ab:function(a,b,c,d,e){U.vertexAttrib4f(a,b,c,d,e)},$a:function(a,b){U.vertexAttrib4f(a,F[b>>2],F[b+4>>2],F[b+8>>2],F[b+12>>2])},Fd:function(a,b){U.vertexAttribDivisor(a,b)},_a:function(a,b,c,d,e,g){U.vertexAttribPointer(a,b,c,!!d,e,g)},Za:function(a,b,c,d){U.viewport(a,b,c,d)},ka:function(){return"undefined"!==typeof SharedArrayBuffer},G:function(){return tb|0},R:function(){return sb|0},f:function(a,\r\n     b){Y(a,b||1);throw"longjmp";},ja:function(a,b,c){Ka.copyWithin(a,b,b+c)},ma:function(a,b,c){Cd.length=b;c>>=3;for(var d=0;d<b;d++)Cd[d]=Ua[c+d];return(0>a?ob[-a-1]:le[a]).apply(null,Cd)},ra:function(){u("OOM")},na:function(a,b,c){return Fd(a)?Gd(a,b,c):Id(a,b,c)},Q:function(){},la:function(){},oa:function(a,b){var c={};b>>=2;c.alpha=!!D[b];c.depth=!!D[b+1];c.stencil=!!D[b+2];c.antialias=!!D[b+3];c.premultipliedAlpha=!!D[b+4];c.preserveDrawingBuffer=!!D[b+5];c.powerPreference=Jd[D[b+6]];c.failIfMajorPerformanceCaveat=\r\n     !!D[b+7];c.wi=D[b+8];c.pj=D[b+9];c.qh=D[b+10];c.hi=D[b+11];c.uj=D[b+12];c.vj=D[b+13];a=Fd(a);if(!a||c.hi)c=0;else if(a=a.getContext("webgl",c)){b=Oa(8);D[b+4>>2]=rb|0;var d={jj:b,attributes:c,version:c.wi,qg:a};a.canvas&&(a.canvas.rg=d);("undefined"===typeof c.qh||c.qh)&&md(d);c=b}else c=0;return c},sa:function(a,b){var c=0;Ld().forEach(function(d,e){var g=b+c;D[a+4*e>>2]=g;Ra(d,g);c+=d.length+1});return 0},ta:function(a,b){var c=Ld();D[a>>2]=c.length;var d=0;c.forEach(function(e){d+=e.length+1});\r\n     D[b>>2]=d;return 0},D:function(a){da(a)},H:Nd,U:Od,xa:Pd,Va:Qd,M:Rd,B:Td,d:function(){return Aa|0},y:Ud,v:function(a,b,c,d,e,g,k){b=Pc(a,b);if(b.ef)return-6;a=b.port;var m=b.hf;b=!1;if(c&&d){var r;if(k&1||!(r=Lc(m))){if(k&8)return-2}else m=r;c=Ia(m,c,d);c+1>=d&&(b=!0)}e&&g&&(c=Ia(""+a,e,g),c+1>=g&&(b=!0));return b?-12:0},l:function(a){var b=Date.now();D[a>>2]=b/1E3|0;D[a+4>>2]=b%1E3*1E3|0;return 0},r:Jb,ia:function(){L.pi()},ba:oe,j:pe,h:qe,C:re,P:se,_:te,O:ue,Xa:ve,Wa:we,k:xe,w:ye,J:ze,g:Ae,N:Be,\r\n     Sa:Ce,Z:De,Ya:Ee,q:Ob,a:Ca||f.wasmMemory,T:function(a){Kb();var b=new Date(D[a+20>>2]+1900,D[a+16>>2],D[a+12>>2],D[a+8>>2],D[a+4>>2],D[a>>2],0),c=D[a+32>>2],d=b.getTimezoneOffset(),e=new Date(b.getFullYear(),0,1),g=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),k=e.getTimezoneOffset(),m=Math.min(k,g);0>c?D[a+32>>2]=Number(g!=k&&m==d):0<c!=(m==d)&&(g=Math.max(k,g),b.setTime(b.getTime()+6E4*((0<c?m:g)-d)));D[a+24>>2]=b.getDay();D[a+28>>2]=(b.getTime()-e.getTime())/864E5|0;return b.getTime()/1E3|\r\n     0},Ra:function(a){if(a===L.Ph)return h("Main thread (id="+a+") cannot be canceled!"),71;if(!a)return h("pthread_cancel attempted on a null thread pointer!"),71;if(D[a+12>>2]!==a)return h("pthread_cancel attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),71;Atomics.compareExchange(E,a>>2,0,2);n?postMessage({cmd:"cancelThread",thread:a}):wb(a);return 0},S:function(a){var b=L.Dg.pop();a&&b()},L:function(a,b){L.Dg.push(function(){G.get(a)(b)})},n:function(a,\r\n     b,c,d){if("undefined"===typeof SharedArrayBuffer)return h("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!a)return h("pthread_create called with a null thread pointer!"),28;var e=[];if(n&&0===e.length)return Fe(687865856,a,b,c,d);var g=0,k=0,m=0,r=0;if(b){var q=D[b>>2];q+=81920;g=D[b+8>>2];k=0!==D[b+12>>2];if(0===D[b+16>>2]){var t=D[b+20>>2],w=D[b+24>>2];m=b+20;r=b+24;var B=L.Mg?L.Mg:rb|0;if(m||r)if(B)if(D[B+12>>2]!==B)h("pthread_getschedparam attempted on thread "+\r\n     B+", which does not point to a valid thread, or does not exist anymore!");else{var p=Atomics.load(E,B+128>>2);B=Atomics.load(E,B+132>>2);m&&(D[m>>2]=p);r&&(D[r>>2]=B)}else h("pthread_getschedparam called with a null thread pointer!");m=D[b+20>>2];r=D[b+24>>2];D[b+20>>2]=t;D[b+24>>2]=w}else m=D[b+20>>2],r=D[b+24>>2]}else q=2097152;(b=0==g)?g=wc(16,q):(g-=q,assert(0<g));t=Oa(232);for(w=0;58>w;++w)E[(t>>2)+w]=0;D[a>>2]=t;D[t+12>>2]=t;a=t+156;D[a>>2]=a;c={Rf:g,cg:q,Kg:b,Ih:m,Jh:r,detached:k,Mi:c,$f:t,\r\n     Fi:rb|0,Tf:d,Vi:e};n?(c.$i="spawnThread",postMessage(c,e)):Db(c);return 0},o:function(a,b){return Yd(a,b)},i:Xd,e:function(a){Aa=a|0},E:function(){return 0},m:function(a,b,c,d){function e(p,x,z){for(p="number"===typeof p?p.toString():p||"";p.length<x;)p=z[0]+p;return p}function g(p,x){return e(p,x,"0")}function k(p,x){function z(V){return 0>V?-1:0<V?1:0}var I;0===(I=z(p.getFullYear()-x.getFullYear()))&&0===(I=z(p.getMonth()-x.getMonth()))&&(I=z(p.getDate()-x.getDate()));return I}function m(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-\r\n     1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function r(p){p=ce(new Date(p.rf+1900,0,1),p.Gg);var x=new Date(p.getFullYear()+1,0,4),z=m(new Date(p.getFullYear(),0,4));x=m(x);return 0>=k(z,p)?0>=k(x,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var q=D[d+40>>2];d={Ti:D[d>>2],Si:D[d+4>>\r\n     2],Eg:D[d+8>>2],pg:D[d+12>>2],dg:D[d+16>>2],rf:D[d+20>>2],Fg:D[d+24>>2],Gg:D[d+28>>2],yj:D[d+32>>2],Ri:D[d+36>>2],Ui:q?A(q):""};c=A(c);q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};\r\n     for(var t in q)c=c.replace(new RegExp(t,"g"),q[t]);var w="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");q={"%a":function(p){return w[p.Fg].substring(0,3)},"%A":function(p){return w[p.Fg]},"%b":function(p){return B[p.dg].substring(0,3)},"%B":function(p){return B[p.dg]},"%C":function(p){return g((p.rf+1900)/100|0,2)},"%d":function(p){return g(p.pg,2)},"%e":function(p){return e(p.pg,\r\n     2," ")},"%g":function(p){return r(p).toString().substring(2)},"%G":function(p){return r(p)},"%H":function(p){return g(p.Eg,2)},"%I":function(p){p=p.Eg;0==p?p=12:12<p&&(p-=12);return g(p,2)},"%j":function(p){return g(p.pg+$d(Zd(p.rf+1900)?ae:be,p.dg-1),3)},"%m":function(p){return g(p.dg+1,2)},"%M":function(p){return g(p.Si,2)},"%n":function(){return"\\n"},"%p":function(p){return 0<=p.Eg&&12>p.Eg?"AM":"PM"},"%S":function(p){return g(p.Ti,2)},"%t":function(){return"\\t"},"%u":function(p){return p.Fg||\r\n     7},"%U":function(p){var x=new Date(p.rf+1900,0,1),z=0===x.getDay()?x:ce(x,7-x.getDay());p=new Date(p.rf+1900,p.dg,p.pg);return 0>k(z,p)?g(Math.ceil((31-z.getDate()+($d(Zd(p.getFullYear())?ae:be,p.getMonth()-1)-31)+p.getDate())/7),2):0===k(z,x)?"01":"00"},"%V":function(p){var x=new Date(p.rf+1901,0,4),z=m(new Date(p.rf+1900,0,4));x=m(x);var I=ce(new Date(p.rf+1900,0,1),p.Gg);return 0>k(I,z)?"53":0>=k(x,I)?"01":g(Math.ceil((z.getFullYear()<p.rf+1900?p.Gg+32-z.getDate():p.Gg+1-z.getDate())/7),2)},"%w":function(p){return p.Fg},\r\n     "%W":function(p){var x=new Date(p.rf,0,1),z=1===x.getDay()?x:ce(x,0===x.getDay()?1:7-x.getDay()+1);p=new Date(p.rf+1900,p.dg,p.pg);return 0>k(z,p)?g(Math.ceil((31-z.getDate()+($d(Zd(p.getFullYear())?ae:be,p.getMonth()-1)-31)+p.getDate())/7),2):0===k(z,x)?"01":"00"},"%y":function(p){return(p.rf+1900).toString().substring(2)},"%Y":function(p){return p.rf+1900},"%z":function(p){p=p.Ri;var x=0<=p;p=Math.abs(p)/60;return(x?"+":"-")+String("0000"+(p/60*100+p%60)).slice(-4)},"%Z":function(p){return p.Ui},\r\n     "%%":function(){return"%"}};for(t in q)0<=c.indexOf(t)&&(c=c.replace(new RegExp(t,"g"),q[t](d)));t=$b(c,!1);if(t.length>b)return 0;v.set(t,a);return t.length-1},x:de,s:function(a){var b=Date.now()/1E3|0;a&&(D[a>>2]=b);return b}};\r\n     (function(){function a(e,g){f.asm=e.exports;G=f.asm.Sd;Da=g;n||hb()}function b(e){a(e.instance,e.module)}function c(e){return mb().then(function(g){return WebAssembly.instantiate(g,d)}).then(e,function(g){h("failed to asynchronously prepare wasm: "+g);u(g)})}var d={a:Ge};n||gb();if(f.instantiateWasm)try{return f.instantiateWasm(d,a)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}(function(){return Ba||"function"!==typeof WebAssembly.instantiateStreaming||kb()||ib("file://")||\r\n     "function"!==typeof fetch?c(b):fetch(jb,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,d).then(b,function(g){h("wasm streaming compile failed: "+g);h("falling back to ArrayBuffer instantiation");return c(b)})})})().catch(ba);return{}})();\r\n     var me=f.___wasm_call_ctors=function(){return(me=f.___wasm_call_ctors=f.asm.Td).apply(null,arguments)},Bb=f._free=function(){return(Bb=f._free=f.asm.Ud).apply(null,arguments)},Oa=f._malloc=function(){return(Oa=f._malloc=f.asm.Vd).apply(null,arguments)},Gb=f.___errno_location=function(){return(Gb=f.___errno_location=f.asm.Wd).apply(null,arguments)};f._fflush=function(){return(f._fflush=f.asm.Xd).apply(null,arguments)};\r\n     var wc=f._memalign=function(){return(wc=f._memalign=f.asm.Yd).apply(null,arguments)},Oc=f._ntohs=function(){return(Oc=f._ntohs=f.asm.Zd).apply(null,arguments)},Gc=f._htons=function(){return(Gc=f._htons=f.asm._d).apply(null,arguments)},ne=f._main=function(){return(ne=f._main=f.asm.$d).apply(null,arguments)},Wd=f._emscripten_get_global_libc=function(){return(Wd=f._emscripten_get_global_libc=f.asm.ae).apply(null,arguments)};\r\n     f.___em_js__initPthreadsJS=function(){return(f.___em_js__initPthreadsJS=f.asm.be).apply(null,arguments)};\r\n     var Vd=f._htonl=function(){return(Vd=f._htonl=f.asm.ce).apply(null,arguments)},rc=f._memset=function(){return(rc=f._memset=f.asm.de).apply(null,arguments)},Nb=f.__get_tzname=function(){return(Nb=f.__get_tzname=f.asm.ee).apply(null,arguments)},Mb=f.__get_daylight=function(){return(Mb=f.__get_daylight=f.asm.fe).apply(null,arguments)},Lb=f.__get_timezone=function(){return(Lb=f.__get_timezone=f.asm.ge).apply(null,arguments)},y=f.stackSave=function(){return(y=f.stackSave=f.asm.he).apply(null,arguments)},\r\n     C=f.stackRestore=function(){return(C=f.stackRestore=f.asm.ie).apply(null,arguments)},Ha=f.stackAlloc=function(){return(Ha=f.stackAlloc=f.asm.je).apply(null,arguments)},Y=f._setThrew=function(){return(Y=f._setThrew=f.asm.ke).apply(null,arguments)};f._emscripten_main_browser_thread_id=function(){return(f._emscripten_main_browser_thread_id=f.asm.le).apply(null,arguments)};\r\n     var Ab=f.___pthread_tsd_run_dtors=function(){return(Ab=f.___pthread_tsd_run_dtors=f.asm.me).apply(null,arguments)},Cb=f._emscripten_main_thread_process_queued_calls=function(){return(Cb=f._emscripten_main_thread_process_queued_calls=f.asm.ne).apply(null,arguments)};f._emscripten_current_thread_process_queued_calls=function(){return(f._emscripten_current_thread_process_queued_calls=f.asm.oe).apply(null,arguments)};\r\n     var yb=f._emscripten_register_main_browser_thread_id=function(){return(yb=f._emscripten_register_main_browser_thread_id=f.asm.pe).apply(null,arguments)},nb=f._do_emscripten_dispatch_to_thread=function(){return(nb=f._do_emscripten_dispatch_to_thread=f.asm.qe).apply(null,arguments)};f._emscripten_async_run_in_main_thread=function(){return(f._emscripten_async_run_in_main_thread=f.asm.re).apply(null,arguments)};\r\n     f._emscripten_sync_run_in_main_thread=function(){return(f._emscripten_sync_run_in_main_thread=f.asm.se).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_0=function(){return(f._emscripten_sync_run_in_main_thread_0=f.asm.te).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_1=function(){return(f._emscripten_sync_run_in_main_thread_1=f.asm.ue).apply(null,arguments)};\r\n     f._emscripten_sync_run_in_main_thread_2=function(){return(f._emscripten_sync_run_in_main_thread_2=f.asm.ve).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_xprintf_varargs=function(){return(f._emscripten_sync_run_in_main_thread_xprintf_varargs=f.asm.we).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_3=function(){return(f._emscripten_sync_run_in_main_thread_3=f.asm.xe).apply(null,arguments)};\r\n     var Fe=f._emscripten_sync_run_in_main_thread_4=function(){return(Fe=f._emscripten_sync_run_in_main_thread_4=f.asm.ye).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_5=function(){return(f._emscripten_sync_run_in_main_thread_5=f.asm.ze).apply(null,arguments)};f._emscripten_sync_run_in_main_thread_6=function(){return(f._emscripten_sync_run_in_main_thread_6=f.asm.Ae).apply(null,arguments)};\r\n     f._emscripten_sync_run_in_main_thread_7=function(){return(f._emscripten_sync_run_in_main_thread_7=f.asm.Be).apply(null,arguments)};var Bd=f._emscripten_run_in_main_runtime_thread_js=function(){return(Bd=f._emscripten_run_in_main_runtime_thread_js=f.asm.Ce).apply(null,arguments)},Hd=f.__emscripten_call_on_thread=function(){return(Hd=f.__emscripten_call_on_thread=f.asm.De).apply(null,arguments)};f._proxy_main=function(){return(f._proxy_main=f.asm.Ee).apply(null,arguments)};\r\n     f._emscripten_tls_init=function(){return(f._emscripten_tls_init=f.asm.Fe).apply(null,arguments)};f.dynCall_ijiii=function(){return(f.dynCall_ijiii=f.asm.Ge).apply(null,arguments)};var He=f.dynCall_vijjjid=function(){return(He=f.dynCall_vijjjid=f.asm.He).apply(null,arguments)},Ie=f.dynCall_iiiijj=function(){return(Ie=f.dynCall_iiiijj=f.asm.Ie).apply(null,arguments)};f.dynCall_iiijiii=function(){return(f.dynCall_iiijiii=f.asm.Je).apply(null,arguments)};\r\n     f.dynCall_jiiii=function(){return(f.dynCall_jiiii=f.asm.Ke).apply(null,arguments)};f.dynCall_jii=function(){return(f.dynCall_jii=f.asm.Le).apply(null,arguments)};var Je=f.dynCall_iij=function(){return(Je=f.dynCall_iij=f.asm.Me).apply(null,arguments)};f.dynCall_viiijj=function(){return(f.dynCall_viiijj=f.asm.Ne).apply(null,arguments)};f.dynCall_jij=function(){return(f.dynCall_jij=f.asm.Oe).apply(null,arguments)};f.dynCall_jiji=function(){return(f.dynCall_jiji=f.asm.Pe).apply(null,arguments)};\r\n     f.dynCall_iiiji=function(){return(f.dynCall_iiiji=f.asm.Qe).apply(null,arguments)};f.dynCall_iiiiij=function(){return(f.dynCall_iiiiij=f.asm.Re).apply(null,arguments)};f.dynCall_jiiij=function(){return(f.dynCall_jiiij=f.asm.Se).apply(null,arguments)};f.dynCall_iiijjji=function(){return(f.dynCall_iiijjji=f.asm.Te).apply(null,arguments)};f.dynCall_iiiiiij=function(){return(f.dynCall_iiiiiij=f.asm.Ue).apply(null,arguments)};f.dynCall_jiiji=function(){return(f.dynCall_jiiji=f.asm.Ve).apply(null,arguments)};\r\n     f.dynCall_viiiiijji=function(){return(f.dynCall_viiiiijji=f.asm.We).apply(null,arguments)};f.dynCall_viiiji=function(){return(f.dynCall_viiiji=f.asm.Xe).apply(null,arguments)};f.dynCall_viiiiji=function(){return(f.dynCall_viiiiji=f.asm.Ye).apply(null,arguments)};f.dynCall_jiiiii=function(){return(f.dynCall_jiiiii=f.asm.Ze).apply(null,arguments)};f.dynCall_jiii=function(){return(f.dynCall_jiii=f.asm._e).apply(null,arguments)};\r\n     f.dynCall_jiiiiii=function(){return(f.dynCall_jiiiiii=f.asm.$e).apply(null,arguments)};f._ff_h264_cabac_tables=2116006;var zb=f._main_thread_futex=17189696;function qe(a,b,c){var d=y();try{return G.get(a)(b,c)}catch(e){C(d);if(e!==e+0&&"longjmp"!==e)throw e;Y(1,0)}}function xe(a,b){var c=y();try{G.get(a)(b)}catch(d){C(c);if(d!==d+0&&"longjmp"!==d)throw d;Y(1,0)}}function Ae(a,b,c,d,e){var g=y();try{G.get(a)(b,c,d,e)}catch(k){C(g);if(k!==k+0&&"longjmp"!==k)throw k;Y(1,0)}}\r\n     function ye(a,b,c){var d=y();try{G.get(a)(b,c)}catch(e){C(d);if(e!==e+0&&"longjmp"!==e)throw e;Y(1,0)}}function pe(a,b){var c=y();try{return G.get(a)(b)}catch(d){C(c);if(d!==d+0&&"longjmp"!==d)throw d;Y(1,0)}}function se(a,b,c,d,e){var g=y();try{return G.get(a)(b,c,d,e)}catch(k){C(g);if(k!==k+0&&"longjmp"!==k)throw k;Y(1,0)}}function ue(a,b,c,d,e,g,k,m,r){var q=y();try{return G.get(a)(b,c,d,e,g,k,m,r)}catch(t){C(q);if(t!==t+0&&"longjmp"!==t)throw t;Y(1,0)}}\r\n     function ze(a,b,c,d){var e=y();try{G.get(a)(b,c,d)}catch(g){C(e);if(g!==g+0&&"longjmp"!==g)throw g;Y(1,0)}}function oe(a){var b=y();try{return G.get(a)()}catch(c){C(b);if(c!==c+0&&"longjmp"!==c)throw c;Y(1,0)}}function Be(a,b,c,d,e,g){var k=y();try{G.get(a)(b,c,d,e,g)}catch(m){C(k);if(m!==m+0&&"longjmp"!==m)throw m;Y(1,0)}}function re(a,b,c,d){var e=y();try{return G.get(a)(b,c,d)}catch(g){C(e);if(g!==g+0&&"longjmp"!==g)throw g;Y(1,0)}}\r\n     function te(a,b,c,d,e,g){var k=y();try{return G.get(a)(b,c,d,e,g)}catch(m){C(k);if(m!==m+0&&"longjmp"!==m)throw m;Y(1,0)}}function De(a,b,c,d,e,g,k,m,r){var q=y();try{G.get(a)(b,c,d,e,g,k,m,r)}catch(t){C(q);if(t!==t+0&&"longjmp"!==t)throw t;Y(1,0)}}function Ce(a,b,c,d,e,g,k){var m=y();try{G.get(a)(b,c,d,e,g,k)}catch(r){C(m);if(r!==r+0&&"longjmp"!==r)throw r;Y(1,0)}}function Ee(a,b,c,d,e,g,k,m,r,q){var t=y();try{He(a,b,c,d,e,g,k,m,r,q)}catch(w){C(t);if(w!==w+0&&"longjmp"!==w)throw w;Y(1,0)}}\r\n     function ve(a,b,c,d,e,g,k,m){var r=y();try{return Ie(a,b,c,d,e,g,k,m)}catch(q){C(r);if(q!==q+0&&"longjmp"!==q)throw q;Y(1,0)}}function we(a,b,c,d){var e=y();try{return Je(a,b,c,d)}catch(g){C(e);if(g!==g+0&&"longjmp"!==g)throw g;Y(1,0)}}f.ccall=Ga;f.cwrap=function(a,b,c,d){c=c||[];var e=c.every(function(g){return"number"===g});return"string"!==b&&e&&!d?Fa(a):function(){return Ga(a,b,c,arguments,d)}};\r\n     f.setValue=function(a,b,c){c=c||"i8";"*"===c.charAt(c.length-1)&&(c="i32");switch(c){case "i1":v[a>>0]=b;break;case "i8":v[a>>0]=b;break;case "i16":Sa[a>>1]=b;break;case "i32":D[a>>2]=b;break;case "i64":J=[b>>>0,(H=b,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];D[a>>2]=J[0];D[a+4>>2]=J[1];break;case "float":F[a>>2]=b;break;case "double":Ua[a>>3]=b;break;default:u("invalid type for setValue: "+c)}};f.UTF8ToString=A;\r\n     f.stringToUTF8=Ia;f.lengthBytesUTF8=Ma;f.writeAsciiToMemory=Ra;f.FS=N;f.PThread=L;f.PThread=L;f._pthread_self=Xd;f.wasmMemory=Ca;f.ExitStatus=ca;var Ke;function ca(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}eb=function Le(){Ke||Me();Ke||(eb=Le)};\r\n     function Me(a){function b(){if(!Ke&&(Ke=!0,f.calledRun=!0,!Ea)){f.noFSInit||N.gg.Tg||N.gg();Q.root=N.jf(Q,{},null);pb(Ya);n||(N.Bh=!1,pb(Za));aa(f);if(f.onRuntimeInitialized)f.onRuntimeInitialized();if(Ne){var c=a;c=c||[];var d=c.length+1,e=Ha(4*(d+1));D[e>>2]=Pa(ka);for(var g=1;g<d;g++)D[(e>>2)+g]=Pa(c[g-1]);D[(e>>2)+d]=0;f._proxy_main(d,e)}if(!n){if(f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)c=f.postRun.shift(),ab.unshift(c);pb(ab)}}}a=a||ja;if(!(0<cb)){if(!n){if(f.preRun)for("function"==\r\n     typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)bb();pb(Xa)}0<cb||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1);b()},1)):b())}}f.run=Me;function da(a,b){if(!b||!noExitRuntime||0!==a){if(!noExitRuntime){L.Oi();n||(pb($a),N.quit(),L.eh());if(f.onExit)f.onExit(a);Ea=!0}la(a,new ca(a))}}if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();var Ne=!1;f.noInitialRun&&(Ne=!1);\r\n     n?L.ri():Me();\r\n     \r\n     \r\n       return createFFmpegCore.ready\r\n     }\r\n     );\r\n     })();\r\n     if (typeof exports === \'object\' && typeof module === \'object\')\r\n           module.exports = createFFmpegCore;\r\n         else if (typeof define === \'function\' && define[\'amd\'])\r\n           define([], function() { return createFFmpegCore; });\r\n         else if (typeof exports === \'object\')\r\n           exports["createFFmpegCore"] = createFFmpegCore;',a=w(),o=y("div"),c=w(),i=y("div"),f=y("div"),f.innerHTML='<h2>Saving Video</h2> \n        <h4 class="svelte-1ojtn5n">This might take a few minutes</h4>',s=w(),u=y("div"),d=y("div"),l=y("div"),b=w(),g=y("h4"),_=v(n[1]),k(o,"class","blackout svelte-1ojtn5n"),k(f,"class","topAndBottom svelte-1ojtn5n"),k(l,"class","loadingMain svelte-1ojtn5n"),k(d,"class","loadingBG svelte-1ojtn5n"),k(g,"class","svelte-1ojtn5n"),k(u,"class","topAndBottom svelte-1ojtn5n"),k(i,"class","bg svelte-1ojtn5n")},m(e,m){p(document.head,t),p(document.head,r),h(e,a,m),h(e,o,m),h(e,c,m),h(e,i,m),p(i,f),p(i,s),p(i,u),p(u,d),p(d,l),n[3](l),p(u,b),p(u,g),p(g,_)},p(e,[n]){2&n&&x(_,e[1])},i:e,o:e,d(e){m(t),m(r),e&&m(a),e&&m(o),e&&m(c),e&&m(i),n[3](null)}}}function Ie(e,n,t){let r,a="Current Task",{blob:o}=n;P((async()=>{t(0,r.style.width="0%",r),c(o)}));const c=e=>{(async()=>{const{createFFmpeg:n,fetchFile:o}=FFmpeg,c=n({log:!0});t(1,a="Started loading FFMPEG. This might take a while."),await c.load(),t(1,a="Successfully loaded FFMPEG"),c.setLogger((({type:e,message:n})=>{alert(n),t(1,a=n)})),c.setProgress((({ratio:e})=>{console.log(e),t(0,r.style.width=100*e+"%",r)})),c.FS("writeFile","record.webm",await o(new Uint8Array(await e.arrayBuffer()))),await c.run("-i","record.webm","-vf","fps=10,scale=320:-1:flags=lanczos,crop=240:in_w:(in_h-240)/2:0,eq=brightness=-0.1","-vcodec","mjpeg","-q:v","2","320_30fps.avi");const i=c.FS("readFile","320_30fps.avi");link.href=URL.createObjectURL(new Blob([i.buffer],{type:"video/mjpeg"})),link.download="320_30fps.mjpeg";let f=new FormData,s=new File([i.buffer],"pleaseworkvideo.mjpeg");f.append("data",s),fetch("/upload",{method:"POST",body:f})})()};return e.$$set=e=>{"blob"in e&&t(2,o=e.blob)},[r,a,o,function(e){L[e?"unshift":"push"]((()=>{r=e,t(0,r)}))}]}class Me extends ce{constructor(e){super(),oe(this,e,Ie,Re,c,{blob:2})}}function qe(e){let n,t;return n=new Me({props:{blob:e[6]}}),{c(){ne(n.$$.fragment)},m(e,r){te(n,e,r),t=!0},p(e,t){const r={};64&t&&(r.blob=e[6]),n.$set(r)},i(e){t||(Q(n.$$.fragment,e),t=!0)},o(e){X(n.$$.fragment,e),t=!1},d(e){re(n,e)}}}function $e(n){let t,r,o,c,i;return{c(){t=y("button"),t.innerHTML='<h3 class="svelte-103b932">Save Video</h3>',r=w(),o=y("button"),o.innerHTML='<h3 class="svelte-103b932">Delete Video</h3>',k(t,"class","saveBtn svelte-103b932"),k(o,"class","recordBtn svelte-103b932")},m(e,a){h(e,t,a),h(e,r,a),h(e,o,a),c||(i=[_(t,"click",n[11]),_(o,"click",n[10])],c=!0)},p:e,i:e,o:e,d(e){e&&m(t),e&&m(r),e&&m(o),c=!1,a(i)}}}function Be(n){let t;return{c(){t=y("h3"),t.textContent="Recording",k(t,"class","svelte-103b932")},m(e,n){h(e,t,n)},p:e,i:e,o:e,d(e){e&&m(t)}}}function Ge(e){let n,t,r,a,o,c,i,f,s,u,d,l,b,g;function p(n){e[14](n)}let v={};function x(n){e[15](n)}void 0!==e[0]&&(v.currentCameraType=e[0]),r=new Ce({props:v}),L.push((()=>ee(r,"currentCameraType",p)));let D={};return void 0!==e[1]&&(D.currentTime=e[1]),f=new Ue({props:D}),L.push((()=>ee(f,"currentTime",x))),{c(){n=y("h4"),n.textContent="Camera type",t=w(),ne(r.$$.fragment),o=w(),c=y("h4"),c.textContent="Record Time",i=w(),ne(f.$$.fragment),u=w(),d=y("button"),d.innerHTML='<h3 class="svelte-103b932">Record</h3>',k(n,"class","svelte-103b932"),N(c,"margin-top","1rem"),k(c,"class","svelte-103b932"),k(d,"class","recordBtn svelte-103b932")},m(a,s){h(a,n,s),h(a,t,s),te(r,a,s),h(a,o,s),h(a,c,s),h(a,i,s),te(f,a,s),h(a,u,s),h(a,d,s),l=!0,b||(g=_(d,"click",e[16]),b=!0)},p(e,n){const t={};!a&&1&n&&(a=!0,t.currentCameraType=e[0],M((()=>a=!1))),r.$set(t);const o={};!s&&2&n&&(s=!0,o.currentTime=e[1],M((()=>s=!1))),f.$set(o)},i(e){l||(Q(r.$$.fragment,e),Q(f.$$.fragment,e),l=!0)},o(e){X(r.$$.fragment,e),X(f.$$.fragment,e),l=!1},d(e){e&&m(n),e&&m(t),re(r,e),e&&m(o),e&&m(c),e&&m(i),re(f,e),e&&m(u),e&&m(d),b=!1,g()}}}function ze(e){let n,t,r,a,o,c,i,f,s,u,d,l,b,g,N,D=e[5]&&qe(e);const F=[Ge,Be,$e],E=[];function j(e,n){return e[3]||e[4]?e[3]?1:e[4]?2:-1:0}return~(d=j(e))&&(l=E[d]=F[d](e)),{c(){D&&D.c(),n=w(),t=y("button"),t.textContent="Back",r=w(),a=y("div"),o=y("h3"),c=v("Frame #"),i=v(e[7]),f=w(),s=y("video"),u=w(),l&&l.c(),k(t,"class","backBtn svelte-103b932"),k(o,"class","svelte-103b932"),s.muted=!0,s.autoplay=!0,s.playsInline=!0,s.loop=!0,k(s,"class","svelte-103b932"),k(a,"class","center svelte-103b932")},m(l,m){D&&D.m(l,m),h(l,n,m),h(l,t,m),h(l,r,m),h(l,a,m),p(a,o),p(o,c),p(o,i),p(a,f),p(a,s),e[13](s),p(a,u),~d&&E[d].m(a,null),b=!0,g||(N=_(t,"click",e[8]),g=!0)},p(e,[t]){e[5]?D?(D.p(e,t),32&t&&Q(D,1)):(D=qe(e),D.c(),Q(D,1),D.m(n.parentNode,n)):D&&(V(),X(D,1,1,(()=>{D=null})),Y()),(!b||128&t)&&x(i,e[7]);let r=d;d=j(e),d===r?~d&&E[d].p(e,t):(l&&(V(),X(E[r],1,1,(()=>{E[r]=null})),Y()),~d?(l=E[d],l?l.p(e,t):(l=E[d]=F[d](e),l.c()),Q(l,1),l.m(a,null)):l=null)},i(e){b||(Q(D),Q(l),b=!0)},o(e){X(D),X(l),b=!1},d(o){D&&D.d(o),o&&m(n),o&&m(t),o&&m(r),o&&m(a),e[13](null),~d&&E[d].d(),g=!1,N()}}}function He(e){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(n){e(n)})).catch((function(e){alert("Unable to capture your camera. Please check console logs."),console.error(e)}))}function We(e,n,t){let r;i(e,me,(e=>t(7,r=e)));let a,{showRecordPage:o}=n,c="BACK",f=5;var s;let u,d=!1,l=!1,b=!1;const g=e=>{d||(t(3,d=!0),s.startRecording(),setTimeout((function(){s.stopRecording(p)}),1e3*e))};function p(){t(4,l=!0),t(3,d=!1),t(2,a.src=t(2,a.srcObject=null,a),a),t(2,a.muted=!1,a),t(2,a.volume=1,a),t(2,a.src=URL.createObjectURL(s.getBlob()),a),t(6,u=s.getBlob()),s.camera.stop(),s.destroy(),s=null}He((function(e){t(2,a.muted=!0,a),t(2,a.volume=0,a),t(2,a.srcObject=e,a),(s=RecordRTC(e,{type:"video"})).camera=e}));return e.$$set=e=>{"showRecordPage"in e&&t(12,o=e.showRecordPage)},[c,f,a,d,l,b,u,r,()=>{t(12,o=!1)},g,()=>{t(4,l=!1),t(3,d=!1),He((function(e){t(2,a.muted=!0,a),t(2,a.volume=0,a),t(2,a.srcObject=e,a),(s=RecordRTC(e,{type:"video"})).camera=e}))},()=>{t(5,b=!0)},o,function(e){L[e?"unshift":"push"]((()=>{a=e,t(2,a)}))},function(e){c=e,t(0,c)},function(e){f=e,t(1,f)},()=>g(2)]}class Ke extends ce{constructor(e){super(),oe(this,e,We,ze,c,{showRecordPage:12})}}function Ve(e){let n,t,r;function a(n){e[6](n)}let o={};return void 0!==e[2]&&(o.showRecordPage=e[2]),n=new Ke({props:o}),L.push((()=>ee(n,"showRecordPage",a))),{c(){ne(n.$$.fragment)},m(e,t){te(n,e,t),r=!0},p(e,r){const a={};!t&&4&r&&(t=!0,a.showRecordPage=e[2],M((()=>t=!1))),n.$set(a)},i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){re(n,e)}}}function Ye(e){let n,t,r,a,o,c,i,f=e[1]&&Qe(e);function s(n){e[4](n)}function u(n){e[5](n)}t=new se({});let d={};return void 0!==e[0]&&(d.savedFrameIDs=e[0]),void 0!==e[2]&&(d.showRecordPage=e[2]),a=new De({props:d}),L.push((()=>ee(a,"savedFrameIDs",s))),L.push((()=>ee(a,"showRecordPage",u))),{c(){f&&f.c(),n=w(),ne(t.$$.fragment),r=w(),ne(a.$$.fragment)},m(e,o){f&&f.m(e,o),h(e,n,o),te(t,e,o),h(e,r,o),te(a,e,o),i=!0},p(e,t){e[1]?f?(f.p(e,t),2&t&&Q(f,1)):(f=Qe(e),f.c(),Q(f,1),f.m(n.parentNode,n)):f&&(V(),X(f,1,1,(()=>{f=null})),Y());const r={};!o&&1&t&&(o=!0,r.savedFrameIDs=e[0],M((()=>o=!1))),!c&&4&t&&(c=!0,r.showRecordPage=e[2],M((()=>c=!1))),a.$set(r)},i(e){i||(Q(f),Q(t.$$.fragment,e),Q(a.$$.fragment,e),i=!0)},o(e){X(f),X(t.$$.fragment,e),X(a.$$.fragment,e),i=!1},d(e){f&&f.d(e),e&&m(n),re(t,e),e&&m(r),re(a,e)}}}function Qe(e){let n,t,r;function a(n){e[3](n)}let o={frameID:Je};return void 0!==e[1]&&(o.showFrameDetected=e[1]),n=new pe({props:o}),L.push((()=>ee(n,"showFrameDetected",a))),{c(){ne(n.$$.fragment)},m(e,t){te(n,e,t),r=!0},p(e,r){const a={};!t&&2&r&&(t=!0,a.showFrameDetected=e[1],M((()=>t=!1))),n.$set(a)},i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){re(n,e)}}}function Xe(e){let n,t,r,a;const o=[Ye,Ve],c=[];function i(e,n){return e[2]?1:0}return n=i(e),t=c[n]=o[n](e),{c(){t.c(),r=v("")},m(e,t){c[n].m(e,t),h(e,r,t),a=!0},p(e,[a]){let f=n;n=i(e),n===f?c[n].p(e,a):(V(),X(c[f],1,1,(()=>{c[f]=null})),Y(),t=c[n],t?t.p(e,a):(t=c[n]=o[n](e),t.c()),Q(t,1),t.m(r.parentNode,r))},i(e){a||(Q(t),a=!0)},o(e){X(t),a=!1},d(e){c[n].d(e),e&&m(r)}}}const Je="000";function Ze(e,n,t){let r=["001","002","003","004"],a=!1,o=!0;return P((async()=>{r.forEach((e=>{}))})),[r,a,o,function(e){a=e,t(1,a)},function(e){r=e,t(0,r)},function(e){o=e,t(2,o)},function(e){o=e,t(2,o)}]}return new class extends ce{constructor(e){super(),oe(this,e,Ze,Xe,c,{})}}({target:document.body})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL2luZGV4Lm1qcyIsIi4uLy4uL3NyYy9saWIvUmVmcmVzaC5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL0ZyYW1lSWNvbi5zdmVsdGUiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3RyYW5zaXRpb24vaW5kZXgubWpzIiwiLi4vLi4vc3JjL2xpYi9GcmFtZURldGVjdGVkLnN2ZWx0ZSIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3RvcmUvaW5kZXgubWpzIiwiLi4vLi4vc3JjL3N0b3Jlcy5qcyIsIi4uLy4uL3NyYy9saWIvSG9tZUZyYW1lLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvRnJhbWVDb2xsZWN0aW9uLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ2FtZXJhVHlwZUJ1dHRvbnMuc3ZlbHRlIiwiLi4vLi4vc3JjL2xpYi9SZWNvcmRUaW1lQnV0dG9ucy5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL0NvbnZlcnRVSS5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL1JlY29yZFBhZ2Uuc3ZlbHRlIiwiLi4vLi4vc3JjL0FwcC5zdmVsdGUiLCIuLi8uLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub29wKCkgeyB9XG5jb25zdCBpZGVudGl0eSA9IHggPT4geDtcbmZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBmb3IgKGNvbnN0IGsgaW4gc3JjKVxuICAgICAgICB0YXJba10gPSBzcmNba107XG4gICAgcmV0dXJuIHRhcjtcbn1cbmZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcbiAgICBlbGVtZW50Ll9fc3ZlbHRlX21ldGEgPSB7XG4gICAgICAgIGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuICAgIH07XG59XG5mdW5jdGlvbiBydW4oZm4pIHtcbiAgICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cbmZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG4gICAgZm5zLmZvckVhY2gocnVuKTtcbn1cbmZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcbiAgICBpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuICAgIGlmIChzdG9yZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuICAgIHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbmZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBzdWJzY3JpYmUoc3RvcmUsIF8gPT4gdmFsdWUgPSBfKSgpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcbiAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmblxuICAgICAgICA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKVxuICAgICAgICA6ICQkc2NvcGUuY3R4O1xufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuICAgICAgICBjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuICAgICAgICBpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcbiAgICB9XG4gICAgcmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIGlmIChzbG90X2NoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG4gICAgICAgIHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3Rfc3ByZWFkKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbiwgZ2V0X3Nsb3Rfc3ByZWFkX2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9zcHJlYWRfY2hhbmdlc19mbihkaXJ0eSkgfCBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIGlmIChzbG90X2NoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG4gICAgICAgIHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcbiAgICBjb25zdCByZXN0ID0ge307XG4gICAga2V5cyA9IG5ldyBTZXQoa2V5cyk7XG4gICAgZm9yIChjb25zdCBrIGluIHByb3BzKVxuICAgICAgICBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3Rba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICByZXN1bHRba2V5XSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAocmFuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlID0gcmV0KSB7XG4gICAgc3RvcmUuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuICAgIHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBub3cgPSBpc19jbGllbnRcbiAgICA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuICAgIDogKCkgPT4gRGF0ZS5ub3coKTtcbmxldCByYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIG5vdyA9IGZuO1xufVxuZnVuY3Rpb24gc2V0X3JhZihmbikge1xuICAgIHJhZiA9IGZuO1xufVxuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAoIXRhc2suYyhub3cpKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgICAgICB0YXNrLmYoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YXNrcy5zaXplICE9PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBuZXcgUHJvbWlzZShmdWxmaWxsID0+IHtcbiAgICAgICAgICAgIHRhc2tzLmFkZCh0YXNrID0geyBjOiBjYWxsYmFjaywgZjogZnVsZmlsbCB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0KCkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5mdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcbiAgICAvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgY29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcbiAgICAgICAgaWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG93O1xufVxuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KVxuICAgICAgICByZXR1cm47XG4gICAgdGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG4gICAgLy8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZFxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkTm9kZXM7XG4gICAgLypcbiAgICAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG4gICAgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG4gICAgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuICAgICogc3Vic2VxdWVuY2Ugc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcbiAgICAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG4gICAgKlxuICAgICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG4gICAgKiBwb3NzaWJsZS5cbiAgICAqXG4gICAgKiBQcm9vZjpcbiAgICAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuICAgICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG4gICAgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuICAgICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cbiAgICAqL1xuICAgIC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgLy8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuICAgIGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcbiAgICAvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuICAgIGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuICAgIG1bMF0gPSAtMTtcbiAgICBsZXQgbG9uZ2VzdCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG4gICAgICAgIC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG4gICAgICAgIC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG4gICAgICAgIGNvbnN0IHNlcUxlbiA9IHVwcGVyX2JvdW5kKDEsIGxvbmdlc3QgKyAxLCBpZHggPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkgLSAxO1xuICAgICAgICBwW2ldID0gbVtzZXFMZW5dICsgMTtcbiAgICAgICAgY29uc3QgbmV3TGVuID0gc2VxTGVuICsgMTtcbiAgICAgICAgLy8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuICAgICAgICBtW25ld0xlbl0gPSBpO1xuICAgICAgICBsb25nZXN0ID0gTWF0aC5tYXgobmV3TGVuLCBsb25nZXN0KTtcbiAgICB9XG4gICAgLy8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuICAgIGNvbnN0IGxpcyA9IFtdO1xuICAgIC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG4gICAgY29uc3QgdG9Nb3ZlID0gW107XG4gICAgbGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGN1ciA9IG1bbG9uZ2VzdF0gKyAxOyBjdXIgIT0gMDsgY3VyID0gcFtjdXIgLSAxXSkge1xuICAgICAgICBsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG4gICAgICAgIGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG4gICAgICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdC0tO1xuICAgIH1cbiAgICBmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcbiAgICAgICAgdG9Nb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuICAgIH1cbiAgICBsaXMucmV2ZXJzZSgpO1xuICAgIC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuICAgIHRvTW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG4gICAgLy8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b01vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd2hpbGUgKGogPCBsaXMubGVuZ3RoICYmIHRvTW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUodG9Nb3ZlW2ldLCBhbmNob3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nKSB7XG4gICAgICAgIGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQpIHx8ICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnRFbGVtZW50ICE9PSB0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcbiAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcbiAgICAgICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LmlzVHJ1c3RlZClcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc05vZGUsIGNyZWF0ZU5vZGUsIGRvbnRVcGRhdGVMYXN0SW5kZXggPSBmYWxzZSkge1xuICAgIC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgaWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2Rlcy5jbGFpbV9pbmZvID0geyBsYXN0X2luZGV4OiAwLCB0b3RhbF9jbGFpbWVkOiAwIH07XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdE5vZGUgPSAoKCkgPT4ge1xuICAgICAgICAvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcbiAgICAgICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICByZXR1cm4gY3JlYXRlTm9kZSgpO1xuICAgIH0pKCk7XG4gICAgcmVzdWx0Tm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcbiAgICBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcbiAgICByZXR1cm4gcmVzdWx0Tm9kZTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Zykge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSwgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbW92ZS5mb3JFYWNoKHYgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuICAgIH0sICgpID0+IHN2ZyA/IHN2Z19lbGVtZW50KG5hbWUpIDogZWxlbWVudChuYW1lKSk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRhdGEgPSAnJyArIGRhdGE7XG4gICAgfSwgKCkgPT4gdGV4dChkYXRhKSwgdHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcbiAgICApO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIGZpbmRfY29tbWVudChub2RlcywgdGV4dCwgc3RhcnQpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzKSB7XG4gICAgLy8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG4gICAgY29uc3Qgc3RhcnRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuICAgIGNvbnN0IGVuZF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4KTtcbiAgICBpZiAoc3RhcnRfaW5kZXggPT09IGVuZF9pbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUYWcoKTtcbiAgICB9XG4gICAgY29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCArIDEpO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcbiAgICByZXR1cm4gbmV3IEh0bWxUYWcoaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSkpO1xufVxuZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ICE9PSBkYXRhKVxuICAgICAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJykgfHwgc2VsZWN0Lm9wdGlvbnNbMF07XG4gICAgcmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcbiAgICByZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIG9wdGlvbiA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcbmxldCBjcm9zc29yaWdpbjtcbmZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNyb3Nzb3JpZ2luID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5mdW5jdGlvbiBhZGRfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG4gICAgY29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG4gICAgICAgICdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaWZyYW1lLnRhYkluZGV4ID0gLTE7XG4gICAgY29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuICAgIGxldCB1bnN1YnNjcmliZTtcbiAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKHdpbmRvdywgJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KVxuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBwZW5kKG5vZGUsIGlmcmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaChpZnJhbWUpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCBidWJibGVzID0gZmFsc2UpIHtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgYnViYmxlcywgZmFsc2UsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoY2xhaW1lZF9ub2Rlcykge1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgICAgICB0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuICAgIH1cbiAgICBtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuZSkge1xuICAgICAgICAgICAgdGhpcy5lID0gZWxlbWVudCh0YXJnZXQubm9kZU5hbWUpO1xuICAgICAgICAgICAgdGhpcy50ID0gdGFyZ2V0O1xuICAgICAgICAgICAgaWYgKHRoaXMubCkge1xuICAgICAgICAgICAgICAgIHRoaXMubiA9IHRoaXMubDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmkoYW5jaG9yKTtcbiAgICB9XG4gICAgaChodG1sKSB7XG4gICAgICAgIHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB0aGlzLm4gPSBBcnJheS5mcm9tKHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgdGhpcy5pKHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgcmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBhY3RpdmVfZG9jcyA9IG5ldyBTZXQoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcbiAgICBjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG4gICAgbGV0IGtleWZyYW1lcyA9ICd7XFxuJztcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgdCA9IGEgKyAoYiAtIGEpICogZWFzZShwKTtcbiAgICAgICAga2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcbiAgICB9XG4gICAgY29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG4gICAgY29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG4gICAgY29uc3QgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIGFjdGl2ZV9kb2NzLmFkZChkb2MpO1xuICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2MuX19zdmVsdGVfc3R5bGVzaGVldCB8fCAoZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQgPSBkb2MuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KCdzdHlsZScpKS5zaGVldCk7XG4gICAgY29uc3QgY3VycmVudF9ydWxlcyA9IGRvYy5fX3N2ZWx0ZV9ydWxlcyB8fCAoZG9jLl9fc3ZlbHRlX3J1bGVzID0ge30pO1xuICAgIGlmICghY3VycmVudF9ydWxlc1tuYW1lXSkge1xuICAgICAgICBjdXJyZW50X3J1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBhY3RpdmVfZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQ7XG4gICAgICAgICAgICBsZXQgaSA9IHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmRlbGV0ZVJ1bGUoaSk7XG4gICAgICAgICAgICBkb2MuX19zdmVsdGVfcnVsZXMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2ZV9kb2NzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOlxuICAgIGVuZCA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbiwgdGljayA9IG5vb3AsIGNzcyB9ID0gZm4obm9kZSwgeyBmcm9tLCB0byB9LCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBuYW1lO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICBuYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpO1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgaWYgKCFzdGFydGVkICYmIG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCAmJiBub3cgPj0gZW5kKSB7XG4gICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbm93IC0gc3RhcnRfdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAwICsgMSAqIGVhc2luZyhwIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgc3RhcnQoKTtcbiAgICB0aWNrKDAsIDEpO1xuICAgIHJldHVybiBzdG9wO1xufVxuZnVuY3Rpb24gZml4X3Bvc2l0aW9uKG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc3R5bGU7XG4gICAgICAgIGNvbnN0IGEgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgYWRkX3RyYW5zZm9ybShub2RlLCBhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpIHtcbiAgICBjb25zdCBiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYS5sZWZ0ICE9PSBiLmxlZnQgfHwgYS50b3AgIT09IGIudG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke2EubGVmdCAtIGIubGVmdH1weCwgJHthLnRvcCAtIGIudG9wfXB4KWA7XG4gICAgfVxufVxuXG5sZXQgY3VycmVudF9jb21wb25lbnQ7XG5mdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgY3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG4gICAgaWYgKCFjdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5mdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gb25Nb3VudChmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgIHJldHVybiAodHlwZSwgZGV0YWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgIC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCk7XG4gICAgICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cbmZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuICAgIH1cbn1cblxuY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcbiAgICBpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcbiAgICAgICAgdXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGljaygpIHtcbiAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcbiAgICByZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG4gICAgZmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxubGV0IGZsdXNoaW5nID0gZmFsc2U7XG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGlmIChmbHVzaGluZylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZsdXNoaW5nID0gdHJ1ZTtcbiAgICBkbyB7XG4gICAgICAgIC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcbiAgICAgICAgLy8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tpXTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgICAgICAgICAgICAgc2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBmbHVzaGluZyA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgY29uc3QgZ3JvdXAgPSBvdXRyb3M7XG4gICAgZ3JvdXAuciArPSAxO1xuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG4gICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tZ3JvdXAucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxIC0gdCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgdCA9IGludHJvID8gMCA6IDE7XG4gICAgbGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBkID0gKHByb2dyYW0uYiAtIHQpO1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IG5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuICAgICAgICAgICAgLy8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiKVxuICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuICAgICAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIHJ1bm5pbmdfcHJvZ3JhbS5iLCBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sIDAsIGVhc2luZywgY29uZmlnLmNzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iLCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJ1bihiKSB7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoKGluZm8sIGN0eCwgZGlydHkpIHtcbiAgICBjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcbiAgICBjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuICAgIGlmIChpbmZvLmN1cnJlbnQgPT09IGluZm8udGhlbikge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby5jYXRjaCkge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby5lcnJvcl0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuXG5jb25zdCBnbG9iYWxzID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgOiBnbG9iYWwpO1xuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgZGlydHksIGdldF9rZXksIGR5bmFtaWMsIGN0eCwgbGlzdCwgbG9va3VwLCBub2RlLCBkZXN0cm95LCBjcmVhdGVfZWFjaF9ibG9jaywgbmV4dCwgZ2V0X2NvbnRleHQpIHtcbiAgICBsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuICAgIGxldCBuID0gbGlzdC5sZW5ndGg7XG4gICAgbGV0IGkgPSBvO1xuICAgIGNvbnN0IG9sZF9pbmRleGVzID0ge307XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcbiAgICBjb25zdCBuZXdfYmxvY2tzID0gW107XG4gICAgY29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHluYW1pYykge1xuICAgICAgICAgICAgYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdfbG9va3VwLnNldChrZXksIG5ld19ibG9ja3NbaV0gPSBibG9jayk7XG4gICAgICAgIGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpXG4gICAgICAgICAgICBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcbiAgICB9XG4gICAgY29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgYmxvY2subShub2RlLCBuZXh0KTtcbiAgICAgICAgbG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcbiAgICAgICAgbmV4dCA9IGJsb2NrLmZpcnN0O1xuICAgICAgICBuLS07XG4gICAgfVxuICAgIHdoaWxlIChvICYmIG4pIHtcbiAgICAgICAgY29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuICAgICAgICBjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcbiAgICAgICAgY29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG4gICAgICAgIGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgbmV4dCA9IG5ld19ibG9jay5maXJzdDtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgICAgIG4tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYmxvY2tcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBkaWRfbW92ZS5hZGQobmV3X2tleSk7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG8tLSkge1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuICAgICAgICBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKVxuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgfVxuICAgIHdoaWxlIChuKVxuICAgICAgICBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuICAgIHJldHVybiBuZXdfYmxvY2tzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcbiAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuICAgICAgICBpZiAoa2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2gnKTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0X3NwcmVhZF91cGRhdGUobGV2ZWxzLCB1cGRhdGVzKSB7XG4gICAgY29uc3QgdXBkYXRlID0ge307XG4gICAgY29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcbiAgICBjb25zdCBhY2NvdW50ZWRfZm9yID0geyAkJHNjb3BlOiAxIH07XG4gICAgbGV0IGkgPSBsZXZlbHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgbyA9IGxldmVsc1tpXTtcbiAgICAgICAgY29uc3QgbiA9IHVwZGF0ZXNbaV07XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG4pKVxuICAgICAgICAgICAgICAgICAgICB0b19udWxsX291dFtrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFjY291bnRlZF9mb3Jba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVba2V5XSA9IG5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbHNbaV0gPSBuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9fbnVsbF9vdXQpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHVwZGF0ZSkpXG4gICAgICAgICAgICB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZTtcbn1cbmZ1bmN0aW9uIGdldF9zcHJlYWRfb2JqZWN0KHNwcmVhZF9wcm9wcykge1xuICAgIHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cblxuLy8gc291cmNlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWxcbmNvbnN0IGJvb2xlYW5fYXR0cmlidXRlcyA9IG5ldyBTZXQoW1xuICAgICdhbGxvd2Z1bGxzY3JlZW4nLFxuICAgICdhbGxvd3BheW1lbnRyZXF1ZXN0JyxcbiAgICAnYXN5bmMnLFxuICAgICdhdXRvZm9jdXMnLFxuICAgICdhdXRvcGxheScsXG4gICAgJ2NoZWNrZWQnLFxuICAgICdjb250cm9scycsXG4gICAgJ2RlZmF1bHQnLFxuICAgICdkZWZlcicsXG4gICAgJ2Rpc2FibGVkJyxcbiAgICAnZm9ybW5vdmFsaWRhdGUnLFxuICAgICdoaWRkZW4nLFxuICAgICdpc21hcCcsXG4gICAgJ2xvb3AnLFxuICAgICdtdWx0aXBsZScsXG4gICAgJ211dGVkJyxcbiAgICAnbm9tb2R1bGUnLFxuICAgICdub3ZhbGlkYXRlJyxcbiAgICAnb3BlbicsXG4gICAgJ3BsYXlzaW5saW5lJyxcbiAgICAncmVhZG9ubHknLFxuICAgICdyZXF1aXJlZCcsXG4gICAgJ3JldmVyc2VkJyxcbiAgICAnc2VsZWN0ZWQnXG5dKTtcblxuY29uc3QgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSAvW1xccydcIj4vPVxcdXtGREQwfS1cXHV7RkRFRn1cXHV7RkZGRX1cXHV7RkZGRn1cXHV7MUZGRkV9XFx1ezFGRkZGfVxcdXsyRkZGRX1cXHV7MkZGRkZ9XFx1ezNGRkZFfVxcdXszRkZGRn1cXHV7NEZGRkV9XFx1ezRGRkZGfVxcdXs1RkZGRX1cXHV7NUZGRkZ9XFx1ezZGRkZFfVxcdXs2RkZGRn1cXHV7N0ZGRkV9XFx1ezdGRkZGfVxcdXs4RkZGRX1cXHV7OEZGRkZ9XFx1ezlGRkZFfVxcdXs5RkZGRn1cXHV7QUZGRkV9XFx1e0FGRkZGfVxcdXtCRkZGRX1cXHV7QkZGRkZ9XFx1e0NGRkZFfVxcdXtDRkZGRn1cXHV7REZGRkV9XFx1e0RGRkZGfVxcdXtFRkZGRX1cXHV7RUZGRkZ9XFx1e0ZGRkZFfVxcdXtGRkZGRn1cXHV7MTBGRkZFfVxcdXsxMEZGRkZ9XS91O1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jbm9uY2hhcmFjdGVyXG5mdW5jdGlvbiBzcHJlYWQoYXJncywgY2xhc3Nlc190b19hZGQpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgLi4uYXJncyk7XG4gICAgaWYgKGNsYXNzZXNfdG9fYWRkKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmNsYXNzID09IG51bGwpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgKz0gJyAnICsgY2xhc3Nlc190b19hZGQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3Rlci50ZXN0KG5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICBlbHNlIGlmIChib29sZWFuX2F0dHJpYnV0ZXMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgKz0gYCAke25hbWV9PVwiJHt2YWx1ZX1cImA7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgZXNjYXBlZCA9IHtcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7JyxcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0Oydcbn07XG5mdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xuICAgIHJldHVybiBTdHJpbmcoaHRtbCkucmVwbGFjZSgvW1wiJyY8Pl0vZywgbWF0Y2ggPT4gZXNjYXBlZFttYXRjaF0pO1xufVxuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gZXNjYXBlKHZhbHVlKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZXNjYXBlX29iamVjdChvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGRlYnVnKGZpbGUsIGxpbmUsIGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coYHtAZGVidWd9ICR7ZmlsZSA/IGZpbGUgKyAnICcgOiAnJ30oJHtsaW5lfToke2NvbHVtbn0pYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybiAnJztcbn1cbmxldCBvbl9kZXN0cm95O1xuZnVuY3Rpb24gY3JlYXRlX3Nzcl9jb21wb25lbnQoZm4pIHtcbiAgICBmdW5jdGlvbiAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgICAgICBjb25zdCAkJCA9IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3ksXG4gICAgICAgICAgICBjb250ZXh0OiBuZXcgTWFwKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBjb250ZXh0IHx8IFtdKSxcbiAgICAgICAgICAgIC8vIHRoZXNlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZGlzY2FyZGVkXG4gICAgICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpXG4gICAgICAgIH07XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudCh7ICQkIH0pO1xuICAgICAgICBjb25zdCBodG1sID0gZm4ocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzKTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyOiAocHJvcHMgPSB7fSwgeyAkJHNsb3RzID0ge30sIGNvbnRleHQgPSBuZXcgTWFwKCkgfSA9IHt9KSA9PiB7XG4gICAgICAgICAgICBvbl9kZXN0cm95ID0gW107XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHRpdGxlOiAnJywgaGVhZDogJycsIGNzczogbmV3IFNldCgpIH07XG4gICAgICAgICAgICBjb25zdCBodG1sID0gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywge30sICQkc2xvdHMsIGNvbnRleHQpO1xuICAgICAgICAgICAgcnVuX2FsbChvbl9kZXN0cm95KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaHRtbCxcbiAgICAgICAgICAgICAgICBjc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogQXJyYXkuZnJvbShyZXN1bHQuY3NzKS5tYXAoY3NzID0+IGNzcy5jb2RlKS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBudWxsIC8vIFRPRE9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhlYWQ6IHJlc3VsdC50aXRsZSArIHJlc3VsdC5oZWFkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAkJHJlbmRlclxuICAgIH07XG59XG5mdW5jdGlvbiBhZGRfYXR0cmlidXRlKG5hbWUsIHZhbHVlLCBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgKGJvb2xlYW4gJiYgIXZhbHVlKSlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHJldHVybiBgICR7bmFtZX0ke3ZhbHVlID09PSB0cnVlID8gJycgOiBgPSR7dHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KGVzY2FwZSh2YWx1ZSkpIDogYFwiJHt2YWx1ZX1cImB9YH1gO1xufVxuZnVuY3Rpb24gYWRkX2NsYXNzZXMoY2xhc3Nlcykge1xuICAgIHJldHVybiBjbGFzc2VzID8gYCBjbGFzcz1cIiR7Y2xhc3Nlc31cImAgOiAnJztcbn1cblxuZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgaW5kZXggPSBjb21wb25lbnQuJCQucHJvcHNbbmFtZV07XG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29tcG9uZW50LiQkLmJvdW5kW2luZGV4XSA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuICAgIGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG4gICAgYmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IsIGN1c3RvbUVsZW1lbnQpIHtcbiAgICBjb25zdCB7IGZyYWdtZW50LCBvbl9tb3VudCwgb25fZGVzdHJveSwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG4gICAgZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG4gICAgaWYgKCFjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdfb25fZGVzdHJveSA9IG9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG4gICAgICAgICAgICBpZiAob25fZGVzdHJveSkge1xuICAgICAgICAgICAgICAgIG9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG4gICAgICAgICAgICAgICAgcnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgcnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuICAgICAgICAvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG4gICAgICAgIC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcbiAgICAgICAgJCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgJCQuY3R4ID0gW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcbiAgICBpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgICAgIGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuICAgIH1cbiAgICBjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAoMSA8PCAoaSAlIDMxKSk7XG59XG5mdW5jdGlvbiBpbml0KGNvbXBvbmVudCwgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgbm90X2VxdWFsLCBwcm9wcywgZGlydHkgPSBbLTFdKSB7XG4gICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkID0ge1xuICAgICAgICBmcmFnbWVudDogbnVsbCxcbiAgICAgICAgY3R4OiBudWxsLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogb3B0aW9ucy5jb250ZXh0IHx8IFtdKSxcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBza2lwX2JvdW5kOiBmYWxzZVxuICAgIH07XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuICAgICAgICAgICAgaWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAkJC5jdHhbaV0gPSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pXG4gICAgICAgICAgICAgICAgICAgICQkLmJvdW5kW2ldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pXG4gICAgICAgIDogW107XG4gICAgJCQudXBkYXRlKCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgLy8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG4gICAgJCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICBpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgICAgICBzdGFydF9oeWRyYXRpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yLCBvcHRpb25zLmN1c3RvbUVsZW1lbnQpO1xuICAgICAgICBlbmRfaHlkcmF0aW5nKCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgfVxuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cbmxldCBTdmVsdGVFbGVtZW50O1xuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uX21vdW50IH0gPSB0aGlzLiQkO1xuICAgICAgICAgICAgdGhpcy4kJC5vbl9kaXNjb25uZWN0ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBydW5fYWxsKHRoaXMuJCQub25fZGlzY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjM5LjAnIH0sIGRldGFpbCksIHRydWUpKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmQodGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlJywgeyBub2RlIH0pO1xuICAgIGRldGFjaChub2RlKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9iZXR3ZWVuX2RldihiZWZvcmUsIGFmdGVyKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZyAmJiBiZWZvcmUubmV4dFNpYmxpbmcgIT09IGFmdGVyKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYmVmb3JlX2RldihhZnRlcikge1xuICAgIHdoaWxlIChhZnRlci5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihhZnRlci5wcmV2aW91c1NpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9hZnRlcl9kZXYoYmVmb3JlKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdGVuX2Rldihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucywgaGFzX3ByZXZlbnRfZGVmYXVsdCwgaGFzX3N0b3BfcHJvcGFnYXRpb24pIHtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBvcHRpb25zID09PSB0cnVlID8gWydjYXB0dXJlJ10gOiBvcHRpb25zID8gQXJyYXkuZnJvbShPYmplY3Qua2V5cyhvcHRpb25zKSkgOiBbXTtcbiAgICBpZiAoaGFzX3ByZXZlbnRfZGVmYXVsdClcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3ByZXZlbnREZWZhdWx0Jyk7XG4gICAgaWYgKGhhc19zdG9wX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcFByb3BhZ2F0aW9uJyk7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01BZGRFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyX2Rldihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSB9KTtcbiAgICBlbHNlXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0QXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldFByb3BlcnR5JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBkYXRhc2V0X2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlLmRhdGFzZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhc2V0JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50KGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnc3RyaW5nJyAmJiAhKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBhcmcpKSB7XG4gICAgICAgIGxldCBtc2cgPSAneyNlYWNofSBvbmx5IGl0ZXJhdGVzIG92ZXIgYXJyYXktbGlrZSBvYmplY3RzLic7XG4gICAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIGFyZyAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gYXJnKSB7XG4gICAgICAgICAgICBtc2cgKz0gJyBZb3UgY2FuIHVzZSBhIHNwcmVhZCB0byBjb252ZXJ0IHRoaXMgaXRlcmFibGUgaW50byBhbiBhcnJheS4nO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3Nsb3RzKG5hbWUsIHNsb3QsIGtleXMpIHtcbiAgICBmb3IgKGNvbnN0IHNsb3Rfa2V5IG9mIE9iamVjdC5rZXlzKHNsb3QpKSB7XG4gICAgICAgIGlmICghfmtleXMuaW5kZXhPZihzbG90X2tleSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgPCR7bmFtZX0+IHJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgc2xvdCBcIiR7c2xvdF9rZXl9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzIHdpdGggc29tZSBtaW5vciBkZXYtZW5oYW5jZW1lbnRzLiBVc2VkIHdoZW4gZGV2PXRydWUuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudERldiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFvcHRpb25zLnRhcmdldCAmJiAhb3B0aW9ucy4kJGlubGluZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIid0YXJnZXQnIGlzIGEgcmVxdWlyZWQgb3B0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAkY2FwdHVyZV9zdGF0ZSgpIHsgfVxuICAgICRpbmplY3Rfc3RhdGUoKSB7IH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyB0byBjcmVhdGUgc3Ryb25nbHkgdHlwZWQgU3ZlbHRlIGNvbXBvbmVudHMuXG4gKiBUaGlzIG9ubHkgZXhpc3RzIGZvciB0eXBpbmcgcHVycG9zZXMgYW5kIHNob3VsZCBiZSB1c2VkIGluIGAuZC50c2AgZmlsZXMuXG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogWW91IGhhdmUgY29tcG9uZW50IGxpYnJhcnkgb24gbnBtIGNhbGxlZCBgY29tcG9uZW50LWxpYnJhcnlgLCBmcm9tIHdoaWNoXG4gKiB5b3UgZXhwb3J0IGEgY29tcG9uZW50IGNhbGxlZCBgTXlDb21wb25lbnRgLiBGb3IgU3ZlbHRlK1R5cGVTY3JpcHQgdXNlcnMsXG4gKiB5b3Ugd2FudCB0byBwcm92aWRlIHR5cGluZ3MuIFRoZXJlZm9yZSB5b3UgY3JlYXRlIGEgYGluZGV4LmQudHNgOlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFN2ZWx0ZUNvbXBvbmVudFR5cGVkIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50VHlwZWQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGBgYFxuICogVHlwaW5nIHRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIElERXMgbGlrZSBWUyBDb2RlIHdpdGggdGhlIFN2ZWx0ZSBleHRlbnNpb25cbiAqIHRvIHByb3ZpZGUgaW50ZWxsaXNlbnNlIGFuZCB0byB1c2UgdGhlIGNvbXBvbmVudCBsaWtlIHRoaXMgaW4gYSBTdmVsdGUgZmlsZVxuICogd2l0aCBUeXBlU2NyaXB0OlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICogXHRpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gXCJjb21wb25lbnQtbGlicmFyeVwiO1xuICogPC9zY3JpcHQ+XG4gKiA8TXlDb21wb25lbnQgZm9vPXsnYmFyJ30gLz5cbiAqIGBgYFxuICpcbiAqICMjIyMgV2h5IG5vdCBtYWtlIHRoaXMgcGFydCBvZiBgU3ZlbHRlQ29tcG9uZW50KERldilgP1xuICogQmVjYXVzZVxuICogYGBgdHNcbiAqIGNsYXNzIEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50PHtmb286IHN0cmluZ30+IHt9XG4gKiBjb25zdCBjb21wb25lbnQ6IHR5cGVvZiBTdmVsdGVDb21wb25lbnQgPSBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudDtcbiAqIGBgYFxuICogd2lsbCB0aHJvdyBhIHR5cGUgZXJyb3IsIHNvIHdlIG5lZWQgdG8gc2VwYXJhdGUgdGhlIG1vcmUgc3RyaWN0bHkgdHlwZWQgY2xhc3MuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvb3BfZ3VhcmQodGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gdGltZW91dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgeyBIdG1sVGFnLCBTdmVsdGVDb21wb25lbnQsIFN2ZWx0ZUNvbXBvbmVudERldiwgU3ZlbHRlQ29tcG9uZW50VHlwZWQsIFN2ZWx0ZUVsZW1lbnQsIGFjdGlvbl9kZXN0cm95ZXIsIGFkZF9hdHRyaWJ1dGUsIGFkZF9jbGFzc2VzLCBhZGRfZmx1c2hfY2FsbGJhY2ssIGFkZF9sb2NhdGlvbiwgYWRkX3JlbmRlcl9jYWxsYmFjaywgYWRkX3Jlc2l6ZV9saXN0ZW5lciwgYWRkX3RyYW5zZm9ybSwgYWZ0ZXJVcGRhdGUsIGFwcGVuZCwgYXBwZW5kX2RldiwgYXNzaWduLCBhdHRyLCBhdHRyX2RldiwgYXR0cmlidXRlX3RvX29iamVjdCwgYmVmb3JlVXBkYXRlLCBiaW5kLCBiaW5kaW5nX2NhbGxiYWNrcywgYmxhbmtfb2JqZWN0LCBidWJibGUsIGNoZWNrX291dHJvcywgY2hpbGRyZW4sIGNsYWltX2NvbXBvbmVudCwgY2xhaW1fZWxlbWVudCwgY2xhaW1faHRtbF90YWcsIGNsYWltX3NwYWNlLCBjbGFpbV90ZXh0LCBjbGVhcl9sb29wcywgY29tcG9uZW50X3N1YnNjcmliZSwgY29tcHV0ZV9yZXN0X3Byb3BzLCBjb21wdXRlX3Nsb3RzLCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIGNyZWF0ZV9hbmltYXRpb24sIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24sIGNyZWF0ZV9jb21wb25lbnQsIGNyZWF0ZV9pbl90cmFuc2l0aW9uLCBjcmVhdGVfb3V0X3RyYW5zaXRpb24sIGNyZWF0ZV9zbG90LCBjcmVhdGVfc3NyX2NvbXBvbmVudCwgY3VycmVudF9jb21wb25lbnQsIGN1c3RvbV9ldmVudCwgZGF0YXNldF9kZXYsIGRlYnVnLCBkZXN0cm95X2Jsb2NrLCBkZXN0cm95X2NvbXBvbmVudCwgZGVzdHJveV9lYWNoLCBkZXRhY2gsIGRldGFjaF9hZnRlcl9kZXYsIGRldGFjaF9iZWZvcmVfZGV2LCBkZXRhY2hfYmV0d2Vlbl9kZXYsIGRldGFjaF9kZXYsIGRpcnR5X2NvbXBvbmVudHMsIGRpc3BhdGNoX2RldiwgZWFjaCwgZWxlbWVudCwgZWxlbWVudF9pcywgZW1wdHksIGVuZF9oeWRyYXRpbmcsIGVzY2FwZSwgZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSwgZXNjYXBlX29iamVjdCwgZXNjYXBlZCwgZXhjbHVkZV9pbnRlcm5hbF9wcm9wcywgZml4X2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfcG9zaXRpb24sIGZsdXNoLCBnZXRBbGxDb250ZXh0cywgZ2V0Q29udGV4dCwgZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUsIGdldF9jdXJyZW50X2NvbXBvbmVudCwgZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cywgZ2V0X3Nsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dCwgZ2V0X3NwcmVhZF9vYmplY3QsIGdldF9zcHJlYWRfdXBkYXRlLCBnZXRfc3RvcmVfdmFsdWUsIGdsb2JhbHMsIGdyb3VwX291dHJvcywgaGFuZGxlX3Byb21pc2UsIGhhc0NvbnRleHQsIGhhc19wcm9wLCBpZGVudGl0eSwgaW5pdCwgaW5zZXJ0LCBpbnNlcnRfZGV2LCBpbnRyb3MsIGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLCBpc19jbGllbnQsIGlzX2Nyb3Nzb3JpZ2luLCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIGlzX3Byb21pc2UsIGxpc3RlbiwgbGlzdGVuX2RldiwgbG9vcCwgbG9vcF9ndWFyZCwgbWlzc2luZ19jb21wb25lbnQsIG1vdW50X2NvbXBvbmVudCwgbm9vcCwgbm90X2VxdWFsLCBub3csIG51bGxfdG9fZW1wdHksIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMsIG9uRGVzdHJveSwgb25Nb3VudCwgb25jZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIHByZXZlbnRfZGVmYXVsdCwgcHJvcF9kZXYsIHF1ZXJ5X3NlbGVjdG9yX2FsbCwgcmFmLCBydW4sIHJ1bl9hbGwsIHNhZmVfbm90X2VxdWFsLCBzY2hlZHVsZV91cGRhdGUsIHNlbGVjdF9tdWx0aXBsZV92YWx1ZSwgc2VsZWN0X29wdGlvbiwgc2VsZWN0X29wdGlvbnMsIHNlbGVjdF92YWx1ZSwgc2VsZiwgc2V0Q29udGV4dCwgc2V0X2F0dHJpYnV0ZXMsIHNldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEsIHNldF9kYXRhLCBzZXRfZGF0YV9kZXYsIHNldF9pbnB1dF90eXBlLCBzZXRfaW5wdXRfdmFsdWUsIHNldF9ub3csIHNldF9yYWYsIHNldF9zdG9yZV92YWx1ZSwgc2V0X3N0eWxlLCBzZXRfc3ZnX2F0dHJpYnV0ZXMsIHNwYWNlLCBzcHJlYWQsIHN0YXJ0X2h5ZHJhdGluZywgc3RvcF9wcm9wYWdhdGlvbiwgc3Vic2NyaWJlLCBzdmdfZWxlbWVudCwgdGV4dCwgdGljaywgdGltZV9yYW5nZXNfdG9fYXJyYXksIHRvX251bWJlciwgdG9nZ2xlX2NsYXNzLCB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCwgdHJ1c3RlZCwgdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaCwgdXBkYXRlX2tleWVkX2VhY2gsIHVwZGF0ZV9zbG90LCB1cGRhdGVfc2xvdF9zcHJlYWQsIHZhbGlkYXRlX2NvbXBvbmVudCwgdmFsaWRhdGVfZWFjaF9hcmd1bWVudCwgdmFsaWRhdGVfZWFjaF9rZXlzLCB2YWxpZGF0ZV9zbG90cywgdmFsaWRhdGVfc3RvcmUsIHhsaW5rX2F0dHIgfTtcbiIsIjxzY3JpcHQ+XHJcblxyXG4gICAgY29uc3QgcmVmcmVzaFBhZ2UgPSAoKSA9PntcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcclxuICAgIH1cclxuICAgIFxyXG5cclxuPC9zY3JpcHQ+XHJcblxyXG5cclxuPGgxPkZyYW1lczwvaDE+XHJcblxyXG48ZGl2IGNsYXNzPVwiY2VudGVyXCI+XHJcbiAgICA8YnV0dG9uIG9uOmNsaWNrPXtyZWZyZXNoUGFnZX0+UmVmcmVzaDwvYnV0dG9uPlxyXG48L2Rpdj5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuPHN0eWxlPlxyXG4gICAgaDF7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAxcmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC5jZW50ZXJ7XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDFlbTtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuPC9zdHlsZT4iLCJcclxuXHJcbjxkaXYgY2xhc3M9XCJjZW50ZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJiaWdcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic21hbGxcIj48L2Rpdj5cclxuICAgIDwvZGl2PiAgICBcclxuPC9kaXY+XHJcblxyXG48c3R5bGU+XHJcbiAgICAuYmlne1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNCRUJFQkU7XHJcbiAgICAgICAgYm9yZGVyOiAxN3B4IHNvbGlkICMwMDAwMDA7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjhweDtcclxuXHJcbiAgICAgICAgd2lkdGg6IDEyZW07XHJcbiAgICAgICAgaGVpZ2h0OiAxNmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC5zbWFsbHtcclxuICAgICAgICBib3JkZXI6IDEzcHggc29saWQgIzAwMDAwMDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgICAgIHdpZHRoOiA4ZW07XHJcbiAgICAgICAgaGVpZ2h0OiAxMGVtO1xyXG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDFlbTtcclxuICAgIH1cclxuICAgIC5jZW50ZXJ7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMWVtXHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IHsgY3ViaWNJbk91dCwgbGluZWFyLCBjdWJpY091dCB9IGZyb20gJy4uL2Vhc2luZy9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNfZnVuY3Rpb24sIGFzc2lnbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxuZnVuY3Rpb24gYmx1cihub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljSW5PdXQsIGFtb3VudCA9IDUsIG9wYWNpdHkgPSAwIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IGYgPSBzdHlsZS5maWx0ZXIgPT09ICdub25lJyA/ICcnIDogc3R5bGUuZmlsdGVyO1xuICAgIGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6IChfdCwgdSkgPT4gYG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSAob2QgKiB1KX07IGZpbHRlcjogJHtmfSBibHVyKCR7dSAqIGFtb3VudH1weCk7YFxuICAgIH07XG59XG5mdW5jdGlvbiBmYWRlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gbGluZWFyIH0gPSB7fSkge1xuICAgIGNvbnN0IG8gPSArZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5vcGFjaXR5O1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6IHQgPT4gYG9wYWNpdHk6ICR7dCAqIG99YFxuICAgIH07XG59XG5mdW5jdGlvbiBmbHkobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBjdWJpY091dCwgeCA9IDAsIHkgPSAwLCBvcGFjaXR5ID0gMCB9ID0ge30pIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgY29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgIGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHsoMSAtIHQpICogeH1weCwgJHsoMSAtIHQpICogeX1weCk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9YFxuICAgIH07XG59XG5mdW5jdGlvbiBzbGlkZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0IH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5oZWlnaHQpO1xuICAgIGNvbnN0IHBhZGRpbmdfdG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICBjb25zdCBwYWRkaW5nX2JvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgY29uc3QgbWFyZ2luX3RvcCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luVG9wKTtcbiAgICBjb25zdCBtYXJnaW5fYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICAgIGNvbnN0IGJvcmRlcl90b3Bfd2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJfYm90dG9tX3dpZHRoID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogdCA9PiAnb3ZlcmZsb3c6IGhpZGRlbjsnICtcbiAgICAgICAgICAgIGBvcGFjaXR5OiAke01hdGgubWluKHQgKiAyMCwgMSkgKiBvcGFjaXR5fTtgICtcbiAgICAgICAgICAgIGBoZWlnaHQ6ICR7dCAqIGhlaWdodH1weDtgICtcbiAgICAgICAgICAgIGBwYWRkaW5nLXRvcDogJHt0ICogcGFkZGluZ190b3B9cHg7YCArXG4gICAgICAgICAgICBgcGFkZGluZy1ib3R0b206ICR7dCAqIHBhZGRpbmdfYm90dG9tfXB4O2AgK1xuICAgICAgICAgICAgYG1hcmdpbi10b3A6ICR7dCAqIG1hcmdpbl90b3B9cHg7YCArXG4gICAgICAgICAgICBgbWFyZ2luLWJvdHRvbTogJHt0ICogbWFyZ2luX2JvdHRvbX1weDtgICtcbiAgICAgICAgICAgIGBib3JkZXItdG9wLXdpZHRoOiAke3QgKiBib3JkZXJfdG9wX3dpZHRofXB4O2AgK1xuICAgICAgICAgICAgYGJvcmRlci1ib3R0b20td2lkdGg6ICR7dCAqIGJvcmRlcl9ib3R0b21fd2lkdGh9cHg7YFxuICAgIH07XG59XG5mdW5jdGlvbiBzY2FsZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCBzdGFydCA9IDAsIG9wYWNpdHkgPSAwIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgY29uc3Qgc2QgPSAxIC0gc3RhcnQ7XG4gICAgY29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogKF90LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSBzY2FsZSgkezEgLSAoc2QgKiB1KX0pO1xuXHRcdFx0b3BhY2l0eTogJHt0YXJnZXRfb3BhY2l0eSAtIChvZCAqIHUpfVxuXHRcdGBcbiAgICB9O1xufVxuZnVuY3Rpb24gZHJhdyhub2RlLCB7IGRlbGF5ID0gMCwgc3BlZWQsIGR1cmF0aW9uLCBlYXNpbmcgPSBjdWJpY0luT3V0IH0gPSB7fSkge1xuICAgIGNvbnN0IGxlbiA9IG5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcbiAgICBpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc3BlZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSA4MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGxlbiAvIHNwZWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uKGxlbik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6ICh0LCB1KSA9PiBgc3Ryb2tlLWRhc2hhcnJheTogJHt0ICogbGVufSAke3UgKiBsZW59YFxuICAgIH07XG59XG5mdW5jdGlvbiBjcm9zc2ZhZGUoX2EpIHtcbiAgICB2YXIgeyBmYWxsYmFjayB9ID0gX2EsIGRlZmF1bHRzID0gX19yZXN0KF9hLCBbXCJmYWxsYmFja1wiXSk7XG4gICAgY29uc3QgdG9fcmVjZWl2ZSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCB0b19zZW5kID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGNyb3NzZmFkZShmcm9tLCBub2RlLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gZCA9PiBNYXRoLnNxcnQoZCkgKiAzMCwgZWFzaW5nID0gY3ViaWNPdXQgfSA9IGFzc2lnbihhc3NpZ24oe30sIGRlZmF1bHRzKSwgcGFyYW1zKTtcbiAgICAgICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBkeCA9IGZyb20ubGVmdCAtIHRvLmxlZnQ7XG4gICAgICAgIGNvbnN0IGR5ID0gZnJvbS50b3AgLSB0by50b3A7XG4gICAgICAgIGNvbnN0IGR3ID0gZnJvbS53aWR0aCAvIHRvLndpZHRoO1xuICAgICAgICBjb25zdCBkaCA9IGZyb20uaGVpZ2h0IC8gdG8uaGVpZ2h0O1xuICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBpc19mdW5jdGlvbihkdXJhdGlvbikgPyBkdXJhdGlvbihkKSA6IGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nLFxuICAgICAgICAgICAgY3NzOiAodCwgdSkgPT4gYFxuXHRcdFx0XHRvcGFjaXR5OiAke3QgKiBvcGFjaXR5fTtcblx0XHRcdFx0dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG5cdFx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke3UgKiBkeH1weCwke3UgKiBkeX1weCkgc2NhbGUoJHt0ICsgKDEgLSB0KSAqIGR3fSwgJHt0ICsgKDEgLSB0KSAqIGRofSk7XG5cdFx0XHRgXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb24oaXRlbXMsIGNvdW50ZXJwYXJ0cywgaW50cm8pIHtcbiAgICAgICAgcmV0dXJuIChub2RlLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGl0ZW1zLnNldChwYXJhbXMua2V5LCB7XG4gICAgICAgICAgICAgICAgcmVjdDogbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVycGFydHMuaGFzKHBhcmFtcy5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVjdCB9ID0gY291bnRlcnBhcnRzLmdldChwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnBhcnRzLmRlbGV0ZShwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyb3NzZmFkZShyZWN0LCBub2RlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbm9kZSBpcyBkaXNhcHBlYXJpbmcgYWx0b2dldGhlclxuICAgICAgICAgICAgICAgIC8vIChpLmUuIHdhc24ndCBjbGFpbWVkIGJ5IHRoZSBvdGhlciBsaXN0KVxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2UgbmVlZCB0byBzdXBwbHkgYW4gb3V0cm9cbiAgICAgICAgICAgICAgICBpdGVtcy5kZWxldGUocGFyYW1zLmtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrICYmIGZhbGxiYWNrKG5vZGUsIHBhcmFtcywgaW50cm8pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdHJhbnNpdGlvbih0b19zZW5kLCB0b19yZWNlaXZlLCBmYWxzZSksXG4gICAgICAgIHRyYW5zaXRpb24odG9fcmVjZWl2ZSwgdG9fc2VuZCwgdHJ1ZSlcbiAgICBdO1xufVxuXG5leHBvcnQgeyBibHVyLCBjcm9zc2ZhZGUsIGRyYXcsIGZhZGUsIGZseSwgc2NhbGUsIHNsaWRlIH07XG4iLCI8c2NyaXB0PlxyXG4gICAgaW1wb3J0IEZyYW1lSWNvbiBmcm9tIFwiLi9GcmFtZUljb24uc3ZlbHRlXCI7XHJcbiAgICBpbXBvcnQgeyBmYWRlIH0gZnJvbSAnc3ZlbHRlL3RyYW5zaXRpb24nO1xyXG5cclxuICAgIGV4cG9ydCBsZXQgZnJhbWVJRDtcclxuICAgIGV4cG9ydCBsZXQgc2hvd0ZyYW1lRGV0ZWN0ZWQ7XHJcblxyXG4gICAgY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+e1xyXG4gICAgICAgIHNob3dGcmFtZURldGVjdGVkPSBmYWxzZTtcclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48ZGl2IGNsYXNzPVwiYmxhY2tvdXRcIj48L2Rpdj5cclxuXHJcbjxkaXYgY2xhc3M9XCJiZ1wiIHRyYW5zaXRpb246ZmFkZT1cInt7ZHVyYXRpb246IDIwMCB9fVwiPlxyXG4gICAgPGgyPk5ldyBGcmFtZSBEZXRlY3RlZCE8L2gyPlxyXG5cclxuICAgIDxGcmFtZUljb24gLz5cclxuXHJcbiAgICA8aDIgc3R5bGU9XCJjb2xvcjojQkFCQUJBO1wiPiN7ZnJhbWVJRH08L2gyPlxyXG4gICAgPGJ1dHRvbiBvbjpjbGljaz17Y2xvc2VQb3B1cH0+Q2xvc2U8L2J1dHRvbj5cclxuPC9kaXY+XHJcblxyXG48c3R5bGU+XHJcbiAgICAuYmd7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzIyMjIyMjtcclxuICAgICAgICBib3JkZXI6IDdweCBzb2xpZCAjNzU3NTc1O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIzcHg7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICBtaW4taGVpZ2h0OiA1MCU7XHJcblxyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLmJsYWNrb3V0e1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwYWE7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG5cclxuICAgIGgye1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMC41ZW07XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9ue1xyXG4gICAgICAgIG1hcmdpbjogMWVtIGF1dG87XHJcbiAgICB9XHJcblxyXG48L3N0eWxlPiIsImltcG9ydCB7IG5vb3AsIHNhZmVfbm90X2VxdWFsLCBzdWJzY3JpYmUsIHJ1bl9hbGwsIGlzX2Z1bmN0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5tanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXJ9c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7Kj19dmFsdWUgaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcj19c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG4gICAgbGV0IHN0b3A7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG4gICAgICAgIGlmIChzYWZlX25vdF9lcXVhbCh2YWx1ZSwgbmV3X3ZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXdfdmFsdWU7XG4gICAgICAgICAgICBpZiAoc3RvcCkgeyAvLyBzdG9yZSBpcyByZWFkeVxuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgc1sxXSgpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlLnB1c2gocywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVuX3F1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGUoZm4pIHtcbiAgICAgICAgc2V0KGZuKHZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcbiAgICAgICAgc3Vic2NyaWJlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgc3RvcCA9IHN0YXJ0KHNldCkgfHwgbm9vcDtcbiAgICAgICAgfVxuICAgICAgICBydW4odmFsdWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzdWJzY3JpYmVycy5pbmRleE9mKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0b3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5mdW5jdGlvbiBkZXJpdmVkKHN0b3JlcywgZm4sIGluaXRpYWxfdmFsdWUpIHtcbiAgICBjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuICAgIGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZVxuICAgICAgICA/IFtzdG9yZXNdXG4gICAgICAgIDogc3RvcmVzO1xuICAgIGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuICAgIHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0KSA9PiB7XG4gICAgICAgIGxldCBpbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGxldCBwZW5kaW5nID0gMDtcbiAgICAgICAgbGV0IGNsZWFudXAgPSBub29wO1xuICAgICAgICBjb25zdCBzeW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCk7XG4gICAgICAgICAgICBpZiAoYXV0bykge1xuICAgICAgICAgICAgICAgIHNldChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCA9IGlzX2Z1bmN0aW9uKHJlc3VsdCkgPyByZXN1bHQgOiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+IHN1YnNjcmliZShzdG9yZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuICAgICAgICAgICAgaWYgKGluaXRlZCkge1xuICAgICAgICAgICAgICAgIHN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcGVuZGluZyB8PSAoMSA8PCBpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpbml0ZWQgPSB0cnVlO1xuICAgICAgICBzeW5jKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgZGVyaXZlZCwgcmVhZGFibGUsIHdyaXRhYmxlIH07XG4iLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gXCJzdmVsdGUvc3RvcmVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjdXJyZW50RnJhbWVJRCA9IHdyaXRhYmxlKFwiMDAxXCIpO1xyXG4iLCI8c2NyaXB0PlxyXG4gICAgaW1wb3J0IHsgY3VycmVudEZyYW1lSUQgfSBmcm9tICcuLi9zdG9yZXMnO1xyXG5cclxuXHJcbiAgICBleHBvcnQgbGV0IGZyYW1lSUQ7XHJcbiAgICBleHBvcnQgbGV0IHNob3dSZWNvcmRQYWdlO1xyXG4gICAgXHJcbiAgICBjb25zdCBjbGlja2VkRnJhbWUgPSAoKSA9PntcclxuICAgICAgICBjdXJyZW50RnJhbWVJRC5zZXQoZnJhbWVJRClcclxuICAgICAgICBzaG93UmVjb3JkUGFnZSA9IHRydWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coZnJhbWVJRCk7XHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG5cclxuPGRpdiBjbGFzcz1cImZyYW1lT2JqZWN0XCIgb246Y2xpY2s9e2NsaWNrZWRGcmFtZX0+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYmlnXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNtYWxsXCI+PC9kaXY+XHJcbiAgICA8L2Rpdj4gICAgXHJcbiAgICBcclxuICAgIDxoMz4je2ZyYW1lSUR9PC9oMz5cclxuPC9kaXY+XHJcblxyXG5cclxuPHN0eWxlPlxyXG4gICAgLmJpZ3tcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjQkVCRUJFO1xyXG4gICAgICAgIGJvcmRlcjogMTBweCBzb2xpZCAjMDAwMDAwO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7XHJcblxyXG4gICAgICAgIHdpZHRoOiA2ZW07XHJcbiAgICAgICAgaGVpZ2h0OiA4ZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnNtYWxse1xyXG4gICAgICAgIGJvcmRlcjogN3B4IHNvbGlkICMwMDAwMDA7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOXB4O1xyXG4gICAgICAgIHdpZHRoOiA0ZW07XHJcbiAgICAgICAgaGVpZ2h0OiA1ZW07XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMC41ZW07XHJcbiAgICB9XHJcblxyXG4gICAgLmZyYW1lT2JqZWN0e1xyXG4gICAgICAgIG1hcmdpbjogMWVtIGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgaDN7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGNvbG9yOiAgI2JiYmJiYjtcclxuICAgICAgICBsZXR0ZXItc3BhY2luZzogLjA1cmVtO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDAuMjVlbTtcclxuICAgIH1cclxuPC9zdHlsZT4iLCI8c2NyaXB0PlxyXG4gICAgaW1wb3J0IEhvbWVGcmFtZSBmcm9tIFwiLi9Ib21lRnJhbWUuc3ZlbHRlXCI7XHJcblxyXG4gICAgZXhwb3J0IGxldCBzYXZlZEZyYW1lSURzO1xyXG4gICAgZXhwb3J0IGxldCBzaG93UmVjb3JkUGFnZTtcclxuPC9zY3JpcHQ+XHJcblxyXG5cclxuPGRpdiBjbGFzcz1cImZyYW1lQ29sbGVjdGlvblwiPlxyXG4gICAgeyNlYWNoIHNhdmVkRnJhbWVJRHMgYXMgZnJhbWVJRH1cclxuICAgICAgICA8SG9tZUZyYW1lIGZyYW1lSUQ9e2ZyYW1lSUR9IGJpbmQ6c2hvd1JlY29yZFBhZ2U9e3Nob3dSZWNvcmRQYWdlfS8+XHJcbiAgICB7L2VhY2h9XHJcbjwvZGl2PlxyXG5cclxuPHN0eWxlPlxyXG4gICAgLmZyYW1lQ29sbGVjdGlvbntcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gICAgfVxyXG48L3N0eWxlPiIsIjxzY3JpcHQ+XHJcbiAgICBleHBvcnQgbGV0IGN1cnJlbnRDYW1lcmFUeXBlO1xyXG5cclxuICAgIGNvbnN0IGNoYW5nZUNhbVR5cGUgPSAoY2FtVHlwZSkgPT57XHJcbiAgICAgICAgY3VycmVudENhbWVyYVR5cGUgPSBjYW1UeXBlXHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG5cclxuXHJcbjxkaXYgY2xhc3M9XCJidG5Db2xsZWN0aW9uXCI+XHJcblxyXG4gICAgeyNpZiBjdXJyZW50Q2FtZXJhVHlwZSA9PSBcIkZST05UXCJ9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ0bk9ialwiIHN0eWxlPVwiYm9yZGVyLXJhZGl1czogMTJweCAwcHggMHB4IDEycHg7IGJhY2tncm91bmQ6IzNDM0MzQztcIj5cclxuICAgICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6I0M3QzdDNztcIj5Gcm9udDwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgb246Y2xpY2s9eygpID0+IGNoYW5nZUNhbVR5cGUoXCJCQUNLXCIpfSAgY2xhc3M9XCJidG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDBweCAxMnB4IDEycHggMHB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+QmFjazwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB7OmVsc2V9XHJcbiAgICAgICAgPGRpdiBvbjpjbGljaz17KCkgPT4gY2hhbmdlQ2FtVHlwZShcIkZST05UXCIpfSAgY2xhc3M9XCJidG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDEycHggMHB4IDBweCAxMnB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+RnJvbnQ8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuT2JqXCIgc3R5bGU9XCJib3JkZXItcmFkaXVzOiAwcHggMTJweCAxMnB4IDBweDsgYmFja2dyb3VuZDojM0MzQzNDO1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjojQzdDN0M3O1wiPkJhY2s8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuPC9kaXY+XHJcblxyXG5cclxuPHN0eWxlPlxyXG4gICAgLmJ0bk9iantcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjOTM5MzkzO1xyXG4gICAgICAgIGJvcmRlcjogNHB4IHNvbGlkICMzQzNDM0M7XHJcbiAgICAgICAgd2lkdGg6IDQ1JTtcclxuICAgIH0gICBcclxuXHJcbiAgICAuYnRuQ29sbGVjdGlvbntcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGgze1xyXG4gICAgICAgIG1hcmdpbjogMC4yNWVtIGF1dG87XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiPHNjcmlwdD5cclxuICAgIGV4cG9ydCBsZXQgY3VycmVudFRpbWU7XHJcblxyXG4gICAgY29uc3QgY2hhbmdlVGltZSA9IChuZXdUaW1lKSA9PntcclxuICAgICAgICBjdXJyZW50VGltZSA9IG5ld1RpbWU7XHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG5cclxuXHJcbjxkaXYgY2xhc3M9XCJidG5Db2xsZWN0aW9uXCI+XHJcblxyXG4gICAgeyNpZiBjdXJyZW50VGltZSA9PSA1fVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJidG5PYmogc0J0bk9ialwiIHN0eWxlPVwiYm9yZGVyLXJhZGl1czogMTJweCAwcHggMHB4IDEycHg7IGJhY2tncm91bmQ6IzNDM0MzQztcIj5cclxuICAgICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6I0M3QzdDNztcIj41IHM8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IG9uOmNsaWNrPXsoKSA9PiBjaGFuZ2VUaW1lKDEwKX0gY2xhc3M9XCJidG5PYmogc0J0bk9ialwiIHN0eWxlPVwiXCI+XHJcbiAgICAgICAgICAgIDxoMz4xMCBzPC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBvbjpjbGljaz17KCkgPT4gY2hhbmdlVGltZSgxNSl9IGNsYXNzPVwiYnRuT2JqIHNCdG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDBweCAxMnB4IDEycHggMHB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+MTUgczwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB7OmVsc2UgaWYgY3VycmVudFRpbWUgPT0gMTB9XHJcbiAgICAgICAgPGRpdiBvbjpjbGljaz17KCkgPT4gY2hhbmdlVGltZSg1KX0gY2xhc3M9XCJidG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDEycHggMHB4IDBweCAxMnB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+NSBzPC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ0bk9ialwiIHN0eWxlPVwiYmFja2dyb3VuZDojM0MzQzNDO1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjojQzdDN0M3O1wiPjEwIHM8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IG9uOmNsaWNrPXsoKSA9PiBjaGFuZ2VUaW1lKDE1KX0gY2xhc3M9XCJidG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDBweCAxMnB4IDEycHggMHB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+MTUgczwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB7OmVsc2V9XHJcbiAgICAgICAgPGRpdiBvbjpjbGljaz17KCkgPT4gY2hhbmdlVGltZSg1KX0gY2xhc3M9XCJidG5PYmpcIiBzdHlsZT1cImJvcmRlci1yYWRpdXM6IDEycHggMHB4IDBweCAxMnB4O1wiPlxyXG4gICAgICAgICAgICA8aDM+NSBzPC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBvbjpjbGljaz17KCkgPT4gY2hhbmdlVGltZSgxMCl9IGNsYXNzPVwiYnRuT2JqXCIgc3R5bGU9XCJcIj5cclxuICAgICAgICAgICAgPGgzPjEwIHM8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuT2JqXCIgc3R5bGU9XCJib3JkZXItcmFkaXVzOiAwcHggMTJweCAxMnB4IDBweDsgYmFja2dyb3VuZDojM0MzQzNDO1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjojQzdDN0M3O1wiPjE1IHM8L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgIHsvaWZ9XHJcbjwvZGl2PlxyXG5cclxuXHJcbjxzdHlsZT5cclxuICAgIC5idG5PYmp7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzkzOTM5MztcclxuICAgICAgICBib3JkZXI6IDRweCBzb2xpZCAjM0MzQzNDO1xyXG4gICAgICAgIHdpZHRoOiAzMCU7XHJcbiAgICB9ICAgXHJcblxyXG5cclxuICAgIC5idG5Db2xsZWN0aW9ue1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBoM3tcclxuICAgICAgICBtYXJnaW46IDAuMjVlbSBhdXRvO1xyXG4gICAgfVxyXG48L3N0eWxlPiIsIjxzdmVsdGU6aGVhZD5cclxuICA8c2NyaXB0PlxyXG4gICAgIWZ1bmN0aW9uKGUsbil7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bigpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sbik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5GRm1wZWc9bigpOmUuRkZtcGVnPW4oKX0oc2VsZiwoZnVuY3Rpb24oKXtyZXR1cm4oKCk9Pnt2YXIgX193ZWJwYWNrX21vZHVsZXNfXz17NzI1Oihtb2R1bGUsX191bnVzZWRfd2VicGFja19leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pPT57XCJ1c2Ugc3RyaWN0XCI7ZXZhbCgnbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjA0NmQwMDc0ZWVlMWQ5OWE2NzRhLmpzXCI7XFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vRkZtcGVnLy4vbm9kZV9tb2R1bGVzL0BmZm1wZWcvY29yZS9kaXN0L2ZmbXBlZy1jb3JlLmpzPycpfSw4Mzk6KF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyk9PntcInVzZSBzdHJpY3RcIjtldmFsKFwiLy8gRVNNIENPTVBBVCBGTEFHXFxuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcblxcbi8vIEVYUE9SVFNcXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xcbiAgXFxcImRlZmF1bHRPcHRpb25zXFxcIjogKCkgPT4gLyogcmVleHBvcnQgKi8gZGVmYXVsdE9wdGlvbnMsXFxuICBcXFwiZmV0Y2hGaWxlXFxcIjogKCkgPT4gLyogcmVleHBvcnQgKi8gZmV0Y2hGaWxlLFxcbiAgXFxcImdldENyZWF0ZUZGbXBlZ0NvcmVcXFwiOiAoKSA9PiAvKiByZWV4cG9ydCAqLyBnZXRDcmVhdGVGRm1wZWdDb3JlXFxufSk7XFxuXFxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3BhY2thZ2UuanNvblxcbnZhciBwYWNrYWdlXzAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwNik7XFxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvYnJvd3Nlci9kZWZhdWx0T3B0aW9ucy5qc1xcblxcbi8qXFxuICogRGVmYXVsdCBvcHRpb25zIGZvciBicm93c2VyIGVudmlyb25tZW50XFxuICovXFxuXFxudmFyIGNvcmVQYXRoID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIFxcXCJwcm9kdWN0aW9uXFxcIiA9PT0gJ2RldmVsb3BtZW50JyA/IG5ldyBVUkwoLyogYXNzZXQgaW1wb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18oNzI1KSwgX193ZWJwYWNrX3JlcXVpcmVfXy5iKS5ocmVmIDogXFxcImh0dHBzOi8vdW5wa2cuY29tL0BmZm1wZWcvY29yZUBcXFwiLmNvbmNhdChwYWNrYWdlXzAuZGV2RGVwZW5kZW5jaWVzW1xcXCJAZmZtcGVnL2NvcmVcXFwiXS5zdWJzdHJpbmcoMSksIFxcXCIvZGlzdC9mZm1wZWctY29yZS5qc1xcXCIpO1xcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3QgZGVmYXVsdE9wdGlvbnMgPSAoe1xcbiAgY29yZVBhdGg6IGNvcmVQYXRoXFxufSk7XFxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy91dGlscy9sb2cuanNcXG52YXIgbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvdXRpbHMvZXJyb3JzLmpzXFxudmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oODM1KTtcXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9icm93c2VyL2dldENyZWF0ZUZGbXBlZ0NvcmUuanNcXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XFxuXFxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXFxcIm5leHRcXFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFxcXCJ0aHJvd1xcXCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cXG5cXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xcblxcblxcbi8qXFxuICogRmV0Y2ggZGF0YSBmcm9tIHJlbW90ZSBVUkwgYW5kIGNvbnZlcnQgdG8gYmxvYiBVUkxcXG4gKiB0byBhdm9pZCBDT1JTIGlzc3VlXFxuICovXFxuXFxudmFyIHRvQmxvYlVSTCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XFxuICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1cmwsIG1pbWVUeXBlKSB7XFxuICAgIHZhciBidWYsIGJsb2IsIGJsb2JVUkw7XFxuICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xcbiAgICAgIHdoaWxlICgxKSB7XFxuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XFxuICAgICAgICAgIGNhc2UgMDpcXG4gICAgICAgICAgICAoMCxsb2cubG9nKSgnaW5mbycsIFxcXCJmZXRjaCBcXFwiLmNvbmNhdCh1cmwpKTtcXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsKTtcXG5cXG4gICAgICAgICAgY2FzZSAzOlxcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zZW50LmFycmF5QnVmZmVyKCk7XFxuXFxuICAgICAgICAgIGNhc2UgNTpcXG4gICAgICAgICAgICBidWYgPSBfY29udGV4dC5zZW50O1xcbiAgICAgICAgICAgICgwLGxvZy5sb2cpKCdpbmZvJywgXFxcIlxcXCIuY29uY2F0KHVybCwgXFxcIiBmaWxlIHNpemUgPSBcXFwiKS5jb25jYXQoYnVmLmJ5dGVMZW5ndGgsIFxcXCIgYnl0ZXNcXFwiKSk7XFxuICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtidWZdLCB7XFxuICAgICAgICAgICAgICB0eXBlOiBtaW1lVHlwZVxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIGJsb2JVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xcbiAgICAgICAgICAgICgwLGxvZy5sb2cpKCdpbmZvJywgXFxcIlxcXCIuY29uY2F0KHVybCwgXFxcIiBibG9iIFVSTCA9IFxcXCIpLmNvbmNhdChibG9iVVJMKSk7XFxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcXFwicmV0dXJuXFxcIiwgYmxvYlVSTCk7XFxuXFxuICAgICAgICAgIGNhc2UgMTE6XFxuICAgICAgICAgIGNhc2UgXFxcImVuZFxcXCI6XFxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0sIF9jYWxsZWUpO1xcbiAgfSkpO1xcblxcbiAgcmV0dXJuIGZ1bmN0aW9uIHRvQmxvYlVSTChfeCwgX3gyKSB7XFxuICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XFxuICB9O1xcbn0oKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXFxuXFxuXFxudmFyIGdldENyZWF0ZUZGbXBlZ0NvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xcbiAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMikge1xcbiAgICB2YXIgX2NvcmVQYXRoLCBfd29ya2VyUGF0aCwgX3dhc21QYXRoLCBfY29yZVJlbW90ZVBhdGgsIF9jb3JlUGF0aDIsIF93YXNtUGF0aDIsIF93b3JrZXJQYXRoMiwgY29yZVJlbW90ZVBhdGgsIGNvcmVQYXRoLCB3YXNtUGF0aCwgd29ya2VyUGF0aDtcXG5cXG4gICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcXG4gICAgICB3aGlsZSAoMSkge1xcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XFxuICAgICAgICAgIGNhc2UgMDpcXG4gICAgICAgICAgICBfY29yZVBhdGggPSBfcmVmMi5jb3JlUGF0aCwgX3dvcmtlclBhdGggPSBfcmVmMi53b3JrZXJQYXRoLCBfd2FzbVBhdGggPSBfcmVmMi53YXNtUGF0aDtcXG5cXG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkpIHtcXG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7XFxuICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKCEodHlwZW9mIF9jb3JlUGF0aCAhPT0gJ3N0cmluZycpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XFxuICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2NvcmVQYXRoIHNob3VsZCBiZSBhIHN0cmluZyEnKTtcXG5cXG4gICAgICAgICAgY2FzZSA0OlxcbiAgICAgICAgICAgIF9jb3JlUmVtb3RlUGF0aCA9IG5ldyBVUkwoX2NvcmVQYXRoLCBcXFwiZmlsZTovLy9DOi9Vc2Vycy9qYXNvbi9EZXNrdG9wL2ZmbXBlZy53YXNtLW1hc3Rlci9zcmMvYnJvd3Nlci9nZXRDcmVhdGVGRm1wZWdDb3JlLmpzXFxcIikuaHJlZjtcXG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7XFxuICAgICAgICAgICAgcmV0dXJuIHRvQmxvYlVSTChfY29yZVJlbW90ZVBhdGgsICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Jyk7XFxuXFxuICAgICAgICAgIGNhc2UgNzpcXG4gICAgICAgICAgICBfY29yZVBhdGgyID0gX2NvbnRleHQyLnNlbnQ7XFxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDtcXG4gICAgICAgICAgICByZXR1cm4gdG9CbG9iVVJMKF93YXNtUGF0aCAhPT0gdW5kZWZpbmVkID8gX3dhc21QYXRoIDogX2NvcmVSZW1vdGVQYXRoLnJlcGxhY2UoJ2ZmbXBlZy1jb3JlLmpzJywgJ2ZmbXBlZy1jb3JlLndhc20nKSwgJ2FwcGxpY2F0aW9uL3dhc20nKTtcXG5cXG4gICAgICAgICAgY2FzZSAxMDpcXG4gICAgICAgICAgICBfd2FzbVBhdGgyID0gX2NvbnRleHQyLnNlbnQ7XFxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMztcXG4gICAgICAgICAgICByZXR1cm4gdG9CbG9iVVJMKF93b3JrZXJQYXRoICE9PSB1bmRlZmluZWQgPyBfd29ya2VyUGF0aCA6IF9jb3JlUmVtb3RlUGF0aC5yZXBsYWNlKCdmZm1wZWctY29yZS5qcycsICdmZm1wZWctY29yZS53b3JrZXIuanMnKSwgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnKTtcXG5cXG4gICAgICAgICAgY2FzZSAxMzpcXG4gICAgICAgICAgICBfd29ya2VyUGF0aDIgPSBfY29udGV4dDIuc2VudDtcXG5cXG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgY3JlYXRlRkZtcGVnQ29yZSA9PT0gJ3VuZGVmaW5lZCcpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2O1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFxcXCJyZXR1cm5cXFwiLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xcbiAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5pbXBvcnRTY3JpcHRzKF9jb3JlUGF0aDIpO1xcblxcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcmVhdGVGRm1wZWdDb3JlID09PSAndW5kZWZpbmVkJykge1xcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigoMCxlcnJvcnMuQ1JFQVRFX0ZGTVBFR19DT1JFX0lTX05PVF9ERUZJTkVEKShfY29yZVJlbW90ZVBhdGgpKTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICgwLGxvZy5sb2cpKCdpbmZvJywgJ2ZmbXBlZy1jb3JlLmpzIHNjcmlwdCBsb2FkZWQnKTtcXG4gICAgICAgICAgICAgIHJlc29sdmUoe1xcbiAgICAgICAgICAgICAgICBjcmVhdGVGRm1wZWdDb3JlOiBjcmVhdGVGRm1wZWdDb3JlLFxcbiAgICAgICAgICAgICAgICBjb3JlUGF0aDogX2NvcmVQYXRoMixcXG4gICAgICAgICAgICAgICAgd2FzbVBhdGg6IF93YXNtUGF0aDIsXFxuICAgICAgICAgICAgICAgIHdvcmtlclBhdGg6IF93b3JrZXJQYXRoMlxcbiAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgfSkpO1xcblxcbiAgICAgICAgICBjYXNlIDE2OlxcbiAgICAgICAgICAgICgwLGxvZy5sb2cpKCdpbmZvJywgJ2ZmbXBlZy1jb3JlLmpzIHNjcmlwdCBpcyBsb2FkZWQgYWxyZWFkeScpO1xcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFxcXCJyZXR1cm5cXFwiLCBQcm9taXNlLnJlc29sdmUoe1xcbiAgICAgICAgICAgICAgY3JlYXRlRkZtcGVnQ29yZTogY3JlYXRlRkZtcGVnQ29yZSxcXG4gICAgICAgICAgICAgIGNvcmVQYXRoOiBfY29yZVBhdGgyLFxcbiAgICAgICAgICAgICAgd2FzbVBhdGg6IF93YXNtUGF0aDIsXFxuICAgICAgICAgICAgICB3b3JrZXJQYXRoOiBfd29ya2VyUGF0aDJcXG4gICAgICAgICAgICB9KSk7XFxuXFxuICAgICAgICAgIGNhc2UgMTg6XFxuICAgICAgICAgICAgaWYgKCEodHlwZW9mIF9jb3JlUGF0aCAhPT0gJ3N0cmluZycpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwO1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdjb3JlUGF0aCBzaG91bGQgYmUgYSBzdHJpbmchJyk7XFxuXFxuICAgICAgICAgIGNhc2UgMjA6XFxuICAgICAgICAgICAgY29yZVJlbW90ZVBhdGggPSBuZXcgVVJMKF9jb3JlUGF0aCwgXFxcImZpbGU6Ly8vQzovVXNlcnMvamFzb24vRGVza3RvcC9mZm1wZWcud2FzbS1tYXN0ZXIvc3JjL2Jyb3dzZXIvZ2V0Q3JlYXRlRkZtcGVnQ29yZS5qc1xcXCIpLmhyZWY7XFxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMztcXG4gICAgICAgICAgICByZXR1cm4gdG9CbG9iVVJMKGNvcmVSZW1vdGVQYXRoLCAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcpO1xcblxcbiAgICAgICAgICBjYXNlIDIzOlxcbiAgICAgICAgICAgIGNvcmVQYXRoID0gX2NvbnRleHQyLnNlbnQ7XFxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNjtcXG4gICAgICAgICAgICByZXR1cm4gdG9CbG9iVVJMKF93YXNtUGF0aCAhPT0gdW5kZWZpbmVkID8gX3dhc21QYXRoIDogY29yZVJlbW90ZVBhdGgucmVwbGFjZSgnZmZtcGVnLWNvcmUuanMnLCAnZmZtcGVnLWNvcmUud2FzbScpLCAnYXBwbGljYXRpb24vd2FzbScpO1xcblxcbiAgICAgICAgICBjYXNlIDI2OlxcbiAgICAgICAgICAgIHdhc21QYXRoID0gX2NvbnRleHQyLnNlbnQ7XFxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTtcXG4gICAgICAgICAgICByZXR1cm4gdG9CbG9iVVJMKF93b3JrZXJQYXRoICE9PSB1bmRlZmluZWQgPyBfd29ya2VyUGF0aCA6IGNvcmVSZW1vdGVQYXRoLnJlcGxhY2UoJ2ZmbXBlZy1jb3JlLmpzJywgJ2ZmbXBlZy1jb3JlLndvcmtlci5qcycpLCAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcpO1xcblxcbiAgICAgICAgICBjYXNlIDI5OlxcbiAgICAgICAgICAgIHdvcmtlclBhdGggPSBfY29udGV4dDIuc2VudDtcXG5cXG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgY3JlYXRlRkZtcGVnQ29yZSA9PT0gJ3VuZGVmaW5lZCcpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMyO1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFxcXCJyZXR1cm5cXFwiLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xcbiAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xcblxcbiAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIGV2ZW50SGFuZGxlcigpIHtcXG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBldmVudEhhbmRsZXIpO1xcblxcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyZWF0ZUZGbXBlZ0NvcmUgPT09ICd1bmRlZmluZWQnKSB7XFxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKDAsZXJyb3JzLkNSRUFURV9GRk1QRUdfQ09SRV9JU19OT1RfREVGSU5FRCkoY29yZVJlbW90ZVBhdGgpKTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICAoMCxsb2cubG9nKSgnaW5mbycsICdmZm1wZWctY29yZS5qcyBzY3JpcHQgbG9hZGVkJyk7XFxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZUZGbXBlZ0NvcmU6IGNyZWF0ZUZGbXBlZ0NvcmUsXFxuICAgICAgICAgICAgICAgICAgY29yZVBhdGg6IGNvcmVQYXRoLFxcbiAgICAgICAgICAgICAgICAgIHdhc21QYXRoOiB3YXNtUGF0aCxcXG4gICAgICAgICAgICAgICAgICB3b3JrZXJQYXRoOiB3b3JrZXJQYXRoXFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgfTtcXG5cXG4gICAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBjb3JlUGF0aDtcXG4gICAgICAgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XFxuICAgICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGV2ZW50SGFuZGxlcik7XFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XFxuICAgICAgICAgICAgfSkpO1xcblxcbiAgICAgICAgICBjYXNlIDMyOlxcbiAgICAgICAgICAgICgwLGxvZy5sb2cpKCdpbmZvJywgJ2ZmbXBlZy1jb3JlLmpzIHNjcmlwdCBpcyBsb2FkZWQgYWxyZWFkeScpO1xcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFxcXCJyZXR1cm5cXFwiLCBQcm9taXNlLnJlc29sdmUoe1xcbiAgICAgICAgICAgICAgY3JlYXRlRkZtcGVnQ29yZTogY3JlYXRlRkZtcGVnQ29yZSxcXG4gICAgICAgICAgICAgIGNvcmVQYXRoOiBjb3JlUGF0aCxcXG4gICAgICAgICAgICAgIHdhc21QYXRoOiB3YXNtUGF0aCxcXG4gICAgICAgICAgICAgIHdvcmtlclBhdGg6IHdvcmtlclBhdGhcXG4gICAgICAgICAgICB9KSk7XFxuXFxuICAgICAgICAgIGNhc2UgMzQ6XFxuICAgICAgICAgIGNhc2UgXFxcImVuZFxcXCI6XFxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9LCBfY2FsbGVlMik7XFxuICB9KSk7XFxuXFxuICByZXR1cm4gZnVuY3Rpb24gZ2V0Q3JlYXRlRkZtcGVnQ29yZShfeDMpIHtcXG4gICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XFxuICB9O1xcbn0oKTtcXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9icm93c2VyL2ZldGNoRmlsZS5qc1xcbmZ1bmN0aW9uIGZldGNoRmlsZV9hc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XFxuXFxuZnVuY3Rpb24gZmV0Y2hGaWxlX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGZldGNoRmlsZV9hc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFxcXCJuZXh0XFxcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgZmV0Y2hGaWxlX2FzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXFxcInRocm93XFxcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxcblxcbnZhciByZWFkRnJvbUJsb2JPckZpbGUgPSBmdW5jdGlvbiByZWFkRnJvbUJsb2JPckZpbGUoYmxvYikge1xcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcXG4gICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xcblxcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0KTtcXG4gICAgfTtcXG5cXG4gICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKF9yZWYpIHtcXG4gICAgICB2YXIgY29kZSA9IF9yZWYudGFyZ2V0LmVycm9yLmNvZGU7XFxuICAgICAgcmVqZWN0KEVycm9yKFxcXCJGaWxlIGNvdWxkIG5vdCBiZSByZWFkISBDb2RlPVxcXCIuY29uY2F0KGNvZGUpKSk7XFxuICAgIH07XFxuXFxuICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XFxuICB9KTtcXG59OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcXG5cXG5cXG52YXIgZmV0Y2hGaWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcXG4gIHZhciBfcmVmMiA9IGZldGNoRmlsZV9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfZGF0YSkge1xcbiAgICB2YXIgZGF0YSwgcmVzO1xcbiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcXG4gICAgICB3aGlsZSAoMSkge1xcbiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xcbiAgICAgICAgICBjYXNlIDA6XFxuICAgICAgICAgICAgZGF0YSA9IF9kYXRhO1xcblxcbiAgICAgICAgICAgIGlmICghKHR5cGVvZiBfZGF0YSA9PT0gJ3VuZGVmaW5lZCcpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcXG4gICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLCBuZXcgVWludDhBcnJheSgpKTtcXG5cXG4gICAgICAgICAgY2FzZSAzOlxcbiAgICAgICAgICAgIGlmICghKHR5cGVvZiBfZGF0YSA9PT0gJ3N0cmluZycpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7XFxuICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKCEvZGF0YTpfZGF0YVxcXFwvKFthLXpBLVpdKik7YmFzZTY0LChbXlxcXCJdKikvLnRlc3QoX2RhdGEpKSB7XFxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODtcXG4gICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBkYXRhID0gYXRvYihfZGF0YS5zcGxpdCgnLCcpWzFdKS5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIC8qIEZyb20gcmVtb3RlIHNlcnZlci9VUkwgKi9cXG5cXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XFxuICAgICAgICAgICAgYnJlYWs7XFxuXFxuICAgICAgICAgIGNhc2UgODpcXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7XFxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKG5ldyBVUkwoX2RhdGEsIFxcXCJmaWxlOi8vL0M6L1VzZXJzL2phc29uL0Rlc2t0b3AvZmZtcGVnLndhc20tbWFzdGVyL3NyYy9icm93c2VyL2ZldGNoRmlsZS5qc1xcXCIpLmhyZWYpO1xcblxcbiAgICAgICAgICBjYXNlIDEwOlxcbiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7XFxuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xcbiAgICAgICAgICAgIHJldHVybiByZXMuYXJyYXlCdWZmZXIoKTtcXG5cXG4gICAgICAgICAgY2FzZSAxMzpcXG4gICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDtcXG5cXG4gICAgICAgICAgY2FzZSAxNDpcXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7XFxuICAgICAgICAgICAgYnJlYWs7XFxuXFxuICAgICAgICAgIGNhc2UgMTY6XFxuICAgICAgICAgICAgaWYgKCEoX2RhdGEgaW5zdGFuY2VvZiBGaWxlIHx8IF9kYXRhIGluc3RhbmNlb2YgQmxvYikpIHtcXG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDtcXG4gICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7XFxuICAgICAgICAgICAgcmV0dXJuIHJlYWRGcm9tQmxvYk9yRmlsZShfZGF0YSk7XFxuXFxuICAgICAgICAgIGNhc2UgMTk6XFxuICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7XFxuXFxuICAgICAgICAgIGNhc2UgMjA6XFxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcXFwicmV0dXJuXFxcIiwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xcblxcbiAgICAgICAgICBjYXNlIDIxOlxcbiAgICAgICAgICBjYXNlIFxcXCJlbmRcXFwiOlxcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9LCBfY2FsbGVlKTtcXG4gIH0pKTtcXG5cXG4gIHJldHVybiBmdW5jdGlvbiBmZXRjaEZpbGUoX3gpIHtcXG4gICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XFxuICB9O1xcbn0oKTtcXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9icm93c2VyL2luZGV4LmpzXFxuXFxuXFxuXFxuXFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vRkZtcGVnLy4vc3JjL2Jyb3dzZXIvaW5kZXguanNfK18zX21vZHVsZXM/XCIpfSw1MDA6bW9kdWxlPT57ZXZhbChcIm1vZHVsZS5leHBvcnRzID0ge1xcbiAgZGVmYXVsdEFyZ3M6IFtcXG4gIC8qIGFyZ3NbMF0gaXMgYWx3YXlzIHRoZSBiaW5hcnkgcGF0aCAqL1xcbiAgJy4vZmZtcGVnJyxcXG4gIC8qIERpc2FibGUgaW50ZXJhY3Rpb24gbW9kZSAqL1xcbiAgJy1ub3N0ZGluJyxcXG4gIC8qIEZvcmNlIHRvIG92ZXJyaWRlIG91dHB1dCBmaWxlICovXFxuICAnLXknXSxcXG4gIGJhc2VPcHRpb25zOiB7XFxuICAgIC8qIEZsYWcgdG8gdHVybiBvbi9vZmYgbG9nIG1lc3NhZ2VzIGluIGNvbnNvbGUgKi9cXG4gICAgbG9nOiBmYWxzZSxcXG5cXG4gICAgLypcXG4gICAgICogQ3VzdG9tIGxvZ2dlciB0byBnZXQgZmZtcGVnLndhc20gb3V0cHV0IG1lc3NhZ2VzLlxcbiAgICAgKiBhIHNhbXBsZSBsb2dnZXIgbG9va3MgbGlrZSB0aGlzOlxcbiAgICAgKlxcbiAgICAgKiBgYGBcXG4gICAgICogbG9nZ2VyID0gKHsgdHlwZSwgbWVzc2FnZSB9KSA9PiB7XFxuICAgICAqICAgY29uc29sZS5sb2codHlwZSwgbWVzc2FnZSk7XFxuICAgICAqIH1cXG4gICAgICogYGBgXFxuICAgICAqXFxuICAgICAqIHR5cGUgY2FuIGJlIG9uZSBvZiBmb2xsb3dpbmc6XFxuICAgICAqXFxuICAgICAqIGluZm86IGludGVybmFsIHdvcmtmbG93IGRlYnVnIG1lc3NhZ2VzXFxuICAgICAqIGZmZXJyOiBmZm1wZWcgbmF0aXZlIHN0ZGVyciBvdXRwdXRcXG4gICAgICogZmZvdXQ6IGZmbXBlZyBuYXRpdmUgc3Rkb3V0IG91dHB1dFxcbiAgICAgKi9cXG4gICAgbG9nZ2VyOiBmdW5jdGlvbiBsb2dnZXIoKSB7fSxcXG5cXG4gICAgLypcXG4gICAgICogUHJvZ3Jlc3MgaGFuZGxlciB0byBnZXQgY3VycmVudCBwcm9ncmVzcyBvZiBmZm1wZWcgY29tbWFuZC5cXG4gICAgICogYSBzYW1wbGUgcHJvZ3Jlc3MgaGFuZGxlciBsb29rcyBsaWtlIHRoaXM6XFxuICAgICAqXFxuICAgICAqIGBgYFxcbiAgICAgKiBwcm9ncmVzcyA9ICh7IHJhdGlvIH0pID0+IHtcXG4gICAgICogICBjb25zb2xlLmxvZyhyYXRpbyk7XFxuICAgICAqIH1cXG4gICAgICogYGBgXFxuICAgICAqXFxuICAgICAqIHJhdGlvIGlzIGEgZmxvYXQgbnVtYmVyIGJldHdlZW4gMCB0byAxLlxcbiAgICAgKi9cXG4gICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uIHByb2dyZXNzKCkge30sXFxuXFxuICAgIC8qXFxuICAgICAqIFBhdGggdG8gZmluZC9kb3dubG9hZCBmZm1wZWcud2FzbS1jb3JlLFxcbiAgICAgKiB0aGlzIHZhbHVlIHNob3VsZCBiZSBvdmVyd3JpdGVuIGJ5IGBkZWZhdWx0T3B0aW9uc2AgaW5cXG4gICAgICogZWFjaCBlbnZpcm9ubWVudC5cXG4gICAgICovXFxuICAgIGNvcmVQYXRoOiAnJ1xcbiAgfVxcbn07XFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vRkZtcGVnLy4vc3JjL2NvbmZpZy5qcz9cIil9LDkwNjoobW9kdWxlLF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKT0+e2V2YWwoXCJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cXG5cXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlxcXCIpOyB9XFxuXFxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcXFwidW5kZWZpbmVkXFxcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxcblxcbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cXG5cXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XFxuXFxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXFxcIm5leHRcXFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFxcXCJ0aHJvd1xcXCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cXG5cXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxcblxcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxcXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXFxcIik7IH1cXG5cXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFxcXCJzdHJpbmdcXFwiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXFxcIk9iamVjdFxcXCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFxcXCJNYXBcXFwiIHx8IG4gPT09IFxcXCJTZXRcXFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFxcXCJBcmd1bWVudHNcXFwiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxcblxcbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxcblxcbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFxcXCJ1bmRlZmluZWRcXFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcXFwicmV0dXJuXFxcIl0gIT0gbnVsbCkgX2lbXFxcInJldHVyblxcXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxcblxcbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxcblxcbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XFxuXFxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XFxuXFxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cXG5cXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cXG5cXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XFxuXFxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MDApLFxcbiAgICBkZWZhdWx0QXJncyA9IF9yZXF1aXJlLmRlZmF1bHRBcmdzLFxcbiAgICBiYXNlT3B0aW9ucyA9IF9yZXF1aXJlLmJhc2VPcHRpb25zO1xcblxcbnZhciBwYXJzZUFyZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxOSk7XFxuXFxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oODM5KSxcXG4gICAgZGVmYXVsdE9wdGlvbnMgPSBfcmVxdWlyZTIuZGVmYXVsdE9wdGlvbnMsXFxuICAgIGdldENyZWF0ZUZGbXBlZ0NvcmUgPSBfcmVxdWlyZTIuZ2V0Q3JlYXRlRkZtcGVnQ29yZTtcXG5cXG52YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDYpLFxcbiAgICB2ZXJzaW9uID0gX3JlcXVpcmUzLnZlcnNpb247XFxuXFxudmFyIE5PX0xPQUQgPSBFcnJvcignZmZtcGVnLndhc20gaXMgbm90IHJlYWR5LCBtYWtlIHN1cmUgeW91IGhhdmUgY29tcGxldGVkIGxvYWQoKS4nKTtcXG5cXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcXG4gIHZhciBfb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XFxuXFxuICB2YXIgX2Jhc2VPcHRpb25zJGRlZmF1bHRPID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGJhc2VPcHRpb25zKSwgZGVmYXVsdE9wdGlvbnMpLCBfb3B0aW9ucyksXFxuICAgICAgb3B0TG9nID0gX2Jhc2VPcHRpb25zJGRlZmF1bHRPLmxvZyxcXG4gICAgICBsb2dnZXIgPSBfYmFzZU9wdGlvbnMkZGVmYXVsdE8ubG9nZ2VyLFxcbiAgICAgIG9wdFByb2dyZXNzID0gX2Jhc2VPcHRpb25zJGRlZmF1bHRPLnByb2dyZXNzLFxcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX2Jhc2VPcHRpb25zJGRlZmF1bHRPLCBbXFxcImxvZ1xcXCIsIFxcXCJsb2dnZXJcXFwiLCBcXFwicHJvZ3Jlc3NcXFwiXSk7XFxuXFxuICB2YXIgQ29yZSA9IG51bGw7XFxuICB2YXIgZmZtcGVnID0gbnVsbDtcXG4gIHZhciBydW5SZXNvbHZlID0gbnVsbDtcXG4gIHZhciBydW5SZWplY3QgPSBudWxsO1xcbiAgdmFyIHJ1bm5pbmcgPSBmYWxzZTtcXG5cXG4gIHZhciBjdXN0b21Mb2dnZXIgPSBmdW5jdGlvbiBjdXN0b21Mb2dnZXIoKSB7fTtcXG5cXG4gIHZhciBsb2dnaW5nID0gb3B0TG9nO1xcbiAgdmFyIHByb2dyZXNzID0gb3B0UHJvZ3Jlc3M7XFxuICB2YXIgZHVyYXRpb24gPSAwO1xcbiAgdmFyIGZyYW1lcyA9IDA7XFxuICB2YXIgcmVhZEZyYW1lcyA9IGZhbHNlO1xcbiAgdmFyIHJhdGlvID0gMDtcXG5cXG4gIHZhciBkZXRlY3RDb21wbGV0aW9uID0gZnVuY3Rpb24gZGV0ZWN0Q29tcGxldGlvbihtZXNzYWdlKSB7XFxuICAgIGlmIChtZXNzYWdlID09PSAnRkZNUEVHX0VORCcgJiYgcnVuUmVzb2x2ZSAhPT0gbnVsbCkge1xcbiAgICAgIHJ1blJlc29sdmUoKTtcXG4gICAgICBydW5SZXNvbHZlID0gbnVsbDtcXG4gICAgICBydW5SZWplY3QgPSBudWxsO1xcbiAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcXG4gICAgfVxcbiAgfTtcXG5cXG4gIHZhciBsb2cgPSBmdW5jdGlvbiBsb2codHlwZSwgbWVzc2FnZSkge1xcbiAgICBjdXN0b21Mb2dnZXIoe1xcbiAgICAgIHR5cGU6IHR5cGUsXFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxcbiAgICB9KTtcXG5cXG4gICAgaWYgKGxvZ2dpbmcpIHtcXG4gICAgICBjb25zb2xlLmxvZyhcXFwiW1xcXCIuY29uY2F0KHR5cGUsIFxcXCJdIFxcXCIpLmNvbmNhdChtZXNzYWdlKSk7XFxuICAgIH1cXG4gIH07XFxuXFxuICB2YXIgdHMyc2VjID0gZnVuY3Rpb24gdHMyc2VjKHRzKSB7XFxuICAgIHZhciBfdHMkc3BsaXQgPSB0cy5zcGxpdCgnOicpLFxcbiAgICAgICAgX3RzJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF90cyRzcGxpdCwgMyksXFxuICAgICAgICBoID0gX3RzJHNwbGl0MlswXSxcXG4gICAgICAgIG0gPSBfdHMkc3BsaXQyWzFdLFxcbiAgICAgICAgcyA9IF90cyRzcGxpdDJbMl07XFxuXFxuICAgIHJldHVybiBwYXJzZUZsb2F0KGgpICogNjAgKiA2MCArIHBhcnNlRmxvYXQobSkgKiA2MCArIHBhcnNlRmxvYXQocyk7XFxuICB9O1xcblxcbiAgdmFyIHBhcnNlUHJvZ3Jlc3MgPSBmdW5jdGlvbiBwYXJzZVByb2dyZXNzKG1lc3NhZ2UsIHByb2cpIHtcXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xcbiAgICAgIGlmIChtZXNzYWdlLnN0YXJ0c1dpdGgoJyAgRHVyYXRpb24nKSkge1xcbiAgICAgICAgdmFyIHRzID0gbWVzc2FnZS5zcGxpdCgnLCAnKVswXS5zcGxpdCgnOiAnKVsxXTtcXG4gICAgICAgIHZhciBkID0gdHMyc2VjKHRzKTtcXG4gICAgICAgIHByb2coe1xcbiAgICAgICAgICBkdXJhdGlvbjogZCxcXG4gICAgICAgICAgcmF0aW86IHJhdGlvXFxuICAgICAgICB9KTtcXG5cXG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCB8fCBkdXJhdGlvbiA+IGQpIHtcXG4gICAgICAgICAgZHVyYXRpb24gPSBkO1xcbiAgICAgICAgICByZWFkRnJhbWVzID0gdHJ1ZTtcXG4gICAgICAgIH1cXG4gICAgICB9IGVsc2UgaWYgKHJlYWRGcmFtZXMgJiYgbWVzc2FnZS5zdGFydHNXaXRoKCcgICAgU3RyZWFtJykpIHtcXG4gICAgICAgIHZhciBtYXRjaCA9IG1lc3NhZ2UubWF0Y2goLyhbXFxcXGQuXSspIGZwcy8pO1xcblxcbiAgICAgICAgaWYgKG1hdGNoKSB7XFxuICAgICAgICAgIHZhciBmcHMgPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcXG4gICAgICAgICAgZnJhbWVzID0gZHVyYXRpb24gKiBmcHM7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBmcmFtZXMgPSAwO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcmVhZEZyYW1lcyA9IGZhbHNlO1xcbiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCdmcmFtZScpIHx8IG1lc3NhZ2Uuc3RhcnRzV2l0aCgnc2l6ZScpKSB7XFxuICAgICAgICB2YXIgX3RzID0gbWVzc2FnZS5zcGxpdCgndGltZT0nKVsxXS5zcGxpdCgnICcpWzBdO1xcbiAgICAgICAgdmFyIHQgPSB0czJzZWMoX3RzKTtcXG5cXG4gICAgICAgIHZhciBfbWF0Y2ggPSBtZXNzYWdlLm1hdGNoKC9mcmFtZT1cXFxccyooXFxcXGQrKS8pO1xcblxcbiAgICAgICAgaWYgKGZyYW1lcyAmJiBfbWF0Y2gpIHtcXG4gICAgICAgICAgdmFyIGYgPSBwYXJzZUZsb2F0KF9tYXRjaFsxXSk7XFxuICAgICAgICAgIHJhdGlvID0gTWF0aC5taW4oZiAvIGZyYW1lcywgMSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICByYXRpbyA9IHQgLyBkdXJhdGlvbjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHByb2coe1xcbiAgICAgICAgICByYXRpbzogcmF0aW8sXFxuICAgICAgICAgIHRpbWU6IHRcXG4gICAgICAgIH0pO1xcbiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCd2aWRlbzonKSkge1xcbiAgICAgICAgcHJvZyh7XFxuICAgICAgICAgIHJhdGlvOiAxXFxuICAgICAgICB9KTtcXG4gICAgICAgIGR1cmF0aW9uID0gMDtcXG4gICAgICB9XFxuICAgIH1cXG4gIH07XFxuXFxuICB2YXIgcGFyc2VNZXNzYWdlID0gZnVuY3Rpb24gcGFyc2VNZXNzYWdlKF9yZWYpIHtcXG4gICAgdmFyIHR5cGUgPSBfcmVmLnR5cGUsXFxuICAgICAgICBtZXNzYWdlID0gX3JlZi5tZXNzYWdlO1xcbiAgICBsb2codHlwZSwgbWVzc2FnZSk7XFxuICAgIHBhcnNlUHJvZ3Jlc3MobWVzc2FnZSwgcHJvZ3Jlc3MpO1xcbiAgICBkZXRlY3RDb21wbGV0aW9uKG1lc3NhZ2UpO1xcbiAgfTtcXG4gIC8qXFxuICAgKiBMb2FkIGZmbXBlZy53YXNtLWNvcmUgc2NyaXB0LlxcbiAgICogSW4gYnJvd3NlciBlbnZpcm9ubWVudCwgdGhlIGZmbXBlZy53YXNtLWNvcmUgc2NyaXB0IGlzIGZldGNoIGZyb21cXG4gICAqIENETiBhbmQgY2FuIGJlIGFzc2lnbiB0byBhIGxvY2FsIHBhdGggYnkgYXNzaWduaW5nIGBjb3JlUGF0aGAuXFxuICAgKiBJbiBub2RlIGVudmlyb25tZW50LCB3ZSB1c2UgZHluYW1pYyByZXF1aXJlIGFuZCB0aGUgZGVmYXVsdCBgY29yZVBhdGhgXFxuICAgKiBpcyBgJGZmbXBlZy9jb3JlYC5cXG4gICAqXFxuICAgKiBUeXBpY2FsbHkgdGhlIGxvYWQoKSBmdW5jIG1pZ2h0IHRha2UgZmV3IHNlY29uZHMgdG8gbWludXRlcyB0byBjb21wbGV0ZSxcXG4gICAqIGJldHRlciB0byBkbyBpdCBhcyBlYXJseSBhcyBwb3NzaWJsZS5cXG4gICAqXFxuICAgKi9cXG5cXG5cXG4gIHZhciBsb2FkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcXG4gICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xcbiAgICAgIHZhciBfeWllbGQkZ2V0Q3JlYXRlRkZtcGUsIGNyZWF0ZUZGbXBlZ0NvcmUsIGNvcmVQYXRoLCB3b3JrZXJQYXRoLCB3YXNtUGF0aDtcXG5cXG4gICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcXG4gICAgICAgIHdoaWxlICgxKSB7XFxuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcXG4gICAgICAgICAgICBjYXNlIDA6XFxuICAgICAgICAgICAgICBsb2coJ2luZm8nLCAnbG9hZCBmZm1wZWctY29yZScpO1xcblxcbiAgICAgICAgICAgICAgaWYgKCEoQ29yZSA9PT0gbnVsbCkpIHtcXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3O1xcbiAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIGxvZygnaW5mbycsICdsb2FkaW5nIGZmbXBlZy1jb3JlJyk7XFxuICAgICAgICAgICAgICAvKlxcbiAgICAgICAgICAgICAgICogSW4gbm9kZSBlbnZpcm9ubWVudCwgYWxsIHBhdGhzIGFyZSB1bmRlZmluZWQgYXMgdGhlcmVcXG4gICAgICAgICAgICAgICAqIGlzIG5vIG5lZWQgdG8gc2V0IHRoZW0uXFxuICAgICAgICAgICAgICAgKi9cXG5cXG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENyZWF0ZUZGbXBlZ0NvcmUob3B0aW9ucyk7XFxuXFxuICAgICAgICAgICAgY2FzZSA1OlxcbiAgICAgICAgICAgICAgX3lpZWxkJGdldENyZWF0ZUZGbXBlID0gX2NvbnRleHQuc2VudDtcXG4gICAgICAgICAgICAgIGNyZWF0ZUZGbXBlZ0NvcmUgPSBfeWllbGQkZ2V0Q3JlYXRlRkZtcGUuY3JlYXRlRkZtcGVnQ29yZTtcXG4gICAgICAgICAgICAgIGNvcmVQYXRoID0gX3lpZWxkJGdldENyZWF0ZUZGbXBlLmNvcmVQYXRoO1xcbiAgICAgICAgICAgICAgd29ya2VyUGF0aCA9IF95aWVsZCRnZXRDcmVhdGVGRm1wZS53b3JrZXJQYXRoO1xcbiAgICAgICAgICAgICAgd2FzbVBhdGggPSBfeWllbGQkZ2V0Q3JlYXRlRkZtcGUud2FzbVBhdGg7XFxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7XFxuICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRkZtcGVnQ29yZSh7XFxuICAgICAgICAgICAgICAgIC8qXFxuICAgICAgICAgICAgICAgICAqIEFzc2lnbiBtYWluU2NyaXB0VXJsT3JCbG9iIGZpeGVzIGNocm9tZSBleHRlbnNpb24gd2ViIHdvcmtlciBpc3N1ZVxcbiAgICAgICAgICAgICAgICAgKiBhcyB0aGVyZSBpcyBubyBkb2N1bWVudC5jdXJyZW50U2NyaXB0IGluIHRoZSBjb250ZXh0IG9mIGNvbnRlbnRfc2NyaXB0c1xcbiAgICAgICAgICAgICAgICAgKi9cXG4gICAgICAgICAgICAgICAgbWFpblNjcmlwdFVybE9yQmxvYjogY29yZVBhdGgsXFxuICAgICAgICAgICAgICAgIHByaW50RXJyOiBmdW5jdGlvbiBwcmludEVycihtZXNzYWdlKSB7XFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlTWVzc2FnZSh7XFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmZlcnInLFxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxcbiAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBwcmludDogZnVuY3Rpb24gcHJpbnQobWVzc2FnZSkge1xcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZU1lc3NhZ2Uoe1xcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Zmb3V0JyxcXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcXG4gICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfSxcXG5cXG4gICAgICAgICAgICAgICAgLypcXG4gICAgICAgICAgICAgICAgICogbG9jYXRlRmlsZSBvdmVycmlkZXMgcGF0aHMgb2YgZmlsZXMgdGhhdCBpcyBsb2FkZWQgYnkgbWFpbiBzY3JpcHQgKGZmbXBlZy1jb3JlLmpzKS5cXG4gICAgICAgICAgICAgICAgICogSXQgaXMgY3JpdGljYWwgZm9yIGJyb3dzZXIgZW52aXJvbm1lbnQgYW5kIHdlIG92ZXJyaWRlIGJvdGggd2FzbSBhbmQgd29ya2VyIHBhdGhzXFxuICAgICAgICAgICAgICAgICAqIGFzIHdlIGFyZSB1c2luZyBibG9iIFVSTCBpbnN0ZWFkIG9mIG9yaWdpbmFsIFVSTCB0byBhdm9pZCBjcm9zcyBvcmlnaW4gaXNzdWVzLlxcbiAgICAgICAgICAgICAgICAgKi9cXG4gICAgICAgICAgICAgICAgbG9jYXRlRmlsZTogZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoLCBwcmVmaXgpIHtcXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJykge1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3YXNtUGF0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgcGF0aC5lbmRzV2l0aCgnZmZtcGVnLWNvcmUud2FzbScpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXNtUGF0aDtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd29ya2VyUGF0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgcGF0aC5lbmRzV2l0aCgnZmZtcGVnLWNvcmUud29ya2VyLmpzJykpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlclBhdGg7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwYXRoO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9KTtcXG5cXG4gICAgICAgICAgICBjYXNlIDEyOlxcbiAgICAgICAgICAgICAgQ29yZSA9IF9jb250ZXh0LnNlbnQ7XFxuICAgICAgICAgICAgICBmZm1wZWcgPSBDb3JlLmN3cmFwKG9wdGlvbnMubWFpbk5hbWUgfHwgJ3Byb3h5X21haW4nLCAnbnVtYmVyJywgWydudW1iZXInLCAnbnVtYmVyJ10pO1xcbiAgICAgICAgICAgICAgbG9nKCdpbmZvJywgJ2ZmbXBlZy1jb3JlIGxvYWRlZCcpO1xcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuXFxuICAgICAgICAgICAgY2FzZSAxNzpcXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKCdmZm1wZWcud2FzbSB3YXMgbG9hZGVkLCB5b3Ugc2hvdWxkIG5vdCBsb2FkIGl0IGFnYWluLCB1c2UgZmZtcGVnLmlzTG9hZGVkKCkgdG8gY2hlY2sgbmV4dCB0aW1lLicpO1xcblxcbiAgICAgICAgICAgIGNhc2UgMTg6XFxuICAgICAgICAgICAgY2FzZSBcXFwiZW5kXFxcIjpcXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICB9LCBfY2FsbGVlKTtcXG4gICAgfSkpO1xcblxcbiAgICByZXR1cm4gZnVuY3Rpb24gbG9hZCgpIHtcXG4gICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcXG4gICAgfTtcXG4gIH0oKTtcXG4gIC8qXFxuICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgQ29yZSBpcyBsb2FkZWQuXFxuICAgKi9cXG5cXG5cXG4gIHZhciBpc0xvYWRlZCA9IGZ1bmN0aW9uIGlzTG9hZGVkKCkge1xcbiAgICByZXR1cm4gQ29yZSAhPT0gbnVsbDtcXG4gIH07XFxuICAvKlxcbiAgICogUnVuIGZmbXBlZyBjb21tYW5kLlxcbiAgICogVGhpcyBpcyB0aGUgbWFqb3IgZnVuY3Rpb24gaW4gZmZtcGVnLndhc20sIHlvdSBjYW4ganVzdCBpbWFnaW5lIGl0XFxuICAgKiBhcyBmZm1wZWcgbmF0aXZlIGNsaSBhbmQgd2hhdCB5b3UgbmVlZCB0byBwYXNzIGlzIHRoZSBzYW1lLlxcbiAgICpcXG4gICAqIEZvciBleGFtcGxlLCB5b3UgY2FuIGNvbnZlcnQgbmF0aXZlIGNvbW1hbmQgYmVsb3c6XFxuICAgKlxcbiAgICogYGBgXFxuICAgKiAkIGZmbXBlZyAtaSB2aWRlby5hdmkgLWM6diBsaWJ4MjY0IHZpZGVvLm1wNFxcbiAgICogYGBgXFxuICAgKlxcbiAgICogVG9cXG4gICAqXFxuICAgKiBgYGBcXG4gICAqIGF3YWl0IGZmbXBlZy5ydW4oJy1pJywgJ3ZpZGVvLmF2aScsICctYzp2JywgJ2xpYngyNjQnLCAndmlkZW8ubXA0Jyk7XFxuICAgKiBgYGBcXG4gICAqXFxuICAgKi9cXG5cXG5cXG4gIHZhciBydW4gPSBmdW5jdGlvbiBydW4oKSB7XFxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcXG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcXG4gICAgfVxcblxcbiAgICBsb2coJ2luZm8nLCBcXFwicnVuIGZmbXBlZyBjb21tYW5kOiBcXFwiLmNvbmNhdChfYXJncy5qb2luKCcgJykpKTtcXG5cXG4gICAgaWYgKENvcmUgPT09IG51bGwpIHtcXG4gICAgICB0aHJvdyBOT19MT0FEO1xcbiAgICB9IGVsc2UgaWYgKHJ1bm5pbmcpIHtcXG4gICAgICB0aHJvdyBFcnJvcignZmZtcGVnLndhc20gY2FuIG9ubHkgcnVuIG9uZSBjb21tYW5kIGF0IGEgdGltZScpO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIHJ1bm5pbmcgPSB0cnVlO1xcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XFxuICAgICAgICB2YXIgYXJncyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZGVmYXVsdEFyZ3MpLCBfYXJncykuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XFxuICAgICAgICAgIHJldHVybiBzLmxlbmd0aCAhPT0gMDtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgcnVuUmVzb2x2ZSA9IHJlc29sdmU7XFxuICAgICAgICBydW5SZWplY3QgPSByZWplY3Q7XFxuICAgICAgICBmZm1wZWcuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkocGFyc2VBcmdzKENvcmUsIGFyZ3MpKSk7XFxuICAgICAgfSk7XFxuICAgIH1cXG4gIH07XFxuICAvKlxcbiAgICogUnVuIEZTIG9wZXJhdGlvbnMuXFxuICAgKiBGb3IgaW5wdXQvb3V0cHV0IGZpbGUgb2YgZmZtcGVnLndhc20sIGl0IGlzIHJlcXVpcmVkIHRvIHNhdmUgdGhlbSB0byBNRU1GU1xcbiAgICogZmlyc3Qgc28gdGhhdCBmZm1wZWcud2FzbSBpcyBhYmxlIHRvIGNvbnN1bWUgdGhlbS4gSGVyZSB3ZSByZWx5IG9uIHRoZSBGU1xcbiAgICogbWV0aG9kcyBwcm92aWRlZCBieSBFbXNjcmlwdGVuLlxcbiAgICpcXG4gICAqIENvbW1vbiBtZXRob2RzIHRvIHVzZSBhcmU6XFxuICAgKiBmZm1wZWcuRlMoJ3dyaXRlRmlsZScsICd2aWRlby5hdmknLCBuZXcgVWludDhBcnJheSguLi4pKTogd3JpdGVGaWxlIHdyaXRlc1xcbiAgICogZGF0YSB0byBNRU1GUy4gWW91IG5lZWQgdG8gdXNlIFVpbnQ4QXJyYXkgZm9yIGJpbmFyeSBkYXRhLlxcbiAgICogZmZtcGVnLkZTKCdyZWFkRmlsZScsICd2aWRlby5tcDQnKTogcmVhZEZpbGUgZnJvbSBNRU1GUy5cXG4gICAqIGZmbXBlZy5GUygndW5saW5rJywgJ3ZpZGVvLm1hcCcpOiBkZWxldGUgZmlsZSBmcm9tIE1FTUZTLlxcbiAgICpcXG4gICAqIEZvciBtb3JlIGluZm8sIGNoZWNrIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9hcGlfcmVmZXJlbmNlL0ZpbGVzeXN0ZW0tQVBJLmh0bWxcXG4gICAqXFxuICAgKi9cXG5cXG5cXG4gIHZhciBGUyA9IGZ1bmN0aW9uIEZTKG1ldGhvZCkge1xcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xcbiAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XFxuICAgIH1cXG5cXG4gICAgbG9nKCdpbmZvJywgXFxcInJ1biBGUy5cXFwiLmNvbmNhdChtZXRob2QsIFxcXCIgXFxcIikuY29uY2F0KGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcXG4gICAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgPyBhcmcgOiBcXFwiPFxcXCIuY29uY2F0KGFyZy5sZW5ndGgsIFxcXCIgYnl0ZXMgYmluYXJ5IGZpbGU+XFxcIik7XFxuICAgIH0pLmpvaW4oJyAnKSkpO1xcblxcbiAgICBpZiAoQ29yZSA9PT0gbnVsbCkge1xcbiAgICAgIHRocm93IE5PX0xPQUQ7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgdmFyIHJldCA9IG51bGw7XFxuXFxuICAgICAgdHJ5IHtcXG4gICAgICAgIHZhciBfQ29yZSRGUztcXG5cXG4gICAgICAgIHJldCA9IChfQ29yZSRGUyA9IENvcmUuRlMpW21ldGhvZF0uYXBwbHkoX0NvcmUkRlMsIGFyZ3MpO1xcbiAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgIGlmIChtZXRob2QgPT09ICdyZWFkZGlyJykge1xcbiAgICAgICAgICB0aHJvdyBFcnJvcihcXFwiZmZtcGVnLkZTKCdyZWFkZGlyJywgJ1xcXCIuY29uY2F0KGFyZ3NbMF0sIFxcXCInKSBlcnJvci4gQ2hlY2sgaWYgdGhlIHBhdGggZXhpc3RzLCBleDogZmZtcGVnLkZTKCdyZWFkZGlyJywgJy8nKVxcXCIpKTtcXG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAncmVhZEZpbGUnKSB7XFxuICAgICAgICAgIHRocm93IEVycm9yKFxcXCJmZm1wZWcuRlMoJ3JlYWRGaWxlJywgJ1xcXCIuY29uY2F0KGFyZ3NbMF0sIFxcXCInKSBlcnJvci4gQ2hlY2sgaWYgdGhlIHBhdGggZXhpc3RzXFxcIikpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ09vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nIGluIEZTIG9wZXJhdGlvbi4nKTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuXFxuICAgICAgcmV0dXJuIHJldDtcXG4gICAgfVxcbiAgfTtcXG4gIC8qKlxcbiAgICogZm9yY2libHkgdGVybWluYXRlIHRoZSBmZm1wZWcgcHJvZ3JhbS5cXG4gICAqL1xcblxcblxcbiAgdmFyIGV4aXQgPSBmdW5jdGlvbiBleGl0KCkge1xcbiAgICBpZiAoQ29yZSA9PT0gbnVsbCkge1xcbiAgICAgIHRocm93IE5PX0xPQUQ7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgLy8gaWYgdGhlcmUncyBhbnkgcGVuZGluZyBydW5zLCByZWplY3QgdGhlbVxcbiAgICAgIGlmIChydW5SZWplY3QpIHtcXG4gICAgICAgIHJ1blJlamVjdCgnZmZtcGVnIGhhcyBleGl0ZWQnKTtcXG4gICAgICB9XFxuXFxuICAgICAgcnVubmluZyA9IGZhbHNlO1xcblxcbiAgICAgIHRyeSB7XFxuICAgICAgICBDb3JlLmV4aXQoMSk7XFxuICAgICAgfSBjYXRjaCAoZXJyKSB7XFxuICAgICAgICBsb2coZXJyLm1lc3NhZ2UpO1xcblxcbiAgICAgICAgaWYgKHJ1blJlamVjdCkge1xcbiAgICAgICAgICBydW5SZWplY3QoZXJyKTtcXG4gICAgICAgIH1cXG4gICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgQ29yZSA9IG51bGw7XFxuICAgICAgICBmZm1wZWcgPSBudWxsO1xcbiAgICAgICAgcnVuUmVzb2x2ZSA9IG51bGw7XFxuICAgICAgICBydW5SZWplY3QgPSBudWxsO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgfTtcXG5cXG4gIHZhciBzZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIHNldFByb2dyZXNzKF9wcm9ncmVzcykge1xcbiAgICBwcm9ncmVzcyA9IF9wcm9ncmVzcztcXG4gIH07XFxuXFxuICB2YXIgc2V0TG9nZ2VyID0gZnVuY3Rpb24gc2V0TG9nZ2VyKF9sb2dnZXIpIHtcXG4gICAgY3VzdG9tTG9nZ2VyID0gX2xvZ2dlcjtcXG4gIH07XFxuXFxuICB2YXIgc2V0TG9nZ2luZyA9IGZ1bmN0aW9uIHNldExvZ2dpbmcoX2xvZ2dpbmcpIHtcXG4gICAgbG9nZ2luZyA9IF9sb2dnaW5nO1xcbiAgfTtcXG5cXG4gIGxvZygnaW5mbycsIFxcXCJ1c2UgZmZtcGVnLndhc20gdlxcXCIuY29uY2F0KHZlcnNpb24pKTtcXG4gIHJldHVybiB7XFxuICAgIHNldFByb2dyZXNzOiBzZXRQcm9ncmVzcyxcXG4gICAgc2V0TG9nZ2VyOiBzZXRMb2dnZXIsXFxuICAgIHNldExvZ2dpbmc6IHNldExvZ2dpbmcsXFxuICAgIGxvYWQ6IGxvYWQsXFxuICAgIGlzTG9hZGVkOiBpc0xvYWRlZCxcXG4gICAgcnVuOiBydW4sXFxuICAgIGV4aXQ6IGV4aXQsXFxuICAgIEZTOiBGU1xcbiAgfTtcXG59O1xcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0ZGbXBlZy8uL3NyYy9jcmVhdGVGRm1wZWcuanM/XCIpfSwzNTI6KG1vZHVsZSxfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyk9PntldmFsKFwiX193ZWJwYWNrX3JlcXVpcmVfXyg2NjYpO1xcblxcbnZhciBjcmVhdGVGRm1wZWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwNik7XFxuXFxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MzkpLFxcbiAgICBmZXRjaEZpbGUgPSBfcmVxdWlyZS5mZXRjaEZpbGU7XFxuXFxubW9kdWxlLmV4cG9ydHMgPSB7XFxuICAvKlxcbiAgICogQ3JlYXRlIGZmbXBlZyBpbnN0YW5jZS5cXG4gICAqIEVhY2ggZmZtcGVnIGluc3RhbmNlIG93bnMgYW4gaXNvbGF0ZWQgTUVNRlMgYW5kIHdvcmtzXFxuICAgKiBpbmRlcGVuZGVudGx5LlxcbiAgICpcXG4gICAqIEZvciBleGFtcGxlOlxcbiAgICpcXG4gICAqIGBgYFxcbiAgICogY29uc3QgZmZtcGVnID0gY3JlYXRlRkZtcGVnKHtcXG4gICAqICBsb2c6IHRydWUsXFxuICAgKiAgbG9nZ2VyOiAoKSA9PiB7fSxcXG4gICAqICBwcm9ncmVzczogKCkgPT4ge30sXFxuICAgKiAgY29yZVBhdGg6ICcnLFxcbiAgICogfSlcXG4gICAqIGBgYFxcbiAgICpcXG4gICAqIEZvciB0aGUgdXNhZ2Ugb2YgdGhlc2UgZm91ciBhcmd1bWVudHMsIGNoZWNrIGNvbmZpZy5qc1xcbiAgICpcXG4gICAqL1xcbiAgY3JlYXRlRkZtcGVnOiBjcmVhdGVGRm1wZWcsXFxuXFxuICAvKlxcbiAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBmZXRjaGluZyBmaWxlcyBmcm9tIHZhcmlvdXMgcmVzb3VyY2UuXFxuICAgKiBTb21ldGltZXMgdGhlIHZpZGVvL2F1ZGlvIGZpbGUgeW91IHdhbnQgdG8gcHJvY2VzcyBtYXkgbG9jYXRlZFxcbiAgICogaW4gYSByZW1vdGUgVVJMIGFuZCBzb21ld2hlcmUgaW4geW91ciBsb2NhbCBmaWxlIHN5c3RlbS5cXG4gICAqXFxuICAgKiBUaGlzIGhlbHBlciBmdW5jdGlvbiBoZWxwcyB5b3UgdG8gZmV0Y2ggdG8gZmlsZSBhbmQgcmV0dXJuIGFuXFxuICAgKiBVaW50OEFycmF5IHZhcmlhYmxlIGZvciBmZm1wZWcud2FzbSB0byBjb25zdW1lLlxcbiAgICpcXG4gICAqL1xcbiAgZmV0Y2hGaWxlOiBmZXRjaEZpbGVcXG59O1xcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0ZGbXBlZy8uL3NyYy9pbmRleC5qcz9cIil9LDgzNTptb2R1bGU9PntldmFsKCd2YXIgQ1JFQVRFX0ZGTVBFR19DT1JFX0lTX05PVF9ERUZJTkVEID0gZnVuY3Rpb24gQ1JFQVRFX0ZGTVBFR19DT1JFX0lTX05PVF9ERUZJTkVEKGNvcmVQYXRoKSB7XFxuICByZXR1cm4gXCJcXFxcbmNyZWF0ZUZGbXBlZ0NvcmUgaXMgbm90IGRlZmluZWQuIGZmbXBlZy53YXNtIGlzIHVuYWJsZSB0byBmaW5kIGNyZWF0ZUZGbXBlZ0NvcmUgYWZ0ZXIgbG9hZGluZyBmZm1wZWctY29yZS5qcyBmcm9tIFwiLmNvbmNhdChjb3JlUGF0aCwgXCIuIFVzZSBhbm90aGVyIFVSTCB3aGVuIGNhbGxpbmcgY3JlYXRlRkZtcGVnKCk6XFxcXG5cXFxcbmNvbnN0IGZmbXBlZyA9IGNyZWF0ZUZGbXBlZyh7XFxcXG4gIGNvcmVQYXRoOiBcXCdodHRwOi8vbG9jYWxob3N0OjMwMDAvZmZtcGVnLWNvcmUuanNcXCcsXFxcXG59KTtcXFxcblwiKTtcXG59O1xcblxcbm1vZHVsZS5leHBvcnRzID0ge1xcbiAgQ1JFQVRFX0ZGTVBFR19DT1JFX0lTX05PVF9ERUZJTkVEOiBDUkVBVEVfRkZNUEVHX0NPUkVfSVNfTk9UX0RFRklORURcXG59O1xcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0ZGbXBlZy8uL3NyYy91dGlscy9lcnJvcnMuanM/Jyl9LDE4NTptb2R1bGU9PntldmFsKCd2YXIgbG9nZ2luZyA9IGZhbHNlO1xcblxcbnZhciBjdXN0b21Mb2dnZXIgPSBmdW5jdGlvbiBjdXN0b21Mb2dnZXIoKSB7fTtcXG5cXG52YXIgc2V0TG9nZ2luZyA9IGZ1bmN0aW9uIHNldExvZ2dpbmcoX2xvZ2dpbmcpIHtcXG4gIGxvZ2dpbmcgPSBfbG9nZ2luZztcXG59O1xcblxcbnZhciBzZXRDdXN0b21Mb2dnZXIgPSBmdW5jdGlvbiBzZXRDdXN0b21Mb2dnZXIobG9nZ2VyKSB7XFxuICBjdXN0b21Mb2dnZXIgPSBsb2dnZXI7XFxufTtcXG5cXG52YXIgbG9nID0gZnVuY3Rpb24gbG9nKHR5cGUsIG1lc3NhZ2UpIHtcXG4gIGN1c3RvbUxvZ2dlcih7XFxuICAgIHR5cGU6IHR5cGUsXFxuICAgIG1lc3NhZ2U6IG1lc3NhZ2VcXG4gIH0pO1xcblxcbiAgaWYgKGxvZ2dpbmcpIHtcXG4gICAgY29uc29sZS5sb2coXCJbXCIuY29uY2F0KHR5cGUsIFwiXSBcIikuY29uY2F0KG1lc3NhZ2UpKTtcXG4gIH1cXG59O1xcblxcbm1vZHVsZS5leHBvcnRzID0ge1xcbiAgbG9nZ2luZzogbG9nZ2luZyxcXG4gIHNldExvZ2dpbmc6IHNldExvZ2dpbmcsXFxuICBzZXRDdXN0b21Mb2dnZXI6IHNldEN1c3RvbUxvZ2dlcixcXG4gIGxvZzogbG9nXFxufTtcXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9GRm1wZWcvLi9zcmMvdXRpbHMvbG9nLmpzPycpfSwzMTk6bW9kdWxlPT57ZXZhbChcIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvcmUsIGFyZ3MpIHtcXG4gIHZhciBhcmdzUHRyID0gQ29yZS5fbWFsbG9jKGFyZ3MubGVuZ3RoICogVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xcblxcbiAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChzLCBpZHgpIHtcXG4gICAgdmFyIHN6ID0gQ29yZS5sZW5ndGhCeXRlc1VURjgocykgKyAxO1xcblxcbiAgICB2YXIgYnVmID0gQ29yZS5fbWFsbG9jKHN6KTtcXG5cXG4gICAgQ29yZS5zdHJpbmdUb1VURjgocywgYnVmLCBzeik7XFxuICAgIENvcmUuc2V0VmFsdWUoYXJnc1B0ciArIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogaWR4LCBidWYsICdpMzInKTtcXG4gIH0pO1xcbiAgcmV0dXJuIFthcmdzLmxlbmd0aCwgYXJnc1B0cl07XFxufTtcXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9GRm1wZWcvLi9zcmMvdXRpbHMvcGFyc2VBcmdzLmpzP1wiKX0sNjY2Om1vZHVsZT0+e2V2YWwoJy8qKlxcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxcbiAqL1xcblxcbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XFxuICBcInVzZSBzdHJpY3RcIjtcXG5cXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XFxuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XFxuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XFxuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcXG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XFxuXFxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XFxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xcbiAgICAgIHZhbHVlOiB2YWx1ZSxcXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcXG4gICAgICB3cml0YWJsZTogdHJ1ZVxcbiAgICB9KTtcXG4gICAgcmV0dXJuIG9ialtrZXldO1xcbiAgfVxcbiAgdHJ5IHtcXG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcXG4gIH0gY2F0Y2ggKGVycikge1xcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcXG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcXG4gICAgfTtcXG4gIH1cXG5cXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcXG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXFxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcXG5cXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXFxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcXG5cXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcXG4gIH1cXG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XFxuXFxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXFxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXFxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmVcXCdzIG5vIG5lZWRcXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXFxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb25cXCd0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxcbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XFxuICAgIHRyeSB7XFxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xcbiAgICB9IGNhdGNoIChlcnIpIHtcXG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XFxuICAgIH1cXG4gIH1cXG5cXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XFxuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcXG5cXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XFxuXFxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXFxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxcbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxcbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxcblxcbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxcbiAgLy8gZG9uXFwndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxcbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XFxuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XFxuICAgIHJldHVybiB0aGlzO1xcbiAgfTtcXG5cXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcXG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcXG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcXG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xcbiAgfVxcblxcbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cXG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcXG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XFxuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcXG4gICk7XFxuXFxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcXG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XFxuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xcbiAgICAgIH0pO1xcbiAgICB9KTtcXG4gIH1cXG5cXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XFxuICAgIHJldHVybiBjdG9yXFxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxcbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxcbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXFxuICAgICAgOiBmYWxzZTtcXG4gIH07XFxuXFxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcXG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XFxuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XFxuICAgIH1cXG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xcbiAgICByZXR1cm4gZ2VuRnVuO1xcbiAgfTtcXG5cXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xcbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcXG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXFxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XFxuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xcbiAgfTtcXG5cXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XFxuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xcbiAgICAgICAgaWYgKHZhbHVlICYmXFxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXFxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XFxuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcXG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XFxuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXFxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcXG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxcbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuICAgIH1cXG5cXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcXG5cXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcXG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xcbiAgICAgICAgfSk7XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxcbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXFxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xcbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xcbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XFxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcXG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XFxuICAgIH1cXG5cXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXFxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XFxuICB9XFxuXFxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XFxuICAgIHJldHVybiB0aGlzO1xcbiAgfTtcXG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XFxuXFxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXFxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxcbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xcblxcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxcbiAgICAgIFByb21pc2VJbXBsXFxuICAgICk7XFxuXFxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxcbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XFxuICAgICAgICB9KTtcXG4gIH07XFxuXFxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcXG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcXG5cXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XFxuICAgICAgfVxcblxcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcXG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xcbiAgICAgICAgICB0aHJvdyBhcmc7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcXG4gICAgICB9XFxuXFxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XFxuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XFxuXFxuICAgICAgd2hpbGUgKHRydWUpIHtcXG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XFxuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcXG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XFxuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XFxuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XFxuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWxcXCdzXFxuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXFxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcXG5cXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcXG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xcblxcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xcblxcbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XFxuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cXG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxcbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XFxuXFxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcXG4gICAgICAgICAgfTtcXG5cXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXFxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXFxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9O1xcbiAgfVxcblxcbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXFxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXFxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxcbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcXG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcXG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xcblxcbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XFxuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxcbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XFxuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxcbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XFxuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcXG5cXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcXG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxcbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxcbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcXG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhIFxcJ3Rocm93XFwnIG1ldGhvZFwiKTtcXG4gICAgICB9XFxuXFxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XFxuICAgIH1cXG5cXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcXG5cXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcXG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XFxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XFxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XFxuICAgIH1cXG5cXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xcblxcbiAgICBpZiAoISBpbmZvKSB7XFxuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XFxuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XFxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XFxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XFxuICAgIH1cXG5cXG4gICAgaWYgKGluZm8uZG9uZSkge1xcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XFxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcXG5cXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXFxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcXG5cXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXFxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XFxuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcXG4gICAgICB9XFxuXFxuICAgIH0gZWxzZSB7XFxuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxcbiAgICAgIHJldHVybiBpbmZvO1xcbiAgICB9XFxuXFxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXFxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcXG4gIH1cXG5cXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXFxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXFxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xcblxcbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XFxuXFxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnNcXCcgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuXFwndCBoYXBwZW4uXFxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xcbiAgICByZXR1cm4gdGhpcztcXG4gIH07XFxuXFxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcXG4gIH07XFxuXFxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xcblxcbiAgICBpZiAoMSBpbiBsb2NzKSB7XFxuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xcbiAgICB9XFxuXFxuICAgIGlmICgyIGluIGxvY3MpIHtcXG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcXG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XFxuICAgIH1cXG5cXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcXG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcXG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcXG4gIH1cXG5cXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcXG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxcbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XFxuICAgIHRoaXMucmVzZXQodHJ1ZSk7XFxuICB9XFxuXFxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcXG4gICAgdmFyIGtleXMgPSBbXTtcXG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xcbiAgICAgIGtleXMucHVzaChrZXkpO1xcbiAgICB9XFxuICAgIGtleXMucmV2ZXJzZSgpO1xcblxcbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcXG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcXG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcXG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XFxuICAgICAgICAgIHJldHVybiBuZXh0O1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG5cXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxcbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XFxuICAgICAgcmV0dXJuIG5leHQ7XFxuICAgIH07XFxuICB9O1xcblxcbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XFxuICAgIGlmIChpdGVyYWJsZSkge1xcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcXG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcXG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcXG4gICAgICB9XFxuXFxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcXG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcXG4gICAgICB9XFxuXFxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XFxuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcXG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcXG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcXG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XFxuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XFxuXFxuICAgICAgICAgIHJldHVybiBuZXh0O1xcbiAgICAgICAgfTtcXG5cXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xcbiAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXFxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcXG4gIH1cXG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xcblxcbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcXG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xcbiAgfVxcblxcbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XFxuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxcblxcbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xcbiAgICAgIHRoaXMucHJldiA9IDA7XFxuICAgICAgdGhpcy5uZXh0ID0gMDtcXG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWxcXCdzXFxuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xcblxcbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XFxuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XFxuXFxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XFxuXFxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XFxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcXG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcXG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcXG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9LFxcblxcbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcXG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xcblxcbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XFxuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcXG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcXG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xcbiAgICAgIH1cXG5cXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xcbiAgICB9LFxcblxcbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XFxuICAgICAgaWYgKHRoaXMuZG9uZSkge1xcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xcbiAgICAgIH1cXG5cXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XFxuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XFxuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcXG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XFxuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XFxuXFxuICAgICAgICBpZiAoY2F1Z2h0KSB7XFxuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXFxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XFxuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcXG4gICAgICB9XFxuXFxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XFxuXFxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XFxuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XFxuXFxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XFxuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcXG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XFxuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfSxcXG5cXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XFxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XFxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XFxuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcXG4gICAgICAgICAgYnJlYWs7XFxuICAgICAgICB9XFxuICAgICAgfVxcblxcbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcXG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XFxuICAgICAgfVxcblxcbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcXG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xcblxcbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcXG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XFxuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcXG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xcbiAgICAgIH1cXG5cXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xcbiAgICB9LFxcblxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XFxuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xcbiAgICAgIH1cXG5cXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XFxuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcXG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcXG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcXG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XFxuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xcbiAgICB9LFxcblxcbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XFxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XFxuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcXG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XFxuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfSxcXG5cXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XFxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XFxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcXG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XFxuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XFxuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XFxuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuXFxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXFxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcXG4gICAgfSxcXG5cXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcXG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xcbiAgICAgIH07XFxuXFxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uXFwndFxcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxcbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xcbiAgICB9XFxuICB9O1xcblxcbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXFxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXFxuICByZXR1cm4gZXhwb3J0cztcXG5cXG59KFxcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XFxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXFxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxcbiAgIHRydWUgPyBtb2R1bGUuZXhwb3J0cyA6IDBcXG4pKTtcXG5cXG50cnkge1xcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcXG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXFxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcXG4gIC8vIHlvdVxcJ3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3VcXCdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXFxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XFxufVxcblxcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0ZGbXBlZy8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanM/Jyl9LDMwNjptb2R1bGU9PntcInVzZSBzdHJpY3RcIjtldmFsKCdtb2R1bGUuZXhwb3J0cyA9IEpTT04ucGFyc2UoXCJ7XFxcXFwibmFtZVxcXFxcIjpcXFxcXCJAZmZtcGVnL2ZmbXBlZ1xcXFxcIixcXFxcXCJ2ZXJzaW9uXFxcXFwiOlxcXFxcIjAuMTEuNlxcXFxcIixcXFxcXCJkZXNjcmlwdGlvblxcXFxcIjpcXFxcXCJGRm1wZWcgV2ViQXNzZW1ibHkgdmVyc2lvblxcXFxcIixcXFxcXCJtYWluXFxcXFwiOlxcXFxcInNyYy9pbmRleC5qc1xcXFxcIixcXFxcXCJ0eXBlc1xcXFxcIjpcXFxcXCJzcmMvaW5kZXguZC50c1xcXFxcIixcXFxcXCJkaXJlY3Rvcmllc1xcXFxcIjp7XFxcXFwiZXhhbXBsZVxcXFxcIjpcXFxcXCJleGFtcGxlc1xcXFxcIn0sXFxcXFwic2NyaXB0c1xcXFxcIjp7XFxcXFwic3RhcnRcXFxcXCI6XFxcXFwibm9kZSBzY3JpcHRzL3NlcnZlci5qc1xcXFxcIixcXFxcXCJzdGFydDp3b3JrZXJcXFxcXCI6XFxcXFwibm9kZSBzY3JpcHRzL3dvcmtlci1zZXJ2ZXIuanNcXFxcXCIsXFxcXFwiYnVpbGRcXFxcXCI6XFxcXFwicmltcmFmIGRpc3QgJiYgd2VicGFjayAtLWNvbmZpZyBzY3JpcHRzL3dlYnBhY2suY29uZmlnLnByb2QuanNcXFxcXCIsXFxcXFwiYnVpbGQ6d29ya2VyXFxcXFwiOlxcXFxcInJpbXJhZiBkaXN0ICYmIHdlYnBhY2sgLS1jb25maWcgc2NyaXB0cy93ZWJwYWNrLmNvbmZpZy53b3JrZXIucHJvZC5qc1xcXFxcIixcXFxcXCJwcmVwdWJsaXNoT25seVxcXFxcIjpcXFxcXCJucG0gcnVuIGJ1aWxkXFxcXFwiLFxcXFxcImxpbnRcXFxcXCI6XFxcXFwiZXNsaW50IHNyY1xcXFxcIixcXFxcXCJ3YWl0XFxcXFwiOlxcXFxcInJpbXJhZiBkaXN0ICYmIHdhaXQtb24gaHR0cDovL2xvY2FsaG9zdDozMDAwL2Rpc3QvZmZtcGVnLmRldi5qc1xcXFxcIixcXFxcXCJ0ZXN0XFxcXFwiOlxcXFxcIm5wbS1ydW4tYWxsIC1wIC1yIHN0YXJ0IHRlc3Q6YWxsXFxcXFwiLFxcXFxcInRlc3Q6YWxsXFxcXFwiOlxcXFxcIm5wbS1ydW4tYWxsIHdhaXQgdGVzdDpicm93c2VyOmZmbXBlZyB0ZXN0Om5vZGU6YWxsXFxcXFwiLFxcXFxcInRlc3Q6bm9kZVxcXFxcIjpcXFxcXCJub2RlIG5vZGVfbW9kdWxlcy9tb2NoYS9iaW4vX21vY2hhIC0tZXhpdCAtLWJhaWwgLS1yZXF1aXJlIC4vc2NyaXB0cy90ZXN0LWhlbHBlci5qc1xcXFxcIixcXFxcXCJ0ZXN0Om5vZGU6YWxsXFxcXFwiOlxcXFxcIm5wbSBydW4gdGVzdDpub2RlIC0tIC4vdGVzdHMvKi50ZXN0LmpzXFxcXFwiLFxcXFxcInRlc3Q6YnJvd3NlclxcXFxcIjpcXFxcXCJtb2NoYS1oZWFkbGVzcy1jaHJvbWUgLWEgYWxsb3ctZmlsZS1hY2Nlc3MtZnJvbS1maWxlcyAtYSBpbmNvZ25pdG8gLWEgbm8tc2FuZGJveCAtYSBkaXNhYmxlLXNldHVpZC1zYW5kYm94IC1hIGRpc2FibGUtbG9nZ2luZyAtdCAzMDAwMDBcXFxcXCIsXFxcXFwidGVzdDpicm93c2VyOmZmbXBlZ1xcXFxcIjpcXFxcXCJucG0gcnVuIHRlc3Q6YnJvd3NlciAtLSAtZiAuL3Rlc3RzL2ZmbXBlZy50ZXN0Lmh0bWxcXFxcXCJ9LFxcXFxcImJyb3dzZXJcXFxcXCI6e1xcXFxcIi4vc3JjL25vZGUvaW5kZXguanNcXFxcXCI6XFxcXFwiLi9zcmMvYnJvd3Nlci9pbmRleC5qc1xcXFxcIn0sXFxcXFwicmVwb3NpdG9yeVxcXFxcIjp7XFxcXFwidHlwZVxcXFxcIjpcXFxcXCJnaXRcXFxcXCIsXFxcXFwidXJsXFxcXFwiOlxcXFxcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZmZtcGVnd2FzbS9mZm1wZWcud2FzbS5naXRcXFxcXCJ9LFxcXFxcImtleXdvcmRzXFxcXFwiOltcXFxcXCJmZm1wZWdcXFxcXCIsXFxcXFwiV2ViQXNzZW1ibHlcXFxcXCIsXFxcXFwidmlkZW9cXFxcXCJdLFxcXFxcImF1dGhvclxcXFxcIjpcXFxcXCJKZXJvbWUgV3UgPGplcm9tZXd1c0BnbWFpbC5jb20+XFxcXFwiLFxcXFxcImxpY2Vuc2VcXFxcXCI6XFxcXFwiTUlUXFxcXFwiLFxcXFxcImJ1Z3NcXFxcXCI6e1xcXFxcInVybFxcXFxcIjpcXFxcXCJodHRwczovL2dpdGh1Yi5jb20vZmZtcGVnd2FzbS9mZm1wZWcud2FzbS9pc3N1ZXNcXFxcXCJ9LFxcXFxcImVuZ2luZXNcXFxcXCI6e1xcXFxcIm5vZGVcXFxcXCI6XFxcXFwiPj0xMi4xNi4xXFxcXFwifSxcXFxcXCJob21lcGFnZVxcXFxcIjpcXFxcXCJodHRwczovL2dpdGh1Yi5jb20vZmZtcGVnd2FzbS9mZm1wZWcud2FzbSNyZWFkbWVcXFxcXCIsXFxcXFwiZGVwZW5kZW5jaWVzXFxcXFwiOntcXFxcXCJpcy11cmxcXFxcXCI6XFxcXFwiXjEuMi40XFxcXFwiLFxcXFxcIm5vZGUtZmV0Y2hcXFxcXCI6XFxcXFwiXjIuNi4xXFxcXFwiLFxcXFxcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcXFxcXCI6XFxcXFwiXjAuMTMuN1xcXFxcIixcXFxcXCJyZXNvbHZlLXVybFxcXFxcIjpcXFxcXCJeMC4yLjFcXFxcXCJ9LFxcXFxcImRldkRlcGVuZGVuY2llc1xcXFxcIjp7XFxcXFwiQGJhYmVsL2NvcmVcXFxcXCI6XFxcXFwiXjcuMTIuM1xcXFxcIixcXFxcXCJAYmFiZWwvcHJlc2V0LWVudlxcXFxcIjpcXFxcXCJeNy4xMi4xXFxcXFwiLFxcXFxcIkBmZm1wZWcvY29yZVxcXFxcIjpcXFxcXCJeMC4xMS4wXFxcXFwiLFxcXFxcIkB0eXBlcy9lbXNjcmlwdGVuXFxcXFwiOlxcXFxcIl4xLjM5LjRcXFxcXCIsXFxcXFwiYmFiZWwtZXNsaW50XFxcXFwiOlxcXFxcIl4xMC4xLjBcXFxcXCIsXFxcXFwiYmFiZWwtbG9hZGVyXFxcXFwiOlxcXFxcIl44LjEuMFxcXFxcIixcXFxcXCJjaGFpXFxcXFwiOlxcXFxcIl40LjIuMFxcXFxcIixcXFxcXCJjb3JzXFxcXFwiOlxcXFxcIl4yLjguNVxcXFxcIixcXFxcXCJlc2xpbnRcXFxcXCI6XFxcXFwiXjcuMTIuMVxcXFxcIixcXFxcXCJlc2xpbnQtY29uZmlnLWFpcmJuYi1iYXNlXFxcXFwiOlxcXFxcIl4xNC4xLjBcXFxcXCIsXFxcXFwiZXNsaW50LXBsdWdpbi1pbXBvcnRcXFxcXCI6XFxcXFwiXjIuMjIuMVxcXFxcIixcXFxcXCJleHByZXNzXFxcXFwiOlxcXFxcIl40LjE3LjFcXFxcXCIsXFxcXFwibW9jaGFcXFxcXCI6XFxcXFwiXjEwLjEuMFxcXFxcIixcXFxcXCJtb2NoYS1oZWFkbGVzcy1jaHJvbWVcXFxcXCI6XFxcXFwiXjIuMC4zXFxcXFwiLFxcXFxcIm5wbS1ydW4tYWxsXFxcXFwiOlxcXFxcIl40LjEuNVxcXFxcIixcXFxcXCJ3YWl0LW9uXFxcXFwiOlxcXFxcIl41LjMuMFxcXFxcIixcXFxcXCJ3ZWJwYWNrXFxcXFwiOlxcXFxcIl41LjMuMlxcXFxcIixcXFxcXCJ3ZWJwYWNrLWNsaVxcXFxcIjpcXFxcXCJeNC4xLjBcXFxcXCIsXFxcXFwid2VicGFjay1kZXYtbWlkZGxld2FyZVxcXFxcIjpcXFxcXCJeNC4wLjBcXFxcXCJ9fVwiKTtcXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9GRm1wZWcvLi9wYWNrYWdlLmpzb24/Jyl9fSxfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX189e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhlKXtpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bZV0pcmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1tlXS5leHBvcnRzO3ZhciBuPV9fd2VicGFja19tb2R1bGVfY2FjaGVfX1tlXT17ZXhwb3J0czp7fX07cmV0dXJuIF9fd2VicGFja19tb2R1bGVzX19bZV0obixuLmV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyksbi5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09X193ZWJwYWNrX21vZHVsZXNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9KGUsbik9Pntmb3IodmFyIHQgaW4gbilfX3dlYnBhY2tfcmVxdWlyZV9fLm8obix0KSYmIV9fd2VicGFja19yZXF1aXJlX18ubyhlLHQpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpuW3RdfSl9LF9fd2VicGFja19yZXF1aXJlX18ubz0oZSxuKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbiksX193ZWJwYWNrX3JlcXVpcmVfXy5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fLmI9ZG9jdW1lbnQuYmFzZVVSSXx8c2VsZi5sb2NhdGlvbi5ocmVmLF9fd2VicGFja19yZXF1aXJlX18oMzUyKX0pKCl9KSk7XHJcbiAgPC9zY3JpcHQ+XHJcblxyXG4gIFxyXG48c2NyaXB0Pi8qKlxyXG4gICAgKiBTa2lwcGVkIG1pbmlmaWNhdGlvbiBiZWNhdXNlIHRoZSBvcmlnaW5hbCBmaWxlcyBhcHBlYXJzIHRvIGJlIGFscmVhZHkgbWluaWZpZWQuXHJcbiAgICAqIE9yaWdpbmFsIGZpbGU6IC9ucG0vQGZmbXBlZy9jb3JlQDAuMTEuMC9kaXN0L2ZmbXBlZy1jb3JlLmpzXHJcbiAgICAqXHJcbiAgICAqIERvIE5PVCB1c2UgU1JJIHdpdGggZHluYW1pY2FsbHkgZ2VuZXJhdGVkIGZpbGVzISBNb3JlIGluZm9ybWF0aW9uOiBodHRwczovL3d3dy5qc2RlbGl2ci5jb20vdXNpbmctc3JpLXdpdGgtZHluYW1pYy1maWxlc1xyXG4gICAgKi9cclxuICAgXHJcbiAgICB2YXIgY3JlYXRlRkZtcGVnQ29yZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciBfc2NyaXB0RGlyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMgOiB1bmRlZmluZWQ7XHJcbiAgICAgICBpZiAodHlwZW9mIF9fZmlsZW5hbWUgIT09ICd1bmRlZmluZWQnKSBfc2NyaXB0RGlyID0gX3NjcmlwdERpciB8fCBfX2ZpbGVuYW1lO1xyXG4gICAgICAgcmV0dXJuIChcclxuICAgICBmdW5jdGlvbihjcmVhdGVGRm1wZWdDb3JlKSB7XHJcbiAgICAgICBjcmVhdGVGRm1wZWdDb3JlID0gY3JlYXRlRkZtcGVnQ29yZSB8fCB7fTtcclxuICAgICBcclxuICAgICBcclxuICAgICB2YXIgZjtmfHwoZj10eXBlb2YgY3JlYXRlRkZtcGVnQ29yZSAhPT0gJ3VuZGVmaW5lZCcgPyBjcmVhdGVGRm1wZWdDb3JlIDoge30pO3ZhciBhYSxiYTtmLnJlYWR5PW5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsYil7YWE9YTtiYT1ifSk7Zi5xdWl0PWZ1bmN0aW9uKGEpe2lmKGYub25FeGl0KWYub25FeGl0KGEpO3Rocm93IG5ldyBjYShhKTt9O2YuZXhpdD1kYTtlYT1oPWZ1bmN0aW9uKCl7fTt2YXIgZmE9e30saWE7Zm9yKGlhIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShpYSkmJihmYVtpYV09ZltpYV0pO3ZhciBqYT1bXSxrYT1cIi4vdGhpcy5wcm9ncmFtXCI7ZnVuY3Rpb24gbGEoYSxiKXt0aHJvdyBiO312YXIgbWE9ITEsb2E9ITEsbD0hMSxwYT0hMTttYT1cIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdztvYT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgaW1wb3J0U2NyaXB0cztcclxuICAgICBsPVwib2JqZWN0XCI9PT10eXBlb2YgcHJvY2VzcyYmXCJvYmplY3RcIj09PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiZcInN0cmluZ1wiPT09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZTtwYT0hbWEmJiFsJiYhb2E7dmFyIG49Zi5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMTtuJiYocWE9Zi5idWZmZXIpO3ZhciByYT1cIlwiO2Z1bmN0aW9uIHNhKGEpe3JldHVybiBmLmxvY2F0ZUZpbGU/Zi5sb2NhdGVGaWxlKGEscmEpOnJhK2F9dmFyIHRhLHZhLHdhLHhhO1xyXG4gICAgIGlmKGwpe3JhPW9hP3JlcXVpcmUoXCJwYXRoXCIpLmRpcm5hbWUocmEpK1wiL1wiOl9fZGlybmFtZStcIi9cIjt0YT1mdW5jdGlvbihhLGIpe3dhfHwod2E9cmVxdWlyZShcImZzXCIpKTt4YXx8KHhhPXJlcXVpcmUoXCJwYXRoXCIpKTthPXhhLm5vcm1hbGl6ZShhKTtyZXR1cm4gd2EucmVhZEZpbGVTeW5jKGEsYj9udWxsOlwidXRmOFwiKX07dmE9ZnVuY3Rpb24oYSl7YT10YShhLCEwKTthLmJ1ZmZlcnx8KGE9bmV3IFVpbnQ4QXJyYXkoYSkpO2Fzc2VydChhLmJ1ZmZlcik7cmV0dXJuIGF9OzE8cHJvY2Vzcy5hcmd2Lmxlbmd0aCYmKGthPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpKTtqYT1wcm9jZXNzLmFyZ3Yuc2xpY2UoMik7cHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uXCIsZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgY2EpKXRocm93IGE7fSk7cHJvY2Vzcy5vbihcInVuaGFuZGxlZFJlamVjdGlvblwiLHUpO2xhPWZ1bmN0aW9uKGEpe3Byb2Nlc3MuZXhpdChhKX07Zi5pbnNwZWN0PVxyXG4gICAgIGZ1bmN0aW9uKCl7cmV0dXJuXCJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XVwifTt2YXIgeWE7dHJ5e3lhPXJlcXVpcmUoXCJ3b3JrZXJfdGhyZWFkc1wiKX1jYXRjaChhKXt0aHJvdyBjb25zb2xlLmVycm9yKCdUaGUgXCJ3b3JrZXJfdGhyZWFkc1wiIG1vZHVsZSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgbm9kZS5qcyBidWlsZCAtIHBlcmhhcHMgYSBuZXdlciB2ZXJzaW9uIGlzIG5lZWRlZD8nKSxhO31nbG9iYWwuV29ya2VyPXlhLldvcmtlcn1lbHNlIGlmKHBhKVwidW5kZWZpbmVkXCIhPXR5cGVvZiByZWFkJiYodGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHJlYWQoYSl9KSx2YT1mdW5jdGlvbihhKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgcmVhZGJ1ZmZlcilyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVhZGJ1ZmZlcihhKSk7YT1yZWFkKGEsXCJiaW5hcnlcIik7YXNzZXJ0KFwib2JqZWN0XCI9PT10eXBlb2YgYSk7cmV0dXJuIGF9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzY3JpcHRBcmdzP2phPXNjcmlwdEFyZ3M6XHJcbiAgICAgXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFyZ3VtZW50cyYmKGphPWFyZ3VtZW50cyksXCJmdW5jdGlvblwiPT09dHlwZW9mIHF1aXQmJihsYT1mdW5jdGlvbihhKXtxdWl0KGEpfSksXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBwcmludCYmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgY29uc29sZSYmKGNvbnNvbGU9e30pLGNvbnNvbGUubG9nPXByaW50LGNvbnNvbGUud2Fybj1jb25zb2xlLmVycm9yPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgcHJpbnRFcnI/cHJpbnRFcnI6cHJpbnQpO2Vsc2UgaWYobWF8fG9hKW9hP3JhPXNlbGYubG9jYXRpb24uaHJlZjpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYocmE9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLF9zY3JpcHREaXImJihyYT1fc2NyaXB0RGlyKSwwIT09cmEuaW5kZXhPZihcImJsb2I6XCIpP3JhPXJhLnN1YnN0cigwLHJhLmxhc3RJbmRleE9mKFwiL1wiKSsxKTpyYT1cIlwiLGw/KHRhPWZ1bmN0aW9uKGEsXHJcbiAgICAgYil7d2F8fCh3YT1yZXF1aXJlKFwiZnNcIikpO3hhfHwoeGE9cmVxdWlyZShcInBhdGhcIikpO2E9eGEubm9ybWFsaXplKGEpO3JldHVybiB3YS5yZWFkRmlsZVN5bmMoYSxiP251bGw6XCJ1dGY4XCIpfSx2YT1mdW5jdGlvbihhKXthPXRhKGEsITApO2EuYnVmZmVyfHwoYT1uZXcgVWludDhBcnJheShhKSk7YXNzZXJ0KGEuYnVmZmVyKTtyZXR1cm4gYX0pOih0YT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7Yi5vcGVuKFwiR0VUXCIsYSwhMSk7Yi5zZW5kKG51bGwpO3JldHVybiBiLnJlc3BvbnNlVGV4dH0sb2EmJih2YT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7Yi5vcGVuKFwiR0VUXCIsYSwhMSk7Yi5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2Iuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYi5yZXNwb25zZSl9KSk7bCYmXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBwZXJmb3JtYW5jZSYmKGdsb2JhbC5wZXJmb3JtYW5jZT1yZXF1aXJlKFwicGVyZl9ob29rc1wiKS5wZXJmb3JtYW5jZSk7XHJcbiAgICAgdmFyIGVhPWYucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksaD1mLnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtmb3IoaWEgaW4gZmEpZmEuaGFzT3duUHJvcGVydHkoaWEpJiYoZltpYV09ZmFbaWFdKTtmYT1udWxsO2YuYXJndW1lbnRzJiYoamE9Zi5hcmd1bWVudHMpO2YudGhpc1Byb2dyYW0mJihrYT1mLnRoaXNQcm9ncmFtKTtmLnF1aXQmJihsYT1mLnF1aXQpO3ZhciB6YSxBYT0wLEJhO2Yud2FzbUJpbmFyeSYmKEJhPWYud2FzbUJpbmFyeSk7dmFyIG5vRXhpdFJ1bnRpbWU7Zi5ub0V4aXRSdW50aW1lJiYobm9FeGl0UnVudGltZT1mLm5vRXhpdFJ1bnRpbWUpO1wib2JqZWN0XCIhPT10eXBlb2YgV2ViQXNzZW1ibHkmJnUoXCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkXCIpO3ZhciBDYSxEYSx0aHJlYWRJbmZvU3RydWN0PTAsc2VsZlRocmVhZElkPTAsRWE9ITE7XHJcbiAgICAgZnVuY3Rpb24gYXNzZXJ0KGEsYil7YXx8dShcIkFzc2VydGlvbiBmYWlsZWQ6IFwiK2IpfWZ1bmN0aW9uIEZhKGEpe3ZhciBiPWZbXCJfXCIrYV07YXNzZXJ0KGIsXCJDYW5ub3QgY2FsbCB1bmtub3duIGZ1bmN0aW9uIFwiK2ErXCIsIG1ha2Ugc3VyZSBpdCBpcyBleHBvcnRlZFwiKTtyZXR1cm4gYn1cclxuICAgICBmdW5jdGlvbiBHYShhLGIsYyxkKXt2YXIgZT17c3RyaW5nOmZ1bmN0aW9uKHEpe3ZhciB0PTA7aWYobnVsbCE9PXEmJnZvaWQgMCE9PXEmJjAhPT1xKXt2YXIgdz0ocS5sZW5ndGg8PDIpKzE7dD1IYSh3KTtJYShxLHQsdyl9cmV0dXJuIHR9LGFycmF5OmZ1bmN0aW9uKHEpe3ZhciB0PUhhKHEubGVuZ3RoKTt2LnNldChxLHQpO3JldHVybiB0fX0sZz1GYShhKSxrPVtdO2E9MDtpZihkKWZvcih2YXIgbT0wO208ZC5sZW5ndGg7bSsrKXt2YXIgcj1lW2NbbV1dO3I/KDA9PT1hJiYoYT15KCkpLGtbbV09cihkW21dKSk6a1ttXT1kW21dfWM9Zy5hcHBseShudWxsLGspO2M9XCJzdHJpbmdcIj09PWI/QShjKTpcImJvb2xlYW5cIj09PWI/ISFjOmM7MCE9PWEmJkMoYSk7cmV0dXJuIGN9XHJcbiAgICAgZnVuY3Rpb24gSmEoYSxiLGMpe2M9YitjO2Zvcih2YXIgZD1cIlwiOyEoYj49Yyk7KXt2YXIgZT1hW2IrK107aWYoIWUpYnJlYWs7aWYoZSYxMjgpe3ZhciBnPWFbYisrXSY2MztpZigxOTI9PShlJjIyNCkpZCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoZSYzMSk8PDZ8Zyk7ZWxzZXt2YXIgaz1hW2IrK10mNjM7ZT0yMjQ9PShlJjI0MCk/KGUmMTUpPDwxMnxnPDw2fGs6KGUmNyk8PDE4fGc8PDEyfGs8PDZ8YVtiKytdJjYzOzY1NTM2PmU/ZCs9U3RyaW5nLmZyb21DaGFyQ29kZShlKTooZS09NjU1MzYsZCs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxlPj4xMCw1NjMyMHxlJjEwMjMpKX19ZWxzZSBkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpfXJldHVybiBkfWZ1bmN0aW9uIEEoYSxiKXtyZXR1cm4gYT9KYShLYSxhLGIpOlwiXCJ9XHJcbiAgICAgZnVuY3Rpb24gTGEoYSxiLGMsZCl7aWYoISgwPGQpKXJldHVybiAwO3ZhciBlPWM7ZD1jK2QtMTtmb3IodmFyIGc9MDtnPGEubGVuZ3RoOysrZyl7dmFyIGs9YS5jaGFyQ29kZUF0KGcpO2lmKDU1Mjk2PD1rJiY1NzM0Mz49ayl7dmFyIG09YS5jaGFyQ29kZUF0KCsrZyk7az02NTUzNisoKGsmMTAyMyk8PDEwKXxtJjEwMjN9aWYoMTI3Pj1rKXtpZihjPj1kKWJyZWFrO2JbYysrXT1rfWVsc2V7aWYoMjA0Nz49ayl7aWYoYysxPj1kKWJyZWFrO2JbYysrXT0xOTJ8az4+Nn1lbHNle2lmKDY1NTM1Pj1rKXtpZihjKzI+PWQpYnJlYWs7YltjKytdPTIyNHxrPj4xMn1lbHNle2lmKGMrMz49ZClicmVhaztiW2MrK109MjQwfGs+PjE4O2JbYysrXT0xMjh8az4+MTImNjN9YltjKytdPTEyOHxrPj42JjYzfWJbYysrXT0xMjh8ayY2M319YltjXT0wO3JldHVybiBjLWV9ZnVuY3Rpb24gSWEoYSxiLGMpe3JldHVybiBMYShhLEthLGIsYyl9XHJcbiAgICAgZnVuY3Rpb24gTWEoYSl7Zm9yKHZhciBiPTAsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7NTUyOTY8PWQmJjU3MzQzPj1kJiYoZD02NTUzNisoKGQmMTAyMyk8PDEwKXxhLmNoYXJDb2RlQXQoKytjKSYxMDIzKTsxMjc+PWQ/KytiOmI9MjA0Nz49ZD9iKzI6NjU1MzU+PWQ/YiszOmIrNH1yZXR1cm4gYn1mdW5jdGlvbiBOYShhKXt2YXIgYj1NYShhKSsxLGM9T2EoYik7YyYmTGEoYSx2LGMsYik7cmV0dXJuIGN9ZnVuY3Rpb24gUGEoYSl7dmFyIGI9TWEoYSkrMSxjPUhhKGIpO0xhKGEsdixjLGIpO3JldHVybiBjfWZ1bmN0aW9uIFJhKGEsYixjKXtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoOysrZCl2W2IrKz4+MF09YS5jaGFyQ29kZUF0KGQpO2N8fCh2W2I+PjBdPTApfXZhciBxYSx2LEthLFNhLFRhLEQsRSxGLFVhLFZhPWYuSU5JVElBTF9NRU1PUll8fDEwNzM3NDE4MjQ7XHJcbiAgICAgaWYobilDYT1mLndhc21NZW1vcnkscWE9Zi5idWZmZXI7ZWxzZSBpZihmLndhc21NZW1vcnkpQ2E9Zi53YXNtTWVtb3J5O2Vsc2UgaWYoQ2E9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDpWYS82NTUzNixtYXhpbXVtOlZhLzY1NTM2LHNoYXJlZDohMH0pLCEoQ2EuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IGgoXCJyZXF1ZXN0ZWQgYSBzaGFyZWQgV2ViQXNzZW1ibHkuTWVtb3J5IGJ1dCB0aGUgcmV0dXJuZWQgYnVmZmVyIGlzIG5vdCBhIFNoYXJlZEFycmF5QnVmZmVyLCBpbmRpY2F0aW5nIHRoYXQgd2hpbGUgdGhlIGJyb3dzZXIgaGFzIFNoYXJlZEFycmF5QnVmZmVyIGl0IGRvZXMgbm90IGhhdmUgV2ViQXNzZW1ibHkgdGhyZWFkcyBzdXBwb3J0IC0geW91IG1heSBuZWVkIHRvIHNldCBhIGZsYWdcIiksbCYmY29uc29sZS5sb2coXCIob24gbm9kZSB5b3UgbWF5IG5lZWQ6IC0tZXhwZXJpbWVudGFsLXdhc20tdGhyZWFkcyAtLWV4cGVyaW1lbnRhbC13YXNtLWJ1bGstbWVtb3J5IGFuZCBhbHNvIHVzZSBhIHJlY2VudCB2ZXJzaW9uKVwiKSxcclxuICAgICBFcnJvcihcImJhZCBtZW1vcnlcIik7Q2EmJihxYT1DYS5idWZmZXIpO1ZhPXFhLmJ5dGVMZW5ndGg7dmFyIFdhPXFhO3FhPVdhO2YuSEVBUDg9dj1uZXcgSW50OEFycmF5KFdhKTtmLkhFQVAxNj1TYT1uZXcgSW50MTZBcnJheShXYSk7Zi5IRUFQMzI9RD1uZXcgSW50MzJBcnJheShXYSk7Zi5IRUFQVTg9S2E9bmV3IFVpbnQ4QXJyYXkoV2EpO2YuSEVBUFUxNj1UYT1uZXcgVWludDE2QXJyYXkoV2EpO2YuSEVBUFUzMj1FPW5ldyBVaW50MzJBcnJheShXYSk7Zi5IRUFQRjMyPUY9bmV3IEZsb2F0MzJBcnJheShXYSk7Zi5IRUFQRjY0PVVhPW5ldyBGbG9hdDY0QXJyYXkoV2EpO3ZhciBHLFhhPVtdLFlhPVtdLFphPVtdLCRhPVtdLGFiPVtdO2Z1bmN0aW9uIGJiKCl7dmFyIGE9Zi5wcmVSdW4uc2hpZnQoKTtYYS51bnNoaWZ0KGEpfXZhciBjYj0wLGRiPW51bGwsZWI9bnVsbDtcclxuICAgICBmdW5jdGlvbiBnYigpe2Fzc2VydCghbixcImFkZFJ1bkRlcGVuZGVuY3kgY2Fubm90IGJlIHVzZWQgaW4gYSBwdGhyZWFkIHdvcmtlclwiKTtjYisrO2YubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmZi5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKGNiKX1mdW5jdGlvbiBoYigpe2NiLS07Zi5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoY2IpO2lmKDA9PWNiJiYobnVsbCE9PWRiJiYoY2xlYXJJbnRlcnZhbChkYiksZGI9bnVsbCksZWIpKXt2YXIgYT1lYjtlYj1udWxsO2EoKX19Zi5wcmVsb2FkZWRJbWFnZXM9e307Zi5wcmVsb2FkZWRBdWRpb3M9e307XHJcbiAgICAgZnVuY3Rpb24gdShhKXtpZihmLm9uQWJvcnQpZi5vbkFib3J0KGEpO24mJmNvbnNvbGUuZXJyb3IoXCJQdGhyZWFkIGFib3J0aW5nIGF0IFwiK0Vycm9yKCkuc3RhY2spO2goYSk7RWE9ITA7YT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKFwiYWJvcnQoXCIrYStcIikuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uXCIpO2JhKGEpO3Rocm93IGE7fWZ1bmN0aW9uIGliKGEpe3ZhciBiPWpiO3JldHVybiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg/Yi5zdGFydHNXaXRoKGEpOjA9PT1iLmluZGV4T2YoYSl9ZnVuY3Rpb24ga2IoKXtyZXR1cm4gaWIoXCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsXCIpfXZhciBqYj1cImZmbXBlZy1jb3JlLndhc21cIjtrYigpfHwoamI9c2EoamIpKTtcclxuICAgICBmdW5jdGlvbiBsYigpe3RyeXtpZihCYSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQmEpO2lmKHZhKXJldHVybiB2YShqYik7dGhyb3dcImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkXCI7fWNhdGNoKGEpe3UoYSl9fWZ1bmN0aW9uIG1iKCl7cmV0dXJuIEJhfHwhbWEmJiFvYXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGZldGNofHxpYihcImZpbGU6Ly9cIik/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihsYik6ZmV0Y2goamIse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWEub2spdGhyb3dcImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJ1wiK2piK1wiJ1wiO3JldHVybiBhLmFycmF5QnVmZmVyKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBsYigpfSl9XHJcbiAgICAgdmFyIEgsSixvYj17NTQ0OTEzNjpmdW5jdGlvbigpe3Rocm93XCJDYW5jZWxlZCFcIjt9LDU0NDkzNTY6ZnVuY3Rpb24oYSxiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bmIoYSxiKX0sMCl9LDU0NDk0NTg6ZnVuY3Rpb24oKXtyZXR1cm4gNTI0Mjg4MH19O2Z1bmN0aW9uIHBiKGEpe2Zvcig7MDxhLmxlbmd0aDspe3ZhciBiPWEuc2hpZnQoKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKWIoZik7ZWxzZXt2YXIgYz1iLnZoO1wibnVtYmVyXCI9PT10eXBlb2YgYz92b2lkIDA9PT1iLlRmP0cuZ2V0KGMpKCk6Ry5nZXQoYykoYi5UZik6Yyh2b2lkIDA9PT1iLlRmP251bGw6Yi5UZil9fX1mdW5jdGlvbiBxYihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXGJfWltcXHdcXGRfXSsvZyxmdW5jdGlvbihiKXtyZXR1cm4gYj09PWI/YjpiK1wiIFtcIitiK1wiXVwifSl9XHJcbiAgICAgZi5keW5DYWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDstMSE9YS5pbmRleE9mKFwialwiKT9kPWMmJmMubGVuZ3RoP2ZbXCJkeW5DYWxsX1wiK2FdLmFwcGx5KG51bGwsW2JdLmNvbmNhdChjKSk6ZltcImR5bkNhbGxfXCIrYV0uY2FsbChudWxsLGIpOmQ9Ry5nZXQoYikuYXBwbHkobnVsbCxjKTtyZXR1cm4gZH07dmFyIHJiPTAsc2I9MCx0Yj0wO2Z1bmN0aW9uIHViKGEsYixjKXtyYj1hfDA7dGI9YnwwO3NiPWN8MH1mLnJlZ2lzdGVyUHRocmVhZFB0cj11YjtcclxuICAgICBmdW5jdGlvbiB2YihhLGIpe2lmKDA+PWF8fGE+di5sZW5ndGh8fGEmMXx8MD5iKXJldHVybi0yODtpZigwPT1iKXJldHVybiAwOzIxNDc0ODM2NDc8PWImJihiPUluZmluaXR5KTt2YXIgYz1BdG9taWNzLmxvYWQoRCxMLlZmPj4yKSxkPTA7aWYoYz09YSYmQXRvbWljcy5jb21wYXJlRXhjaGFuZ2UoRCxMLlZmPj4yLGMsMCk9PWMmJigtLWIsZD0xLDA+PWIpKXJldHVybiAxO2E9QXRvbWljcy5ub3RpZnkoRCxhPj4yLGIpO2lmKDA8PWEpcmV0dXJuIGErZDt0aHJvd1wiQXRvbWljcy5ub3RpZnkgcmV0dXJuZWQgYW4gdW5leHBlY3RlZCB2YWx1ZSBcIithO31mLl9lbXNjcmlwdGVuX2Z1dGV4X3dha2U9dmI7XHJcbiAgICAgZnVuY3Rpb24gd2IoYSl7aWYobil0aHJvd1wiSW50ZXJuYWwgRXJyb3IhIGNhbmNlbFRocmVhZCgpIGNhbiBvbmx5IGV2ZXIgYmUgY2FsbGVkIGZyb20gbWFpbiBhcHBsaWNhdGlvbiB0aHJlYWQhXCI7aWYoIWEpdGhyb3dcIkludGVybmFsIEVycm9yISBOdWxsIHB0aHJlYWRfcHRyIGluIGNhbmNlbFRocmVhZCFcIjtMLkVmW2FdLndvcmtlci5wb3N0TWVzc2FnZSh7Y21kOlwiY2FuY2VsXCJ9KX1mdW5jdGlvbiB4YihhKXtpZihuKXRocm93XCJJbnRlcm5hbCBFcnJvciEgY2xlYW51cFRocmVhZCgpIGNhbiBvbmx5IGV2ZXIgYmUgY2FsbGVkIGZyb20gbWFpbiBhcHBsaWNhdGlvbiB0aHJlYWQhXCI7aWYoIWEpdGhyb3dcIkludGVybmFsIEVycm9yISBOdWxsIHB0aHJlYWRfcHRyIGluIGNsZWFudXBUaHJlYWQhXCI7RFthKzEyPj4yXT0wOyhhPUwuRWZbYV0pJiZMLkFnKGEud29ya2VyKX1cclxuICAgICB2YXIgTD17UGg6MSxuajp7SWg6MCxKaDowfSxHZjpbXSxLZjpbXSxsajpmdW5jdGlvbigpe30scGk6ZnVuY3Rpb24oKXtMLnhmPU9hKDIzMik7Zm9yKHZhciBhPTA7NTg+YTsrK2EpRVtMLnhmLzQrYV09MDtEW0wueGYrMTI+PjJdPUwueGY7YT1MLnhmKzE1NjtEW2E+PjJdPWE7dmFyIGI9T2EoNTEyKTtmb3IoYT0wOzEyOD5hOysrYSlFW2IvNCthXT0wO0F0b21pY3Muc3RvcmUoRSxMLnhmKzEwND4+MixiKTtBdG9taWNzLnN0b3JlKEUsTC54Zis0MD4+MixMLnhmKTtBdG9taWNzLnN0b3JlKEUsTC54Zis0ND4+Miw0Mik7TC5DaCgpO3ViKEwueGYsIW9hLDEpO3liKEwueGYpfSxyaTpmdW5jdGlvbigpe0wuQ2goKTthYShmKTtMLnJlY2VpdmVPYmplY3RUcmFuc2Zlcj1MLklpO0wuc2V0VGhyZWFkU3RhdHVzPUwuTGk7TC50aHJlYWRDYW5jZWw9TC5QaTtMLnRocmVhZEV4aXQ9TC5RaX0sQ2g6ZnVuY3Rpb24oKXtMLlZmPXpifSxFZjp7fSxEZzpbXSxMaTpmdW5jdGlvbigpe30sZWg6ZnVuY3Rpb24oKXtmb3IoOzA8XHJcbiAgICAgTC5EZy5sZW5ndGg7KUwuRGcucG9wKCkoKTtuJiZ0aHJlYWRJbmZvU3RydWN0JiZBYigpfSxRaTpmdW5jdGlvbihhKXt2YXIgYj1yYnwwO2ImJihBdG9taWNzLnN0b3JlKEUsYis0Pj4yLGEpLEF0b21pY3Muc3RvcmUoRSxiKzA+PjIsMSksQXRvbWljcy5zdG9yZShFLGIrNjA+PjIsMSksQXRvbWljcy5zdG9yZShFLGIrNjQ+PjIsMCksTC5laCgpLHZiKGIrMCwyMTQ3NDgzNjQ3KSx1YigwLDAsMCksdGhyZWFkSW5mb1N0cnVjdD0wLG4mJnBvc3RNZXNzYWdlKHtjbWQ6XCJleGl0XCJ9KSl9LFBpOmZ1bmN0aW9uKCl7TC5laCgpO0F0b21pY3Muc3RvcmUoRSx0aHJlYWRJbmZvU3RydWN0KzQ+PjIsLTEpO0F0b21pY3Muc3RvcmUoRSx0aHJlYWRJbmZvU3RydWN0KzA+PjIsMSk7dmIodGhyZWFkSW5mb1N0cnVjdCswLDIxNDc0ODM2NDcpO3RocmVhZEluZm9TdHJ1Y3Q9c2VsZlRocmVhZElkPTA7dWIoMCwwLDApO3Bvc3RNZXNzYWdlKHtjbWQ6XCJjYW5jZWxEb25lXCJ9KX0sT2k6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gTC5FZil7dmFyIGI9XHJcbiAgICAgTC5FZlthXTtiJiZiLndvcmtlciYmTC5BZyhiLndvcmtlcil9TC5FZj17fTtmb3IoYT0wO2E8TC5HZi5sZW5ndGg7KythKXt2YXIgYz1MLkdmW2FdO2MudGVybWluYXRlKCl9TC5HZj1bXTtmb3IoYT0wO2E8TC5LZi5sZW5ndGg7KythKWM9TC5LZlthXSxiPWMueWYsTC5QZyhiKSxjLnRlcm1pbmF0ZSgpO0wuS2Y9W119LFBnOmZ1bmN0aW9uKGEpe2lmKGEpe2lmKGEudGhyZWFkSW5mb1N0cnVjdCl7dmFyIGI9RFthLnRocmVhZEluZm9TdHJ1Y3QrMTA0Pj4yXTtEW2EudGhyZWFkSW5mb1N0cnVjdCsxMDQ+PjJdPTA7QmIoYik7QmIoYS50aHJlYWRJbmZvU3RydWN0KX1hLnRocmVhZEluZm9TdHJ1Y3Q9MDthLktnJiZhLlJmJiZCYihhLlJmKTthLlJmPTA7YS53b3JrZXImJihhLndvcmtlci55Zj1udWxsKX19LEFnOmZ1bmN0aW9uKGEpe2RlbGV0ZSBMLkVmW2EueWYuTGhdO0wuR2YucHVzaChhKTtMLktmLnNwbGljZShMLktmLmluZGV4T2YoYSksMSk7TC5QZyhhLnlmKTthLnlmPXZvaWQgMH0sXHJcbiAgICAgSWk6ZnVuY3Rpb24oKXt9LHZpOmZ1bmN0aW9uKGEsYil7YS5vbm1lc3NhZ2U9ZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLGU9ZC5jbWQ7YS55ZiYmKEwuTWc9YS55Zi50aHJlYWRJbmZvU3RydWN0KTtpZihkLnRhcmdldFRocmVhZCYmZC50YXJnZXRUaHJlYWQhPShyYnwwKSl7dmFyIGc9TC5FZltkLnhqXTtnP2cud29ya2VyLnBvc3RNZXNzYWdlKGMuZGF0YSxkLnRyYW5zZmVyTGlzdCk6Y29uc29sZS5lcnJvcignSW50ZXJuYWwgZXJyb3IhIFdvcmtlciBzZW50IGEgbWVzc2FnZSBcIicrZSsnXCIgdG8gdGFyZ2V0IHB0aHJlYWQgJytkLnRhcmdldFRocmVhZCtcIiwgYnV0IHRoYXQgdGhyZWFkIG5vIGxvbmdlciBleGlzdHMhXCIpfWVsc2UgaWYoXCJwcm9jZXNzUXVldWVkTWFpblRocmVhZFdvcmtcIj09PWUpQ2IoKTtlbHNlIGlmKFwic3Bhd25UaHJlYWRcIj09PWUpRGIoYy5kYXRhKTtlbHNlIGlmKFwiY2xlYW51cFRocmVhZFwiPT09ZSl4YihkLnRocmVhZCk7ZWxzZSBpZihcImtpbGxUaHJlYWRcIj09PVxyXG4gICAgIGUpe2M9ZC50aHJlYWQ7aWYobil0aHJvd1wiSW50ZXJuYWwgRXJyb3IhIGtpbGxUaHJlYWQoKSBjYW4gb25seSBldmVyIGJlIGNhbGxlZCBmcm9tIG1haW4gYXBwbGljYXRpb24gdGhyZWFkIVwiO2lmKCFjKXRocm93XCJJbnRlcm5hbCBFcnJvciEgTnVsbCBwdGhyZWFkX3B0ciBpbiBraWxsVGhyZWFkIVwiO0RbYysxMj4+Ml09MDtjPUwuRWZbY107Yy53b3JrZXIudGVybWluYXRlKCk7TC5QZyhjKTtMLktmLnNwbGljZShMLktmLmluZGV4T2YoYy53b3JrZXIpLDEpO2Mud29ya2VyLnlmPXZvaWQgMH1lbHNlIGlmKFwiY2FuY2VsVGhyZWFkXCI9PT1lKXdiKGQudGhyZWFkKTtlbHNlIGlmKFwibG9hZGVkXCI9PT1lKWEubG9hZGVkPSEwLGImJmIoYSksYS5vZyYmKGEub2coKSxkZWxldGUgYS5vZyk7ZWxzZSBpZihcInByaW50XCI9PT1lKWVhKFwiVGhyZWFkIFwiK2QudGhyZWFkSWQrXCI6IFwiK2QudGV4dCk7ZWxzZSBpZihcInByaW50RXJyXCI9PT1lKWgoXCJUaHJlYWQgXCIrZC50aHJlYWRJZCtcIjogXCIrZC50ZXh0KTtcclxuICAgICBlbHNlIGlmKFwiYWxlcnRcIj09PWUpYWxlcnQoXCJUaHJlYWQgXCIrZC50aHJlYWRJZCtcIjogXCIrZC50ZXh0KTtlbHNlIGlmKFwiZXhpdFwiPT09ZSlhLnlmJiZBdG9taWNzLmxvYWQoRSxhLnlmLkxoKzY4Pj4yKSYmTC5BZyhhKTtlbHNlIGlmKFwiZXhpdFByb2Nlc3NcIj09PWUpe25vRXhpdFJ1bnRpbWU9ITE7dHJ5e2RhKGQucmV0dXJuQ29kZSl9Y2F0Y2goayl7aWYoayBpbnN0YW5jZW9mIGNhKXJldHVybjt0aHJvdyBrO319ZWxzZVwiY2FuY2VsRG9uZVwiPT09ZT9MLkFnKGEpOlwib2JqZWN0VHJhbnNmZXJcIiE9PWUmJihcInNldGltbWVkaWF0ZVwiPT09Yy5kYXRhLnRhcmdldD9hLnBvc3RNZXNzYWdlKGMuZGF0YSk6aChcIndvcmtlciBzZW50IGFuIHVua25vd24gY29tbWFuZCBcIitlKSk7TC5NZz12b2lkIDB9O2Eub25lcnJvcj1mdW5jdGlvbihjKXtoKFwicHRocmVhZCBzZW50IGFuIGVycm9yISBcIitjLmZpbGVuYW1lK1wiOlwiK2MubGluZW5vK1wiOiBcIitjLm1lc3NhZ2UpfTtsJiYoYS5vbihcIm1lc3NhZ2VcIixcclxuICAgICBmdW5jdGlvbihjKXthLm9ubWVzc2FnZSh7ZGF0YTpjfSl9KSxhLm9uKFwiZXJyb3JcIixmdW5jdGlvbihjKXthLm9uZXJyb3IoYyl9KSxhLm9uKFwiZXhpdFwiLGZ1bmN0aW9uKCl7fSkpO2EucG9zdE1lc3NhZ2Uoe2NtZDpcImxvYWRcIix1cmxPckJsb2I6Zi5tYWluU2NyaXB0VXJsT3JCbG9ifHxfc2NyaXB0RGlyLHdhc21NZW1vcnk6Q2Esd2FzbU1vZHVsZTpEYX0pfSxWaDpmdW5jdGlvbigpe3ZhciBhPXNhKFwiZmZtcGVnLWNvcmUud29ya2VyLmpzXCIpO0wuR2YucHVzaChuZXcgV29ya2VyKGEpKX0sbGk6ZnVuY3Rpb24oKXswPT1MLkdmLmxlbmd0aCYmKEwuVmgoKSxMLnZpKEwuR2ZbMF0pKTtyZXR1cm4gMDxMLkdmLmxlbmd0aD9MLkdmLnBvcCgpOm51bGx9LFppOmZ1bmN0aW9uKGEpe2ZvcihhPXBlcmZvcm1hbmNlLm5vdygpK2E7cGVyZm9ybWFuY2Uubm93KCk8YTspO319O2YuZXN0YWJsaXNoU3RhY2tTcGFjZT1mdW5jdGlvbihhKXtDKGEpfTtmLmdldE5vRXhpdFJ1bnRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbm9FeGl0UnVudGltZX07XHJcbiAgICAgdmFyIEViO2w/RWI9ZnVuY3Rpb24oKXt2YXIgYT1wcm9jZXNzLmhydGltZSgpO3JldHVybiAxRTMqYVswXSthWzFdLzFFNn06bj9FYj1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKS1mLl9fcGVyZm9ybWFuY2Vfbm93X2Nsb2NrX2RyaWZ0fTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRhdGVOb3c/RWI9ZGF0ZU5vdzpFYj1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX07ZnVuY3Rpb24gRmIoYSl7cmV0dXJuIERbR2IoKT4+Ml09YX1mdW5jdGlvbiBIYihhLGIpe2lmKDA9PT1hKWE9RGF0ZS5ub3coKTtlbHNlIGlmKDE9PT1hfHw0PT09YSlhPUViKCk7ZWxzZSByZXR1cm4gRmIoMjgpLC0xO0RbYj4+Ml09YS8xRTN8MDtEW2IrND4+Ml09YSUxRTMqMUU2fDA7cmV0dXJuIDB9ZnVuY3Rpb24gSWIoYSxiKXtpZihuKXJldHVybiBNKDEsMSxhLGIpOyRhLnVuc2hpZnQoe3ZoOmEsVGY6Yn0pfVxyXG4gICAgIGZ1bmN0aW9uIEpiKGEsYil7YT1uZXcgRGF0ZSgxRTMqRFthPj4yXSk7RFtiPj4yXT1hLmdldFVUQ1NlY29uZHMoKTtEW2IrND4+Ml09YS5nZXRVVENNaW51dGVzKCk7RFtiKzg+PjJdPWEuZ2V0VVRDSG91cnMoKTtEW2IrMTI+PjJdPWEuZ2V0VVRDRGF0ZSgpO0RbYisxNj4+Ml09YS5nZXRVVENNb250aCgpO0RbYisyMD4+Ml09YS5nZXRVVENGdWxsWWVhcigpLTE5MDA7RFtiKzI0Pj4yXT1hLmdldFVUQ0RheSgpO0RbYiszNj4+Ml09MDtEW2IrMzI+PjJdPTA7RFtiKzI4Pj4yXT0oYS5nZXRUaW1lKCktRGF0ZS5VVEMoYS5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0RTV8MDtKYi5paHx8KEpiLmloPU5hKFwiR01UXCIpKTtEW2IrNDA+PjJdPUpiLmloO3JldHVybiBifVxyXG4gICAgIGZ1bmN0aW9uIEtiKCl7ZnVuY3Rpb24gYShrKXtyZXR1cm4oaz1rLnRvVGltZVN0cmluZygpLm1hdGNoKC9cXCgoW0EtWmEteiBdKylcXCkkLykpP2tbMV06XCJHTVRcIn1pZihuKXJldHVybiBNKDIsMSk7aWYoIUtiLlloKXtLYi5ZaD0hMDt2YXIgYj0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksYz1uZXcgRGF0ZShiLDAsMSksZD1uZXcgRGF0ZShiLDYsMSk7Yj1jLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGU9ZC5nZXRUaW1lem9uZU9mZnNldCgpLGc9TWF0aC5tYXgoYixlKTtEW0xiKCk+PjJdPTYwKmc7RFtNYigpPj4yXT1OdW1iZXIoYiE9ZSk7Yz1hKGMpO2Q9YShkKTtjPU5hKGMpO2Q9TmEoZCk7ZTxiPyhEW05iKCk+PjJdPWMsRFtOYigpKzQ+PjJdPWQpOihEW05iKCk+PjJdPWQsRFtOYigpKzQ+PjJdPWMpfX1cclxuICAgICBmdW5jdGlvbiBPYihhLGIpe0tiKCk7YT1uZXcgRGF0ZSgxRTMqRFthPj4yXSk7RFtiPj4yXT1hLmdldFNlY29uZHMoKTtEW2IrND4+Ml09YS5nZXRNaW51dGVzKCk7RFtiKzg+PjJdPWEuZ2V0SG91cnMoKTtEW2IrMTI+PjJdPWEuZ2V0RGF0ZSgpO0RbYisxNj4+Ml09YS5nZXRNb250aCgpO0RbYisyMD4+Ml09YS5nZXRGdWxsWWVhcigpLTE5MDA7RFtiKzI0Pj4yXT1hLmdldERheSgpO3ZhciBjPW5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpO0RbYisyOD4+Ml09KGEuZ2V0VGltZSgpLWMuZ2V0VGltZSgpKS84NjRFNXwwO0RbYiszNj4+Ml09LSg2MCphLmdldFRpbWV6b25lT2Zmc2V0KCkpO3ZhciBkPShuZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksNiwxKSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtjPWMuZ2V0VGltZXpvbmVPZmZzZXQoKTthPShkIT1jJiZhLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKGMsZCkpfDA7RFtiKzMyPj4yXT1hO2E9RFtOYigpKyhhPzQ6MCk+PjJdO1xyXG4gICAgIERbYis0MD4+Ml09YTtyZXR1cm4gYn1mdW5jdGlvbiBQYihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXTtcIi5cIj09PWU/YS5zcGxpY2UoZCwxKTpcIi4uXCI9PT1lPyhhLnNwbGljZShkLDEpLGMrKyk6YyYmKGEuc3BsaWNlKGQsMSksYy0tKX1pZihiKWZvcig7YztjLS0pYS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGF9ZnVuY3Rpb24gUWIoYSl7dmFyIGI9XCIvXCI9PT1hLmNoYXJBdCgwKSxjPVwiL1wiPT09YS5zdWJzdHIoLTEpOyhhPVBiKGEuc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4hIWR9KSwhYikuam9pbihcIi9cIikpfHxifHwoYT1cIi5cIik7YSYmYyYmKGErPVwiL1wiKTtyZXR1cm4oYj9cIi9cIjpcIlwiKSthfVxyXG4gICAgIGZ1bmN0aW9uIFJiKGEpe3ZhciBiPS9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvLmV4ZWMoYSkuc2xpY2UoMSk7YT1iWzBdO2I9YlsxXTtpZighYSYmIWIpcmV0dXJuXCIuXCI7YiYmKGI9Yi5zdWJzdHIoMCxiLmxlbmd0aC0xKSk7cmV0dXJuIGErYn1mdW5jdGlvbiBTYihhKXtpZihcIi9cIj09PWEpcmV0dXJuXCIvXCI7YT1RYihhKTthPWEucmVwbGFjZSgvXFwvJC8sXCJcIik7dmFyIGI9YS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuLTE9PT1iP2E6YS5zdWJzdHIoYisxKX1mdW5jdGlvbiBUYihhLGIpe3JldHVybiBRYihhK1wiL1wiK2IpfVxyXG4gICAgIGZ1bmN0aW9uIFViKCl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBjcnlwdG8mJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKXt2YXIgYT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZnVuY3Rpb24oKXtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO3JldHVybiBhWzBdfX1pZihsKXRyeXt2YXIgYj1yZXF1aXJlKFwiY3J5cHRvXCIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLnJhbmRvbUJ5dGVzKDEpWzBdfX1jYXRjaChjKXt9cmV0dXJuIGZ1bmN0aW9uKCl7dShcInJhbmRvbURldmljZVwiKX19XHJcbiAgICAgZnVuY3Rpb24gVmIoKXtmb3IodmFyIGE9XCJcIixiPSExLGM9YXJndW1lbnRzLmxlbmd0aC0xOy0xPD1jJiYhYjtjLS0pe2I9MDw9Yz9hcmd1bWVudHNbY106Ti5jd2QoKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzXCIpO2lmKCFiKXJldHVyblwiXCI7YT1iK1wiL1wiK2E7Yj1cIi9cIj09PWIuY2hhckF0KDApfWE9UGIoYS5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybiEhZH0pLCFiKS5qb2luKFwiL1wiKTtyZXR1cm4oYj9cIi9cIjpcIlwiKSthfHxcIi5cIn1cclxuICAgICBmdW5jdGlvbiBXYihhLGIpe2Z1bmN0aW9uIGMoayl7Zm9yKHZhciBtPTA7bTxrLmxlbmd0aCYmXCJcIj09PWtbbV07bSsrKTtmb3IodmFyIHI9ay5sZW5ndGgtMTswPD1yJiZcIlwiPT09a1tyXTtyLS0pO3JldHVybiBtPnI/W106ay5zbGljZShtLHItbSsxKX1hPVZiKGEpLnN1YnN0cigxKTtiPVZiKGIpLnN1YnN0cigxKTthPWMoYS5zcGxpdChcIi9cIikpO2I9YyhiLnNwbGl0KFwiL1wiKSk7Zm9yKHZhciBkPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKSxlPWQsZz0wO2c8ZDtnKyspaWYoYVtnXSE9PWJbZ10pe2U9ZzticmVha31kPVtdO2ZvcihnPWU7ZzxhLmxlbmd0aDtnKyspZC5wdXNoKFwiLi5cIik7ZD1kLmNvbmNhdChiLnNsaWNlKGUpKTtyZXR1cm4gZC5qb2luKFwiL1wiKX12YXIgWGI9W107ZnVuY3Rpb24gWWIoYSxiKXtYYlthXT17aW5wdXQ6W10sb3V0cHV0OltdLFlmOmJ9O04uZGgoYSxaYil9XHJcbiAgICAgdmFyIFpiPXtvcGVuOmZ1bmN0aW9uKGEpe3ZhciBiPVhiW2Eubm9kZS5yZGV2XTtpZighYil0aHJvdyBuZXcgTi5hZig0Myk7YS50dHk9YjthLnNlZWthYmxlPSExfSxjbG9zZTpmdW5jdGlvbihhKXthLnR0eS5ZZi5mbHVzaChhLnR0eSl9LGZsdXNoOmZ1bmN0aW9uKGEpe2EudHR5LllmLmZsdXNoKGEudHR5KX0scmVhZDpmdW5jdGlvbihhLGIsYyxkKXtpZighYS50dHl8fCFhLnR0eS5ZZi54aCl0aHJvdyBuZXcgTi5hZig2MCk7Zm9yKHZhciBlPTAsZz0wO2c8ZDtnKyspe3RyeXt2YXIgaz1hLnR0eS5ZZi54aChhLnR0eSl9Y2F0Y2gobSl7dGhyb3cgbmV3IE4uYWYoMjkpO31pZih2b2lkIDA9PT1rJiYwPT09ZSl0aHJvdyBuZXcgTi5hZig2KTtpZihudWxsPT09a3x8dm9pZCAwPT09aylicmVhaztlKys7YltjK2ddPWt9ZSYmKGEubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSk7cmV0dXJuIGV9LHdyaXRlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKCFhLnR0eXx8IWEudHR5LllmLlpnKXRocm93IG5ldyBOLmFmKDYwKTtcclxuICAgICB0cnl7Zm9yKHZhciBlPTA7ZTxkO2UrKylhLnR0eS5ZZi5aZyhhLnR0eSxiW2MrZV0pfWNhdGNoKGcpe3Rocm93IG5ldyBOLmFmKDI5KTt9ZCYmKGEubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSk7cmV0dXJuIGV9fSxhYz17eGg6ZnVuY3Rpb24oYSl7aWYoIWEuaW5wdXQubGVuZ3RoKXt2YXIgYj1udWxsO2lmKGwpe3ZhciBjPUJ1ZmZlci5TZj9CdWZmZXIuU2YoMjU2KTpuZXcgQnVmZmVyKDI1NiksZD0wO3RyeXtkPXdhLnJlYWRTeW5jKHByb2Nlc3Muc3RkaW4uZmQsYywwLDI1NixudWxsKX1jYXRjaChlKXtpZigtMSE9ZS50b1N0cmluZygpLmluZGV4T2YoXCJFT0ZcIikpZD0wO2Vsc2UgdGhyb3cgZTt9MDxkP2I9Yy5zbGljZSgwLGQpLnRvU3RyaW5nKFwidXRmLThcIik6Yj1udWxsfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucHJvbXB0PyhiPXdpbmRvdy5wcm9tcHQoXCJJbnB1dDogXCIpLG51bGwhPT1iJiYoYis9XCJcXG5cIikpOlwiZnVuY3Rpb25cIj09XHJcbiAgICAgdHlwZW9mIHJlYWRsaW5lJiYoYj1yZWFkbGluZSgpLG51bGwhPT1iJiYoYis9XCJcXG5cIikpO2lmKCFiKXJldHVybiBudWxsO2EuaW5wdXQ9JGIoYiwhMCl9cmV0dXJuIGEuaW5wdXQuc2hpZnQoKX0sWmc6ZnVuY3Rpb24oYSxiKXtudWxsPT09Ynx8MTA9PT1iPyhlYShKYShhLm91dHB1dCwwKSksYS5vdXRwdXQ9W10pOjAhPWImJmEub3V0cHV0LnB1c2goYil9LGZsdXNoOmZ1bmN0aW9uKGEpe2Eub3V0cHV0JiYwPGEub3V0cHV0Lmxlbmd0aCYmKGVhKEphKGEub3V0cHV0LDApKSxhLm91dHB1dD1bXSl9fSxlYz17Wmc6ZnVuY3Rpb24oYSxiKXtudWxsPT09Ynx8MTA9PT1iPyhoKEphKGEub3V0cHV0LDApKSxhLm91dHB1dD1bXSk6MCE9YiYmYS5vdXRwdXQucHVzaChiKX0sZmx1c2g6ZnVuY3Rpb24oYSl7YS5vdXRwdXQmJjA8YS5vdXRwdXQubGVuZ3RoJiYoaChKYShhLm91dHB1dCwwKSksYS5vdXRwdXQ9W10pfX0sTz17RGY6bnVsbCxqZjpmdW5jdGlvbigpe3JldHVybiBPLmNyZWF0ZU5vZGUobnVsbCxcclxuICAgICBcIi9cIiwxNjg5NSwwKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtpZihOLnNpKGMpfHxOLmlzRklGTyhjKSl0aHJvdyBuZXcgTi5hZig2Myk7Ty5EZnx8KE8uRGY9e2Rpcjp7bm9kZTp7QWY6Ty5jZi5BZixuZjpPLmNmLm5mLGxvb2t1cDpPLmNmLmxvb2t1cCxGZjpPLmNmLkZmLHJlbmFtZTpPLmNmLnJlbmFtZSx1bmxpbms6Ty5jZi51bmxpbmsscm1kaXI6Ty5jZi5ybWRpcixyZWFkZGlyOk8uY2YucmVhZGRpcixzeW1saW5rOk8uY2Yuc3ltbGlua30sc3RyZWFtOnt0ZjpPLmRmLnRmfX0sZmlsZTp7bm9kZTp7QWY6Ty5jZi5BZixuZjpPLmNmLm5mfSxzdHJlYW06e3RmOk8uZGYudGYscmVhZDpPLmRmLnJlYWQsd3JpdGU6Ty5kZi53cml0ZSxmZzpPLmRmLmZnLFdmOk8uZGYuV2YsWGY6Ty5kZi5YZn19LGxpbms6e25vZGU6e0FmOk8uY2YuQWYsbmY6Ty5jZi5uZixyZWFkbGluazpPLmNmLnJlYWRsaW5rfSxzdHJlYW06e319LGxoOntub2RlOntBZjpPLmNmLkFmLG5mOk8uY2YubmZ9LFxyXG4gICAgIHN0cmVhbTpOLiRofX0pO2M9Ti5jcmVhdGVOb2RlKGEsYixjLGQpO04ua2YoYy5tb2RlKT8oYy5jZj1PLkRmLmRpci5ub2RlLGMuZGY9Ty5EZi5kaXIuc3RyZWFtLGMuYmY9e30pOk4uaXNGaWxlKGMubW9kZSk/KGMuY2Y9Ty5EZi5maWxlLm5vZGUsYy5kZj1PLkRmLmZpbGUuc3RyZWFtLGMuZ2Y9MCxjLmJmPW51bGwpOk4uTWYoYy5tb2RlKT8oYy5jZj1PLkRmLmxpbmsubm9kZSxjLmRmPU8uRGYubGluay5zdHJlYW0pOk4uaGcoYy5tb2RlKSYmKGMuY2Y9Ty5EZi5saC5ub2RlLGMuZGY9Ty5EZi5saC5zdHJlYW0pO2MudGltZXN0YW1wPURhdGUubm93KCk7YSYmKGEuYmZbYl09Yyk7cmV0dXJuIGN9LGdqOmZ1bmN0aW9uKGEpe2lmKGEuYmYmJmEuYmYuc3ViYXJyYXkpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmdmOysrYyliLnB1c2goYS5iZltjXSk7cmV0dXJuIGJ9cmV0dXJuIGEuYmZ9LGhqOmZ1bmN0aW9uKGEpe3JldHVybiBhLmJmP2EuYmYuc3ViYXJyYXk/YS5iZi5zdWJhcnJheSgwLFxyXG4gICAgIGEuZ2YpOm5ldyBVaW50OEFycmF5KGEuYmYpOm5ldyBVaW50OEFycmF5KDApfSxzaDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuYmY/YS5iZi5sZW5ndGg6MDtjPj1ifHwoYj1NYXRoLm1heChiLGMqKDEwNDg1NzY+Yz8yOjEuMTI1KT4+PjApLDAhPWMmJihiPU1hdGgubWF4KGIsMjU2KSksYz1hLmJmLGEuYmY9bmV3IFVpbnQ4QXJyYXkoYiksMDxhLmdmJiZhLmJmLnNldChjLnN1YmFycmF5KDAsYS5nZiksMCkpfSxKaTpmdW5jdGlvbihhLGIpe2lmKGEuZ2YhPWIpaWYoMD09YilhLmJmPW51bGwsYS5nZj0wO2Vsc2V7aWYoIWEuYmZ8fGEuYmYuc3ViYXJyYXkpe3ZhciBjPWEuYmY7YS5iZj1uZXcgVWludDhBcnJheShiKTtjJiZhLmJmLnNldChjLnN1YmFycmF5KDAsTWF0aC5taW4oYixhLmdmKSkpfWVsc2UgaWYoYS5iZnx8KGEuYmY9W10pLGEuYmYubGVuZ3RoPmIpYS5iZi5sZW5ndGg9YjtlbHNlIGZvcig7YS5iZi5sZW5ndGg8YjspYS5iZi5wdXNoKDApO2EuZ2Y9Yn19LGNmOntBZjpmdW5jdGlvbihhKXt2YXIgYj1cclxuICAgICB7fTtiLmRldj1OLmhnKGEubW9kZSk/YS5pZDoxO2IuaW5vPWEuaWQ7Yi5tb2RlPWEubW9kZTtiLm5saW5rPTE7Yi51aWQ9MDtiLmdpZD0wO2IucmRldj1hLnJkZXY7Ti5rZihhLm1vZGUpP2Iuc2l6ZT00MDk2Ok4uaXNGaWxlKGEubW9kZSk/Yi5zaXplPWEuZ2Y6Ti5NZihhLm1vZGUpP2Iuc2l6ZT1hLmxpbmsubGVuZ3RoOmIuc2l6ZT0wO2IuYXRpbWU9bmV3IERhdGUoYS50aW1lc3RhbXApO2IubXRpbWU9bmV3IERhdGUoYS50aW1lc3RhbXApO2IuY3RpbWU9bmV3IERhdGUoYS50aW1lc3RhbXApO2IuWGg9NDA5NjtiLmJsb2Nrcz1NYXRoLmNlaWwoYi5zaXplL2IuWGgpO3JldHVybiBifSxuZjpmdW5jdGlvbihhLGIpe3ZvaWQgMCE9PWIubW9kZSYmKGEubW9kZT1iLm1vZGUpO3ZvaWQgMCE9PWIudGltZXN0YW1wJiYoYS50aW1lc3RhbXA9Yi50aW1lc3RhbXApO3ZvaWQgMCE9PWIuc2l6ZSYmTy5KaShhLGIuc2l6ZSl9LGxvb2t1cDpmdW5jdGlvbigpe3Rocm93IE4uUWdbNDRdO30sRmY6ZnVuY3Rpb24oYSxcclxuICAgICBiLGMsZCl7cmV0dXJuIE8uY3JlYXRlTm9kZShhLGIsYyxkKX0scmVuYW1lOmZ1bmN0aW9uKGEsYixjKXtpZihOLmtmKGEubW9kZSkpe3RyeXt2YXIgZD1OLkJmKGIsYyl9Y2F0Y2goZyl7fWlmKGQpZm9yKHZhciBlIGluIGQuYmYpdGhyb3cgbmV3IE4uYWYoNTUpO31kZWxldGUgYS5wYXJlbnQuYmZbYS5uYW1lXTthLm5hbWU9YztiLmJmW2NdPWE7YS5wYXJlbnQ9Yn0sdW5saW5rOmZ1bmN0aW9uKGEsYil7ZGVsZXRlIGEuYmZbYl19LHJtZGlyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ti5CZihhLGIpLGQ7Zm9yKGQgaW4gYy5iZil0aHJvdyBuZXcgTi5hZig1NSk7ZGVsZXRlIGEuYmZbYl19LHJlYWRkaXI6ZnVuY3Rpb24oYSl7dmFyIGI9W1wiLlwiLFwiLi5cIl0sYztmb3IoYyBpbiBhLmJmKWEuYmYuaGFzT3duUHJvcGVydHkoYykmJmIucHVzaChjKTtyZXR1cm4gYn0sc3ltbGluazpmdW5jdGlvbihhLGIsYyl7YT1PLmNyZWF0ZU5vZGUoYSxiLDQxNDcxLDApO2EubGluaz1jO3JldHVybiBhfSxyZWFkbGluazpmdW5jdGlvbihhKXtpZighTi5NZihhLm1vZGUpKXRocm93IG5ldyBOLmFmKDI4KTtcclxuICAgICByZXR1cm4gYS5saW5rfX0sZGY6e3JlYWQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZz1hLm5vZGUuYmY7aWYoZT49YS5ub2RlLmdmKXJldHVybiAwO2E9TWF0aC5taW4oYS5ub2RlLmdmLWUsZCk7aWYoODxhJiZnLnN1YmFycmF5KWIuc2V0KGcuc3ViYXJyYXkoZSxlK2EpLGMpO2Vsc2UgZm9yKGQ9MDtkPGE7ZCsrKWJbYytkXT1nW2UrZF07cmV0dXJuIGF9LHdyaXRlOmZ1bmN0aW9uKGEsYixjLGQsZSxnKXtpZighZClyZXR1cm4gMDthPWEubm9kZTthLnRpbWVzdGFtcD1EYXRlLm5vdygpO2lmKGIuc3ViYXJyYXkmJighYS5iZnx8YS5iZi5zdWJhcnJheSkpe2lmKGcpcmV0dXJuIGEuYmY9Yi5zdWJhcnJheShjLGMrZCksYS5nZj1kO2lmKDA9PT1hLmdmJiYwPT09ZSlyZXR1cm4gYS5iZj1iLnNsaWNlKGMsYytkKSxhLmdmPWQ7aWYoZStkPD1hLmdmKXJldHVybiBhLmJmLnNldChiLnN1YmFycmF5KGMsYytkKSxlKSxkfU8uc2goYSxlK2QpO2lmKGEuYmYuc3ViYXJyYXkmJmIuc3ViYXJyYXkpYS5iZi5zZXQoYi5zdWJhcnJheShjLFxyXG4gICAgIGMrZCksZSk7ZWxzZSBmb3IoZz0wO2c8ZDtnKyspYS5iZltlK2ddPWJbYytnXTthLmdmPU1hdGgubWF4KGEuZ2YsZStkKTtyZXR1cm4gZH0sdGY6ZnVuY3Rpb24oYSxiLGMpezE9PT1jP2IrPWEucG9zaXRpb246Mj09PWMmJk4uaXNGaWxlKGEubm9kZS5tb2RlKSYmKGIrPWEubm9kZS5nZik7aWYoMD5iKXRocm93IG5ldyBOLmFmKDI4KTtyZXR1cm4gYn0sZmc6ZnVuY3Rpb24oYSxiLGMpe08uc2goYS5ub2RlLGIrYyk7YS5ub2RlLmdmPU1hdGgubWF4KGEubm9kZS5nZixiK2MpfSxXZjpmdW5jdGlvbihhLGIsYyxkLGUsZyl7YXNzZXJ0KDA9PT1iKTtpZighTi5pc0ZpbGUoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOLmFmKDQzKTthPWEubm9kZS5iZjtpZihnJjJ8fGEuYnVmZmVyIT09cWEpe2lmKDA8ZHx8ZCtjPGEubGVuZ3RoKWEuc3ViYXJyYXk/YT1hLnN1YmFycmF5KGQsZCtjKTphPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsZCxkK2MpO2Q9ITA7Zz0xNjM4NCpNYXRoLmNlaWwoYy9cclxuICAgICAxNjM4NCk7Zm9yKGI9T2EoZyk7YzxnOyl2W2IrYysrXT0wO2M9YjtpZighYyl0aHJvdyBuZXcgTi5hZig0OCk7di5zZXQoYSxjKX1lbHNlIGQ9ITEsYz1hLmJ5dGVPZmZzZXQ7cmV0dXJue0hpOmMsSmc6ZH19LFhmOmZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoIU4uaXNGaWxlKGEubm9kZS5tb2RlKSl0aHJvdyBuZXcgTi5hZig0Myk7aWYoZSYyKXJldHVybiAwO08uZGYud3JpdGUoYSxiLDAsZCxjLCExKTtyZXR1cm4gMH19fSxOPXtyb290Om51bGwsbWc6W10scGg6e30sc3RyZWFtczpbXSxBaToxLENmOm51bGwsb2g6XCIvXCIsVGc6ITEsQmg6ITAsbWY6e30sTWg6e0doOntSaDoxLFNoOjJ9fSxhZjpudWxsLFFnOnt9LGlpOm51bGwsQ2c6MCxrajpmdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBOLmFmKSl7YTp7dmFyIGI9RXJyb3IoKTtpZighYi5zdGFjayl7dHJ5e3Rocm93IEVycm9yKCk7fWNhdGNoKGMpe2I9Y31pZighYi5zdGFjayl7Yj1cIihubyBzdGFjayB0cmFjZSBhdmFpbGFibGUpXCI7XHJcbiAgICAgYnJlYWsgYX19Yj1iLnN0YWNrLnRvU3RyaW5nKCl9Zi5leHRyYVN0YWNrVHJhY2UmJihiKz1cIlxcblwiK2YuZXh0cmFTdGFja1RyYWNlKCkpO2I9cWIoYik7dGhyb3cgYStcIiA6IFwiK2I7fXJldHVybiBGYihhLmVmKX0sZmY6ZnVuY3Rpb24oYSxiKXthPVZiKE4uY3dkKCksYSk7Yj1ifHx7fTtpZighYSlyZXR1cm57cGF0aDpcIlwiLG5vZGU6bnVsbH07dmFyIGM9e09nOiEwLGFoOjB9LGQ7Zm9yKGQgaW4gYyl2b2lkIDA9PT1iW2RdJiYoYltkXT1jW2RdKTtpZig4PGIuYWgpdGhyb3cgbmV3IE4uYWYoMzIpO2E9UGIoYS5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uKGspe3JldHVybiEha30pLCExKTt2YXIgZT1OLnJvb3Q7Yz1cIi9cIjtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZz1kPT09YS5sZW5ndGgtMTtpZihnJiZiLnBhcmVudClicmVhaztlPU4uQmYoZSxhW2RdKTtjPVRiKGMsYVtkXSk7Ti5OZihlKSYmKCFnfHxnJiZiLk9nKSYmKGU9ZS5sZy5yb290KTtpZighZ3x8Yi53Zilmb3IoZz1cclxuICAgICAwO04uTWYoZS5tb2RlKTspaWYoZT1OLnJlYWRsaW5rKGMpLGM9VmIoUmIoYyksZSksZT1OLmZmKGMse2FoOmIuYWh9KS5ub2RlLDQwPGcrKyl0aHJvdyBuZXcgTi5hZigzMik7fXJldHVybntwYXRoOmMsbm9kZTplfX0sSWY6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiOzspe2lmKE4ud2coYSkpcmV0dXJuIGE9YS5qZi5FaCxiP1wiL1wiIT09YVthLmxlbmd0aC0xXT9hK1wiL1wiK2I6YStiOmE7Yj1iP2EubmFtZStcIi9cIitiOmEubmFtZTthPWEucGFyZW50fX0sU2c6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0oYzw8NSktYytiLmNoYXJDb2RlQXQoZCl8MDtyZXR1cm4oYStjPj4+MCklTi5DZi5sZW5ndGh9LHpoOmZ1bmN0aW9uKGEpe3ZhciBiPU4uU2coYS5wYXJlbnQuaWQsYS5uYW1lKTthLlBmPU4uQ2ZbYl07Ti5DZltiXT1hfSxBaDpmdW5jdGlvbihhKXt2YXIgYj1OLlNnKGEucGFyZW50LmlkLGEubmFtZSk7aWYoTi5DZltiXT09PWEpTi5DZltiXT1hLlBmO1xyXG4gICAgIGVsc2UgZm9yKGI9Ti5DZltiXTtiOyl7aWYoYi5QZj09PWEpe2IuUGY9YS5QZjticmVha31iPWIuUGZ9fSxCZjpmdW5jdGlvbihhLGIpe3ZhciBjPU4ueWkoYSk7aWYoYyl0aHJvdyBuZXcgTi5hZihjLGEpO2ZvcihjPU4uQ2ZbTi5TZyhhLmlkLGIpXTtjO2M9Yy5QZil7dmFyIGQ9Yy5uYW1lO2lmKGMucGFyZW50LmlkPT09YS5pZCYmZD09PWIpcmV0dXJuIGN9cmV0dXJuIE4ubG9va3VwKGEsYil9LGNyZWF0ZU5vZGU6ZnVuY3Rpb24oYSxiLGMsZCl7YT1uZXcgTi5PaChhLGIsYyxkKTtOLnpoKGEpO3JldHVybiBhfSxOZzpmdW5jdGlvbihhKXtOLkFoKGEpfSx3ZzpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWEucGFyZW50fSxOZjpmdW5jdGlvbihhKXtyZXR1cm4hIWEubGd9LGlzRmlsZTpmdW5jdGlvbihhKXtyZXR1cm4gMzI3Njg9PT0oYSY2MTQ0MCl9LGtmOmZ1bmN0aW9uKGEpe3JldHVybiAxNjM4ND09PShhJjYxNDQwKX0sTWY6ZnVuY3Rpb24oYSl7cmV0dXJuIDQwOTYwPT09KGEmNjE0NDApfSxcclxuICAgICBoZzpmdW5jdGlvbihhKXtyZXR1cm4gODE5Mj09PShhJjYxNDQwKX0sc2k6ZnVuY3Rpb24oYSl7cmV0dXJuIDI0NTc2PT09KGEmNjE0NDApfSxpc0ZJRk86ZnVuY3Rpb24oYSl7cmV0dXJuIDQwOTY9PT0oYSY2MTQ0MCl9LGlzU29ja2V0OmZ1bmN0aW9uKGEpe3JldHVybiA0OTE1Mj09PShhJjQ5MTUyKX0samk6e3I6MCxyczoxMDUyNjcyLFwicitcIjoyLHc6NTc3LHd4OjcwNSx4dzo3MDUsXCJ3K1wiOjU3OCxcInd4K1wiOjcwNixcInh3K1wiOjcwNixhOjEwODksYXg6MTIxNyx4YToxMjE3LFwiYStcIjoxMDkwLFwiYXgrXCI6MTIxOCxcInhhK1wiOjEyMTh9LERoOmZ1bmN0aW9uKGEpe3ZhciBiPU4uamlbYV07aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBiKXRocm93IEVycm9yKFwiVW5rbm93biBmaWxlIG9wZW4gbW9kZTogXCIrYSk7cmV0dXJuIGJ9LHRoOmZ1bmN0aW9uKGEpe3ZhciBiPVtcInJcIixcIndcIixcInJ3XCJdW2EmM107YSY1MTImJihiKz1cIndcIik7cmV0dXJuIGJ9LEpmOmZ1bmN0aW9uKGEsYil7aWYoTi5CaClyZXR1cm4gMDtcclxuICAgICBpZigtMT09PWIuaW5kZXhPZihcInJcIil8fGEubW9kZSYyOTIpe2lmKC0xIT09Yi5pbmRleE9mKFwid1wiKSYmIShhLm1vZGUmMTQ2KXx8LTEhPT1iLmluZGV4T2YoXCJ4XCIpJiYhKGEubW9kZSY3MykpcmV0dXJuIDJ9ZWxzZSByZXR1cm4gMjtyZXR1cm4gMH0seWk6ZnVuY3Rpb24oYSl7dmFyIGI9Ti5KZihhLFwieFwiKTtyZXR1cm4gYj9iOmEuY2YubG9va3VwPzA6Mn0sWWc6ZnVuY3Rpb24oYSxiKXt0cnl7cmV0dXJuIE4uQmYoYSxiKSwyMH1jYXRjaChjKXt9cmV0dXJuIE4uSmYoYSxcInd4XCIpfSx4ZzpmdW5jdGlvbihhLGIsYyl7dHJ5e3ZhciBkPU4uQmYoYSxiKX1jYXRjaChlKXtyZXR1cm4gZS5lZn1pZihhPU4uSmYoYSxcInd4XCIpKXJldHVybiBhO2lmKGMpe2lmKCFOLmtmKGQubW9kZSkpcmV0dXJuIDU0O2lmKE4ud2coZCl8fE4uSWYoZCk9PT1OLmN3ZCgpKXJldHVybiAxMH1lbHNlIGlmKE4ua2YoZC5tb2RlKSlyZXR1cm4gMzE7cmV0dXJuIDB9LHppOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/XHJcbiAgICAgTi5NZihhLm1vZGUpPzMyOk4ua2YoYS5tb2RlKSYmKFwiclwiIT09Ti50aChiKXx8YiY1MTIpPzMxOk4uSmYoYSxOLnRoKGIpKTo0NH0sUWg6NDA5NixCaTpmdW5jdGlvbihhLGIpe2I9Ynx8Ti5RaDtmb3IoYT1hfHwwO2E8PWI7YSsrKWlmKCFOLnN0cmVhbXNbYV0pcmV0dXJuIGE7dGhyb3cgbmV3IE4uYWYoMzMpO30semY6ZnVuY3Rpb24oYSl7cmV0dXJuIE4uc3RyZWFtc1thXX0sbmg6ZnVuY3Rpb24oYSxiLGMpe04uSGd8fChOLkhnPWZ1bmN0aW9uKCl7fSxOLkhnLnByb3RvdHlwZT17b2JqZWN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQ6ZnVuY3Rpb24oZyl7dGhpcy5ub2RlPWd9fX0pO3ZhciBkPW5ldyBOLkhnLGU7Zm9yKGUgaW4gYSlkW2VdPWFbZV07YT1kO2I9Ti5CaShiLGMpO2EuZmQ9YjtyZXR1cm4gTi5zdHJlYW1zW2JdPWF9LGFpOmZ1bmN0aW9uKGEpe04uc3RyZWFtc1thXT1udWxsfSwkaDp7b3BlbjpmdW5jdGlvbihhKXthLmRmPU4ua2koYS5ub2RlLnJkZXYpLmRmO1xyXG4gICAgIGEuZGYub3BlbiYmYS5kZi5vcGVuKGEpfSx0ZjpmdW5jdGlvbigpe3Rocm93IG5ldyBOLmFmKDcwKTt9fSxXZzpmdW5jdGlvbihhKXtyZXR1cm4gYT4+OH0sb2o6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmMjU1fSxPZjpmdW5jdGlvbihhLGIpe3JldHVybiBhPDw4fGJ9LGRoOmZ1bmN0aW9uKGEsYil7Ti5waFthXT17ZGY6Yn19LGtpOmZ1bmN0aW9uKGEpe3JldHVybiBOLnBoW2FdfSx3aDpmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IoYT1bYV07YS5sZW5ndGg7KXt2YXIgYz1hLnBvcCgpO2IucHVzaChjKTthLnB1c2guYXBwbHkoYSxjLm1nKX1yZXR1cm4gYn0sS2g6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGspe04uQ2ctLTtyZXR1cm4gYihrKX1mdW5jdGlvbiBkKGspe2lmKGspe2lmKCFkLmdpKXJldHVybiBkLmdpPSEwLGMoayl9ZWxzZSsrZz49ZS5sZW5ndGgmJmMobnVsbCl9XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJihiPWEsYT0hMSk7Ti5DZysrOzE8Ti5DZyYmaChcIndhcm5pbmc6IFwiK1xyXG4gICAgIE4uQ2crXCIgRlMuc3luY2ZzIG9wZXJhdGlvbnMgaW4gZmxpZ2h0IGF0IG9uY2UsIHByb2JhYmx5IGp1c3QgZG9pbmcgZXh0cmEgd29ya1wiKTt2YXIgZT1OLndoKE4ucm9vdC5qZiksZz0wO2UuZm9yRWFjaChmdW5jdGlvbihrKXtpZighay50eXBlLktoKXJldHVybiBkKG51bGwpO2sudHlwZS5LaChrLGEsZCl9KX0samY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiL1wiPT09YyxlPSFjO2lmKGQmJk4ucm9vdCl0aHJvdyBuZXcgTi5hZigxMCk7aWYoIWQmJiFlKXt2YXIgZz1OLmZmKGMse09nOiExfSk7Yz1nLnBhdGg7Zz1nLm5vZGU7aWYoTi5OZihnKSl0aHJvdyBuZXcgTi5hZigxMCk7aWYoIU4ua2YoZy5tb2RlKSl0aHJvdyBuZXcgTi5hZig1NCk7fWI9e3R5cGU6YSx0ajpiLEVoOmMsbWc6W119O2E9YS5qZihiKTthLmpmPWI7Yi5yb290PWE7ZD9OLnJvb3Q9YTpnJiYoZy5sZz1iLGcuamYmJmcuamYubWcucHVzaChiKSk7cmV0dXJuIGF9LHpqOmZ1bmN0aW9uKGEpe2E9Ti5mZihhLHtPZzohMX0pO1xyXG4gICAgIGlmKCFOLk5mKGEubm9kZSkpdGhyb3cgbmV3IE4uYWYoMjgpO2E9YS5ub2RlO3ZhciBiPWEubGcsYz1OLndoKGIpO09iamVjdC5rZXlzKE4uQ2YpLmZvckVhY2goZnVuY3Rpb24oZCl7Zm9yKGQ9Ti5DZltkXTtkOyl7dmFyIGU9ZC5QZjstMSE9PWMuaW5kZXhPZihkLmpmKSYmTi5OZyhkKTtkPWV9fSk7YS5sZz1udWxsO2EuamYubWcuc3BsaWNlKGEuamYubWcuaW5kZXhPZihiKSwxKX0sbG9va3VwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY2YubG9va3VwKGEsYil9LEZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1OLmZmKGEse3BhcmVudDohMH0pLm5vZGU7YT1TYihhKTtpZighYXx8XCIuXCI9PT1hfHxcIi4uXCI9PT1hKXRocm93IG5ldyBOLmFmKDI4KTt2YXIgZT1OLllnKGQsYSk7aWYoZSl0aHJvdyBuZXcgTi5hZihlKTtpZighZC5jZi5GZil0aHJvdyBuZXcgTi5hZig2Myk7cmV0dXJuIGQuY2YuRmYoZCxhLGIsYyl9LGNyZWF0ZTpmdW5jdGlvbihhLGIpe3JldHVybiBOLkZmKGEsKHZvaWQgMCE9PVxyXG4gICAgIGI/Yjo0MzgpJjQwOTV8MzI3NjgsMCl9LG1rZGlyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIE4uRmYoYSwodm9pZCAwIT09Yj9iOjUxMSkmMTAyM3wxNjM4NCwwKX0scWo6ZnVuY3Rpb24oYSxiKXthPWEuc3BsaXQoXCIvXCIpO2Zvcih2YXIgYz1cIlwiLGQ9MDtkPGEubGVuZ3RoOysrZClpZihhW2RdKXtjKz1cIi9cIithW2RdO3RyeXtOLm1rZGlyKGMsYil9Y2F0Y2goZSl7aWYoMjAhPWUuZWYpdGhyb3cgZTt9fX0seWc6ZnVuY3Rpb24oYSxiLGMpe1widW5kZWZpbmVkXCI9PT10eXBlb2YgYyYmKGM9YixiPTQzOCk7cmV0dXJuIE4uRmYoYSxifDgxOTIsYyl9LHN5bWxpbms6ZnVuY3Rpb24oYSxiKXtpZighVmIoYSkpdGhyb3cgbmV3IE4uYWYoNDQpO3ZhciBjPU4uZmYoYix7cGFyZW50OiEwfSkubm9kZTtpZighYyl0aHJvdyBuZXcgTi5hZig0NCk7Yj1TYihiKTt2YXIgZD1OLllnKGMsYik7aWYoZCl0aHJvdyBuZXcgTi5hZihkKTtpZighYy5jZi5zeW1saW5rKXRocm93IG5ldyBOLmFmKDYzKTtyZXR1cm4gYy5jZi5zeW1saW5rKGMsXHJcbiAgICAgYixhKX0scmVuYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9UmIoYSksZD1SYihiKSxlPVNiKGEpLGc9U2IoYik7dmFyIGs9Ti5mZihhLHtwYXJlbnQ6ITB9KTt2YXIgbT1rLm5vZGU7az1OLmZmKGIse3BhcmVudDohMH0pO2s9ay5ub2RlO2lmKCFtfHwhayl0aHJvdyBuZXcgTi5hZig0NCk7aWYobS5qZiE9PWsuamYpdGhyb3cgbmV3IE4uYWYoNzUpO3ZhciByPU4uQmYobSxlKTtkPVdiKGEsZCk7aWYoXCIuXCIhPT1kLmNoYXJBdCgwKSl0aHJvdyBuZXcgTi5hZigyOCk7ZD1XYihiLGMpO2lmKFwiLlwiIT09ZC5jaGFyQXQoMCkpdGhyb3cgbmV3IE4uYWYoNTUpO3RyeXt2YXIgcT1OLkJmKGssZyl9Y2F0Y2godCl7fWlmKHIhPT1xKXtjPU4ua2Yoci5tb2RlKTtpZihlPU4ueGcobSxlLGMpKXRocm93IG5ldyBOLmFmKGUpO2lmKGU9cT9OLnhnKGssZyxjKTpOLllnKGssZykpdGhyb3cgbmV3IE4uYWYoZSk7aWYoIW0uY2YucmVuYW1lKXRocm93IG5ldyBOLmFmKDYzKTtpZihOLk5mKHIpfHxxJiZOLk5mKHEpKXRocm93IG5ldyBOLmFmKDEwKTtcclxuICAgICBpZihrIT09bSYmKGU9Ti5KZihtLFwid1wiKSkpdGhyb3cgbmV3IE4uYWYoZSk7dHJ5e04ubWYud2lsbE1vdmVQYXRoJiZOLm1mLndpbGxNb3ZlUGF0aChhLGIpfWNhdGNoKHQpe2goXCJGUy50cmFja2luZ0RlbGVnYXRlWyd3aWxsTW92ZVBhdGgnXSgnXCIrYStcIicsICdcIitiK1wiJykgdGhyZXcgYW4gZXhjZXB0aW9uOiBcIit0Lm1lc3NhZ2UpfU4uQWgocik7dHJ5e20uY2YucmVuYW1lKHIsayxnKX1jYXRjaCh0KXt0aHJvdyB0O31maW5hbGx5e04uemgocil9dHJ5e2lmKE4ubWYub25Nb3ZlUGF0aClOLm1mLm9uTW92ZVBhdGgoYSxiKX1jYXRjaCh0KXtoKFwiRlMudHJhY2tpbmdEZWxlZ2F0ZVsnb25Nb3ZlUGF0aCddKCdcIithK1wiJywgJ1wiK2IrXCInKSB0aHJldyBhbiBleGNlcHRpb246IFwiK3QubWVzc2FnZSl9fX0scm1kaXI6ZnVuY3Rpb24oYSl7dmFyIGI9Ti5mZihhLHtwYXJlbnQ6ITB9KS5ub2RlLGM9U2IoYSksZD1OLkJmKGIsYyksZT1OLnhnKGIsYywhMCk7aWYoZSl0aHJvdyBuZXcgTi5hZihlKTtcclxuICAgICBpZighYi5jZi5ybWRpcil0aHJvdyBuZXcgTi5hZig2Myk7aWYoTi5OZihkKSl0aHJvdyBuZXcgTi5hZigxMCk7dHJ5e04ubWYud2lsbERlbGV0ZVBhdGgmJk4ubWYud2lsbERlbGV0ZVBhdGgoYSl9Y2F0Y2goZyl7aChcIkZTLnRyYWNraW5nRGVsZWdhdGVbJ3dpbGxEZWxldGVQYXRoJ10oJ1wiK2ErXCInKSB0aHJldyBhbiBleGNlcHRpb246IFwiK2cubWVzc2FnZSl9Yi5jZi5ybWRpcihiLGMpO04uTmcoZCk7dHJ5e2lmKE4ubWYub25EZWxldGVQYXRoKU4ubWYub25EZWxldGVQYXRoKGEpfWNhdGNoKGcpe2goXCJGUy50cmFja2luZ0RlbGVnYXRlWydvbkRlbGV0ZVBhdGgnXSgnXCIrYStcIicpIHRocmV3IGFuIGV4Y2VwdGlvbjogXCIrZy5tZXNzYWdlKX19LHJlYWRkaXI6ZnVuY3Rpb24oYSl7YT1OLmZmKGEse3dmOiEwfSkubm9kZTtpZighYS5jZi5yZWFkZGlyKXRocm93IG5ldyBOLmFmKDU0KTtyZXR1cm4gYS5jZi5yZWFkZGlyKGEpfSx1bmxpbms6ZnVuY3Rpb24oYSl7dmFyIGI9Ti5mZihhLFxyXG4gICAgIHtwYXJlbnQ6ITB9KS5ub2RlLGM9U2IoYSksZD1OLkJmKGIsYyksZT1OLnhnKGIsYywhMSk7aWYoZSl0aHJvdyBuZXcgTi5hZihlKTtpZighYi5jZi51bmxpbmspdGhyb3cgbmV3IE4uYWYoNjMpO2lmKE4uTmYoZCkpdGhyb3cgbmV3IE4uYWYoMTApO3RyeXtOLm1mLndpbGxEZWxldGVQYXRoJiZOLm1mLndpbGxEZWxldGVQYXRoKGEpfWNhdGNoKGcpe2goXCJGUy50cmFja2luZ0RlbGVnYXRlWyd3aWxsRGVsZXRlUGF0aCddKCdcIithK1wiJykgdGhyZXcgYW4gZXhjZXB0aW9uOiBcIitnLm1lc3NhZ2UpfWIuY2YudW5saW5rKGIsYyk7Ti5OZyhkKTt0cnl7aWYoTi5tZi5vbkRlbGV0ZVBhdGgpTi5tZi5vbkRlbGV0ZVBhdGgoYSl9Y2F0Y2goZyl7aChcIkZTLnRyYWNraW5nRGVsZWdhdGVbJ29uRGVsZXRlUGF0aCddKCdcIithK1wiJykgdGhyZXcgYW4gZXhjZXB0aW9uOiBcIitnLm1lc3NhZ2UpfX0scmVhZGxpbms6ZnVuY3Rpb24oYSl7YT1OLmZmKGEpLm5vZGU7aWYoIWEpdGhyb3cgbmV3IE4uYWYoNDQpO1xyXG4gICAgIGlmKCFhLmNmLnJlYWRsaW5rKXRocm93IG5ldyBOLmFmKDI4KTtyZXR1cm4gVmIoTi5JZihhLnBhcmVudCksYS5jZi5yZWFkbGluayhhKSl9LHN0YXQ6ZnVuY3Rpb24oYSxiKXthPU4uZmYoYSx7d2Y6IWJ9KS5ub2RlO2lmKCFhKXRocm93IG5ldyBOLmFmKDQ0KTtpZighYS5jZi5BZil0aHJvdyBuZXcgTi5hZig2Myk7cmV0dXJuIGEuY2YuQWYoYSl9LGxzdGF0OmZ1bmN0aW9uKGEpe3JldHVybiBOLnN0YXQoYSwhMCl9LGNobW9kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtcInN0cmluZ1wiPT09dHlwZW9mIGE/ZD1OLmZmKGEse3dmOiFjfSkubm9kZTpkPWE7aWYoIWQuY2YubmYpdGhyb3cgbmV3IE4uYWYoNjMpO2QuY2YubmYoZCx7bW9kZTpiJjQwOTV8ZC5tb2RlJi00MDk2LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG1vZDpmdW5jdGlvbihhLGIpe04uY2htb2QoYSxiLCEwKX0sZmNobW9kOmZ1bmN0aW9uKGEsYil7YT1OLnpmKGEpO2lmKCFhKXRocm93IG5ldyBOLmFmKDgpO04uY2htb2QoYS5ub2RlLFxyXG4gICAgIGIpfSxjaG93bjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZTtcInN0cmluZ1wiPT09dHlwZW9mIGE/ZT1OLmZmKGEse3dmOiFkfSkubm9kZTplPWE7aWYoIWUuY2YubmYpdGhyb3cgbmV3IE4uYWYoNjMpO2UuY2YubmYoZSx7dGltZXN0YW1wOkRhdGUubm93KCl9KX0sbGNob3duOmZ1bmN0aW9uKGEsYixjKXtOLmNob3duKGEsYixjLCEwKX0sZmNob3duOmZ1bmN0aW9uKGEsYixjKXthPU4uemYoYSk7aWYoIWEpdGhyb3cgbmV3IE4uYWYoOCk7Ti5jaG93bihhLm5vZGUsYixjKX0sdHJ1bmNhdGU6ZnVuY3Rpb24oYSxiKXtpZigwPmIpdGhyb3cgbmV3IE4uYWYoMjgpO3ZhciBjO1wic3RyaW5nXCI9PT10eXBlb2YgYT9jPU4uZmYoYSx7d2Y6ITB9KS5ub2RlOmM9YTtpZighYy5jZi5uZil0aHJvdyBuZXcgTi5hZig2Myk7aWYoTi5rZihjLm1vZGUpKXRocm93IG5ldyBOLmFmKDMxKTtpZighTi5pc0ZpbGUoYy5tb2RlKSl0aHJvdyBuZXcgTi5hZigyOCk7aWYoYT1OLkpmKGMsXCJ3XCIpKXRocm93IG5ldyBOLmFmKGEpO1xyXG4gICAgIGMuY2YubmYoYyx7c2l6ZTpiLHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGZqOmZ1bmN0aW9uKGEsYil7YT1OLnpmKGEpO2lmKCFhKXRocm93IG5ldyBOLmFmKDgpO2lmKDA9PT0oYS5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTi5hZigyOCk7Ti50cnVuY2F0ZShhLm5vZGUsYil9LEFqOmZ1bmN0aW9uKGEsYixjKXthPU4uZmYoYSx7d2Y6ITB9KS5ub2RlO2EuY2YubmYoYSx7dGltZXN0YW1wOk1hdGgubWF4KGIsYyl9KX0sb3BlbjpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKFwiXCI9PT1hKXRocm93IG5ldyBOLmFmKDQ0KTtiPVwic3RyaW5nXCI9PT10eXBlb2YgYj9OLkRoKGIpOmI7Yz1iJjY0PyhcInVuZGVmaW5lZFwiPT09dHlwZW9mIGM/NDM4OmMpJjQwOTV8MzI3Njg6MDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGEpdmFyIGc9YTtlbHNle2E9UWIoYSk7dHJ5e2c9Ti5mZihhLHt3ZjohKGImMTMxMDcyKX0pLm5vZGV9Y2F0Y2gobSl7fX12YXIgaz0hMTtpZihiJjY0KWlmKGcpe2lmKGImMTI4KXRocm93IG5ldyBOLmFmKDIwKTtcclxuICAgICB9ZWxzZSBnPU4uRmYoYSxjLDApLGs9ITA7aWYoIWcpdGhyb3cgbmV3IE4uYWYoNDQpO04uaGcoZy5tb2RlKSYmKGImPS01MTMpO2lmKGImNjU1MzYmJiFOLmtmKGcubW9kZSkpdGhyb3cgbmV3IE4uYWYoNTQpO2lmKCFrJiYoYz1OLnppKGcsYikpKXRocm93IG5ldyBOLmFmKGMpO2ImNTEyJiZOLnRydW5jYXRlKGcsMCk7YiY9LTEzMTcxMztkPU4ubmgoe25vZGU6ZyxwYXRoOk4uSWYoZyksZmxhZ3M6YixzZWVrYWJsZTohMCxwb3NpdGlvbjowLGRmOmcuZGYsV2k6W10sZXJyb3I6ITF9LGQsZSk7ZC5kZi5vcGVuJiZkLmRmLm9wZW4oZCk7IWYubG9nUmVhZEZpbGVzfHxiJjF8fChOLiRnfHwoTi4kZz17fSksYSBpbiBOLiRnfHwoTi4kZ1thXT0xLGgoXCJGUy50cmFja2luZ0RlbGVnYXRlIGVycm9yIG9uIHJlYWQgZmlsZTogXCIrYSkpKTt0cnl7Ti5tZi5vbk9wZW5GaWxlJiYoZT0wLDEhPT0oYiYyMDk3MTU1KSYmKGV8PU4uTWguR2guUmgpLDAhPT0oYiYyMDk3MTU1KSYmKGV8PU4uTWguR2guU2gpLFxyXG4gICAgIE4ubWYub25PcGVuRmlsZShhLGUpKX1jYXRjaChtKXtoKFwiRlMudHJhY2tpbmdEZWxlZ2F0ZVsnb25PcGVuRmlsZSddKCdcIithK1wiJywgZmxhZ3MpIHRocmV3IGFuIGV4Y2VwdGlvbjogXCIrbS5tZXNzYWdlKX1yZXR1cm4gZH0sY2xvc2U6ZnVuY3Rpb24oYSl7aWYoTi5pZyhhKSl0aHJvdyBuZXcgTi5hZig4KTthLkxmJiYoYS5MZj1udWxsKTt0cnl7YS5kZi5jbG9zZSYmYS5kZi5jbG9zZShhKX1jYXRjaChiKXt0aHJvdyBiO31maW5hbGx5e04uYWkoYS5mZCl9YS5mZD1udWxsfSxpZzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZmR9LHRmOmZ1bmN0aW9uKGEsYixjKXtpZihOLmlnKGEpKXRocm93IG5ldyBOLmFmKDgpO2lmKCFhLnNlZWthYmxlfHwhYS5kZi50Zil0aHJvdyBuZXcgTi5hZig3MCk7aWYoMCE9YyYmMSE9YyYmMiE9Yyl0aHJvdyBuZXcgTi5hZigyOCk7YS5wb3NpdGlvbj1hLmRmLnRmKGEsYixjKTthLldpPVtdO3JldHVybiBhLnBvc2l0aW9ufSxyZWFkOmZ1bmN0aW9uKGEsXHJcbiAgICAgYixjLGQsZSl7aWYoMD5kfHwwPmUpdGhyb3cgbmV3IE4uYWYoMjgpO2lmKE4uaWcoYSkpdGhyb3cgbmV3IE4uYWYoOCk7aWYoMT09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOLmFmKDgpO2lmKE4ua2YoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOLmFmKDMxKTtpZighYS5kZi5yZWFkKXRocm93IG5ldyBOLmFmKDI4KTt2YXIgZz1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGU7aWYoIWcpZT1hLnBvc2l0aW9uO2Vsc2UgaWYoIWEuc2Vla2FibGUpdGhyb3cgbmV3IE4uYWYoNzApO2I9YS5kZi5yZWFkKGEsYixjLGQsZSk7Z3x8KGEucG9zaXRpb24rPWIpO3JldHVybiBifSx3cml0ZTpmdW5jdGlvbihhLGIsYyxkLGUsZyl7aWYoMD5kfHwwPmUpdGhyb3cgbmV3IE4uYWYoMjgpO2lmKE4uaWcoYSkpdGhyb3cgbmV3IE4uYWYoOCk7aWYoMD09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOLmFmKDgpO2lmKE4ua2YoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOLmFmKDMxKTtpZighYS5kZi53cml0ZSl0aHJvdyBuZXcgTi5hZigyOCk7XHJcbiAgICAgYS5zZWVrYWJsZSYmYS5mbGFncyYxMDI0JiZOLnRmKGEsMCwyKTt2YXIgaz1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGU7aWYoIWspZT1hLnBvc2l0aW9uO2Vsc2UgaWYoIWEuc2Vla2FibGUpdGhyb3cgbmV3IE4uYWYoNzApO2I9YS5kZi53cml0ZShhLGIsYyxkLGUsZyk7a3x8KGEucG9zaXRpb24rPWIpO3RyeXtpZihhLnBhdGgmJk4ubWYub25Xcml0ZVRvRmlsZSlOLm1mLm9uV3JpdGVUb0ZpbGUoYS5wYXRoKX1jYXRjaChtKXtoKFwiRlMudHJhY2tpbmdEZWxlZ2F0ZVsnb25Xcml0ZVRvRmlsZSddKCdcIithLnBhdGgrXCInKSB0aHJldyBhbiBleGNlcHRpb246IFwiK20ubWVzc2FnZSl9cmV0dXJuIGJ9LGZnOmZ1bmN0aW9uKGEsYixjKXtpZihOLmlnKGEpKXRocm93IG5ldyBOLmFmKDgpO2lmKDA+Ynx8MD49Yyl0aHJvdyBuZXcgTi5hZigyOCk7aWYoMD09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOLmFmKDgpO2lmKCFOLmlzRmlsZShhLm5vZGUubW9kZSkmJiFOLmtmKGEubm9kZS5tb2RlKSl0aHJvdyBuZXcgTi5hZig0Myk7XHJcbiAgICAgaWYoIWEuZGYuZmcpdGhyb3cgbmV3IE4uYWYoMTM4KTthLmRmLmZnKGEsYixjKX0sV2Y6ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2lmKDAhPT0oZSYyKSYmMD09PShnJjIpJiYyIT09KGEuZmxhZ3MmMjA5NzE1NSkpdGhyb3cgbmV3IE4uYWYoMik7aWYoMT09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOLmFmKDIpO2lmKCFhLmRmLldmKXRocm93IG5ldyBOLmFmKDQzKTtyZXR1cm4gYS5kZi5XZihhLGIsYyxkLGUsZyl9LFhmOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGEmJmEuZGYuWGY/YS5kZi5YZihhLGIsYyxkLGUpOjB9LHNqOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LFVmOmZ1bmN0aW9uKGEsYixjKXtpZighYS5kZi5VZil0aHJvdyBuZXcgTi5hZig1OSk7cmV0dXJuIGEuZGYuVWYoYSxiLGMpfSxyZWFkRmlsZTpmdW5jdGlvbihhLGIpe2I9Ynx8e307Yi5mbGFncz1iLmZsYWdzfHxcInJcIjtiLmVuY29kaW5nPWIuZW5jb2Rpbmd8fFwiYmluYXJ5XCI7aWYoXCJ1dGY4XCIhPT1iLmVuY29kaW5nJiZcclxuICAgICBcImJpbmFyeVwiIT09Yi5lbmNvZGluZyl0aHJvdyBFcnJvcignSW52YWxpZCBlbmNvZGluZyB0eXBlIFwiJytiLmVuY29kaW5nKydcIicpO3ZhciBjLGQ9Ti5vcGVuKGEsYi5mbGFncyk7YT1OLnN0YXQoYSkuc2l6ZTt2YXIgZT1uZXcgVWludDhBcnJheShhKTtOLnJlYWQoZCxlLDAsYSwwKTtcInV0ZjhcIj09PWIuZW5jb2Rpbmc/Yz1KYShlLDApOlwiYmluYXJ5XCI9PT1iLmVuY29kaW5nJiYoYz1lKTtOLmNsb3NlKGQpO3JldHVybiBjfSx3cml0ZUZpbGU6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8e307Yy5mbGFncz1jLmZsYWdzfHxcIndcIjthPU4ub3BlbihhLGMuZmxhZ3MsYy5tb2RlKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGIpe3ZhciBkPW5ldyBVaW50OEFycmF5KE1hKGIpKzEpO2I9TGEoYixkLDAsZC5sZW5ndGgpO04ud3JpdGUoYSxkLDAsYix2b2lkIDAsYy5aaCl9ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoYikpTi53cml0ZShhLGIsMCxiLmJ5dGVMZW5ndGgsdm9pZCAwLGMuWmgpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBkYXRhIHR5cGVcIik7XHJcbiAgICAgTi5jbG9zZShhKX0sY3dkOmZ1bmN0aW9uKCl7cmV0dXJuIE4ub2h9LGNoZGlyOmZ1bmN0aW9uKGEpe2E9Ti5mZihhLHt3ZjohMH0pO2lmKG51bGw9PT1hLm5vZGUpdGhyb3cgbmV3IE4uYWYoNDQpO2lmKCFOLmtmKGEubm9kZS5tb2RlKSl0aHJvdyBuZXcgTi5hZig1NCk7dmFyIGI9Ti5KZihhLm5vZGUsXCJ4XCIpO2lmKGIpdGhyb3cgbmV3IE4uYWYoYik7Ti5vaD1hLnBhdGh9LGNpOmZ1bmN0aW9uKCl7Ti5ta2RpcihcIi90bXBcIik7Ti5ta2RpcihcIi9ob21lXCIpO04ubWtkaXIoXCIvaG9tZS93ZWJfdXNlclwiKX0sYmk6ZnVuY3Rpb24oKXtOLm1rZGlyKFwiL2RldlwiKTtOLmRoKE4uT2YoMSwzKSx7cmVhZDpmdW5jdGlvbigpe3JldHVybiAwfSx3cml0ZTpmdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gZX19KTtOLnlnKFwiL2Rldi9udWxsXCIsTi5PZigxLDMpKTtZYihOLk9mKDUsMCksYWMpO1liKE4uT2YoNiwwKSxlYyk7Ti55ZyhcIi9kZXYvdHR5XCIsTi5PZig1LDApKTtOLnlnKFwiL2Rldi90dHkxXCIsTi5PZig2LFxyXG4gICAgIDApKTt2YXIgYT1VYigpO04uSGYoXCIvZGV2XCIsXCJyYW5kb21cIixhKTtOLkhmKFwiL2RldlwiLFwidXJhbmRvbVwiLGEpO04ubWtkaXIoXCIvZGV2L3NobVwiKTtOLm1rZGlyKFwiL2Rldi9zaG0vdG1wXCIpfSxlaTpmdW5jdGlvbigpe04ubWtkaXIoXCIvcHJvY1wiKTtOLm1rZGlyKFwiL3Byb2Mvc2VsZlwiKTtOLm1rZGlyKFwiL3Byb2Mvc2VsZi9mZFwiKTtOLmpmKHtqZjpmdW5jdGlvbigpe3ZhciBhPU4uY3JlYXRlTm9kZShcIi9wcm9jL3NlbGZcIixcImZkXCIsMTY4OTUsNzMpO2EuY2Y9e2xvb2t1cDpmdW5jdGlvbihiLGMpe3ZhciBkPU4uemYoK2MpO2lmKCFkKXRocm93IG5ldyBOLmFmKDgpO2I9e3BhcmVudDpudWxsLGpmOntFaDpcImZha2VcIn0sY2Y6e3JlYWRsaW5rOmZ1bmN0aW9uKCl7cmV0dXJuIGQucGF0aH19fTtyZXR1cm4gYi5wYXJlbnQ9Yn19O3JldHVybiBhfX0se30sXCIvcHJvYy9zZWxmL2ZkXCIpfSxmaTpmdW5jdGlvbigpe2Yuc3RkaW4/Ti5IZihcIi9kZXZcIixcInN0ZGluXCIsZi5zdGRpbik6Ti5zeW1saW5rKFwiL2Rldi90dHlcIixcclxuICAgICBcIi9kZXYvc3RkaW5cIik7Zi5zdGRvdXQ/Ti5IZihcIi9kZXZcIixcInN0ZG91dFwiLG51bGwsZi5zdGRvdXQpOk4uc3ltbGluayhcIi9kZXYvdHR5XCIsXCIvZGV2L3N0ZG91dFwiKTtmLnN0ZGVycj9OLkhmKFwiL2RldlwiLFwic3RkZXJyXCIsbnVsbCxmLnN0ZGVycik6Ti5zeW1saW5rKFwiL2Rldi90dHkxXCIsXCIvZGV2L3N0ZGVyclwiKTtOLm9wZW4oXCIvZGV2L3N0ZGluXCIsXCJyXCIpO04ub3BlbihcIi9kZXYvc3Rkb3V0XCIsXCJ3XCIpO04ub3BlbihcIi9kZXYvc3RkZXJyXCIsXCJ3XCIpfSxyaDpmdW5jdGlvbigpe04uYWZ8fChOLmFmPWZ1bmN0aW9uKGEsYil7dGhpcy5ub2RlPWI7dGhpcy5LaT1mdW5jdGlvbihjKXt0aGlzLmVmPWN9O3RoaXMuS2koYSk7dGhpcy5tZXNzYWdlPVwiRlMgZXJyb3JcIn0sTi5hZi5wcm90b3R5cGU9RXJyb3IoKSxOLmFmLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1OLmFmLFs0NF0uZm9yRWFjaChmdW5jdGlvbihhKXtOLlFnW2FdPW5ldyBOLmFmKGEpO04uUWdbYV0uc3RhY2s9XCI8Z2VuZXJpYyBlcnJvciwgbm8gc3RhY2s+XCJ9KSl9LFxyXG4gICAgIE5pOmZ1bmN0aW9uKCl7Ti5yaCgpO04uQ2Y9QXJyYXkoNDA5Nik7Ti5qZihPLHt9LFwiL1wiKTtOLmNpKCk7Ti5iaSgpO04uZWkoKTtOLmlpPXtNRU1GUzpPfX0sZ2c6ZnVuY3Rpb24oYSxiLGMpe04uZ2cuVGc9ITA7Ti5yaCgpO2Yuc3RkaW49YXx8Zi5zdGRpbjtmLnN0ZG91dD1ifHxmLnN0ZG91dDtmLnN0ZGVycj1jfHxmLnN0ZGVycjtOLmZpKCl9LHF1aXQ6ZnVuY3Rpb24oKXtOLmdnLlRnPSExO3ZhciBhPWYuX2ZmbHVzaDthJiZhKDApO2ZvcihhPTA7YTxOLnN0cmVhbXMubGVuZ3RoO2ErKyl7dmFyIGI9Ti5zdHJlYW1zW2FdO2ImJk4uY2xvc2UoYil9fSxSZzpmdW5jdGlvbihhLGIpe3ZhciBjPTA7YSYmKGN8PTM2NSk7YiYmKGN8PTE0Nik7cmV0dXJuIGN9LGVqOmZ1bmN0aW9uKGEsYil7YT1OLkxnKGEsYik7aWYoYS5leGlzdHMpcmV0dXJuIGEub2JqZWN0O0ZiKGEuZXJyb3IpO3JldHVybiBudWxsfSxMZzpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1OLmZmKGEse3dmOiFifSk7YT1jLnBhdGh9Y2F0Y2goZSl7fXZhciBkPVxyXG4gICAgIHt3ZzohMSxleGlzdHM6ITEsZXJyb3I6MCxuYW1lOm51bGwscGF0aDpudWxsLG9iamVjdDpudWxsLENpOiExLEVpOm51bGwsRGk6bnVsbH07dHJ5e2M9Ti5mZihhLHtwYXJlbnQ6ITB9KSxkLkNpPSEwLGQuRWk9Yy5wYXRoLGQuRGk9Yy5ub2RlLGQubmFtZT1TYihhKSxjPU4uZmYoYSx7d2Y6IWJ9KSxkLmV4aXN0cz0hMCxkLnBhdGg9Yy5wYXRoLGQub2JqZWN0PWMubm9kZSxkLm5hbWU9Yy5ub2RlLm5hbWUsZC53Zz1cIi9cIj09PWMucGF0aH1jYXRjaChlKXtkLmVycm9yPWUuZWZ9cmV0dXJuIGR9LGNqOmZ1bmN0aW9uKGEsYil7YT1cInN0cmluZ1wiPT09dHlwZW9mIGE/YTpOLklmKGEpO2ZvcihiPWIuc3BsaXQoXCIvXCIpLnJldmVyc2UoKTtiLmxlbmd0aDspe3ZhciBjPWIucG9wKCk7aWYoYyl7dmFyIGQ9VGIoYSxjKTt0cnl7Ti5ta2RpcihkKX1jYXRjaChlKXt9YT1kfX1yZXR1cm4gZH0sZGk6ZnVuY3Rpb24oYSxiLGMsZCxlKXthPVRiKFwic3RyaW5nXCI9PT10eXBlb2YgYT9hOk4uSWYoYSksXHJcbiAgICAgYik7cmV0dXJuIE4uY3JlYXRlKGEsTi5SZyhkLGUpKX0sbWg6ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2E9Yj9UYihcInN0cmluZ1wiPT09dHlwZW9mIGE/YTpOLklmKGEpLGIpOmE7ZD1OLlJnKGQsZSk7ZT1OLmNyZWF0ZShhLGQpO2lmKGMpe2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYyl7YT1BcnJheShjLmxlbmd0aCk7Yj0wO2Zvcih2YXIgaz1jLmxlbmd0aDtiPGs7KytiKWFbYl09Yy5jaGFyQ29kZUF0KGIpO2M9YX1OLmNobW9kKGUsZHwxNDYpO2E9Ti5vcGVuKGUsXCJ3XCIpO04ud3JpdGUoYSxjLDAsYy5sZW5ndGgsMCxnKTtOLmNsb3NlKGEpO04uY2htb2QoZSxkKX1yZXR1cm4gZX0sSGY6ZnVuY3Rpb24oYSxiLGMsZCl7YT1UYihcInN0cmluZ1wiPT09dHlwZW9mIGE/YTpOLklmKGEpLGIpO2I9Ti5SZyghIWMsISFkKTtOLkhmLldnfHwoTi5IZi5XZz02NCk7dmFyIGU9Ti5PZihOLkhmLldnKyssMCk7Ti5kaChlLHtvcGVuOmZ1bmN0aW9uKGcpe2cuc2Vla2FibGU9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7ZCYmXHJcbiAgICAgZC5idWZmZXImJmQuYnVmZmVyLmxlbmd0aCYmZCgxMCl9LHJlYWQ6ZnVuY3Rpb24oZyxrLG0scil7Zm9yKHZhciBxPTAsdD0wO3Q8cjt0Kyspe3RyeXt2YXIgdz1jKCl9Y2F0Y2goQil7dGhyb3cgbmV3IE4uYWYoMjkpO31pZih2b2lkIDA9PT13JiYwPT09cSl0aHJvdyBuZXcgTi5hZig2KTtpZihudWxsPT09d3x8dm9pZCAwPT09dylicmVhaztxKys7a1ttK3RdPXd9cSYmKGcubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSk7cmV0dXJuIHF9LHdyaXRlOmZ1bmN0aW9uKGcsayxtLHIpe2Zvcih2YXIgcT0wO3E8cjtxKyspdHJ5e2Qoa1ttK3FdKX1jYXRjaCh0KXt0aHJvdyBuZXcgTi5hZigyOSk7fXImJihnLm5vZGUudGltZXN0YW1wPURhdGUubm93KCkpO3JldHVybiBxfX0pO3JldHVybiBOLnlnKGEsYixlKX0sdWg6ZnVuY3Rpb24oYSl7aWYoYS5VZ3x8YS50aXx8YS5saW5rfHxhLmJmKXJldHVybiEwO3ZhciBiPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgWE1MSHR0cFJlcXVlc3QpdGhyb3cgRXJyb3IoXCJMYXp5IGxvYWRpbmcgc2hvdWxkIGhhdmUgYmVlbiBwZXJmb3JtZWQgKGNvbnRlbnRzIHNldCkgaW4gY3JlYXRlTGF6eUZpbGUsIGJ1dCBpdCB3YXMgbm90LiBMYXp5IGxvYWRpbmcgb25seSB3b3JrcyBpbiB3ZWIgd29ya2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjIG9uIHRoZSBtYWluIHRocmVhZC5cIik7XHJcbiAgICAgaWYodGEpdHJ5e2EuYmY9JGIodGEoYS51cmwpLCEwKSxhLmdmPWEuYmYubGVuZ3RofWNhdGNoKGMpe2I9ITF9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbm5vdCBsb2FkIHdpdGhvdXQgcmVhZCgpIG9yIFhNTEh0dHBSZXF1ZXN0LlwiKTtifHxGYigyOSk7cmV0dXJuIGJ9LGJqOmZ1bmN0aW9uKGEsYixjLGQsZSl7ZnVuY3Rpb24gZygpe3RoaXMuVmc9ITE7dGhpcy5TZj1bXX1nLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24ocSl7aWYoIShxPnRoaXMubGVuZ3RoLTF8fDA+cSkpe3ZhciB0PXEldGhpcy5jaHVua1NpemU7cmV0dXJuIHRoaXMueWgocS90aGlzLmNodW5rU2l6ZXwwKVt0XX19O2cucHJvdG90eXBlLldoPWZ1bmN0aW9uKHEpe3RoaXMueWg9cX07Zy5wcm90b3R5cGUua2g9ZnVuY3Rpb24oKXt2YXIgcT1uZXcgWE1MSHR0cFJlcXVlc3Q7cS5vcGVuKFwiSEVBRFwiLGMsITEpO3Euc2VuZChudWxsKTtpZighKDIwMDw9cS5zdGF0dXMmJjMwMD5xLnN0YXR1c3x8MzA0PT09cS5zdGF0dXMpKXRocm93IEVycm9yKFwiQ291bGRuJ3QgbG9hZCBcIitcclxuICAgICBjK1wiLiBTdGF0dXM6IFwiK3Euc3RhdHVzKTt2YXIgdD1OdW1iZXIocS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtbGVuZ3RoXCIpKSx3LEI9KHc9cS5nZXRSZXNwb25zZUhlYWRlcihcIkFjY2VwdC1SYW5nZXNcIikpJiZcImJ5dGVzXCI9PT13O3E9KHc9cS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtRW5jb2RpbmdcIikpJiZcImd6aXBcIj09PXc7dmFyIHA9MTA0ODU3NjtCfHwocD10KTt2YXIgeD10aGlzO3guV2goZnVuY3Rpb24oeil7dmFyIEk9eipwLFY9KHorMSkqcC0xO1Y9TWF0aC5taW4oVix0LTEpO2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgeC5TZlt6XSl7dmFyIGZiPXguU2Y7aWYoST5WKXRocm93IEVycm9yKFwiaW52YWxpZCByYW5nZSAoXCIrSStcIiwgXCIrVitcIikgb3Igbm8gYnl0ZXMgcmVxdWVzdGVkIVwiKTtpZihWPnQtMSl0aHJvdyBFcnJvcihcIm9ubHkgXCIrdCtcIiBieXRlcyBhdmFpbGFibGUhIHByb2dyYW1tZXIgZXJyb3IhXCIpO3ZhciBLPW5ldyBYTUxIdHRwUmVxdWVzdDtLLm9wZW4oXCJHRVRcIixcclxuICAgICBjLCExKTt0IT09cCYmSy5zZXRSZXF1ZXN0SGVhZGVyKFwiUmFuZ2VcIixcImJ5dGVzPVwiK0krXCItXCIrVik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJihLLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpO0sub3ZlcnJpZGVNaW1lVHlwZSYmSy5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZFwiKTtLLnNlbmQobnVsbCk7aWYoISgyMDA8PUsuc3RhdHVzJiYzMDA+Sy5zdGF0dXN8fDMwND09PUsuc3RhdHVzKSl0aHJvdyBFcnJvcihcIkNvdWxkbid0IGxvYWQgXCIrYytcIi4gU3RhdHVzOiBcIitLLnN0YXR1cyk7ST12b2lkIDAhPT1LLnJlc3BvbnNlP25ldyBVaW50OEFycmF5KEsucmVzcG9uc2V8fFtdKTokYihLLnJlc3BvbnNlVGV4dHx8XCJcIiwhMCk7ZmJbel09SX1pZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIHguU2Zbel0pdGhyb3cgRXJyb3IoXCJkb1hIUiBmYWlsZWQhXCIpO3JldHVybiB4LlNmW3pdfSk7aWYocXx8IXQpcD10PTEscD10PXRoaXMueWgoMCkubGVuZ3RoLFxyXG4gICAgIGVhKFwiTGF6eUZpbGVzIG9uIGd6aXAgZm9yY2VzIGRvd25sb2FkIG9mIHRoZSB3aG9sZSBmaWxlIHdoZW4gbGVuZ3RoIGlzIGFjY2Vzc2VkXCIpO3RoaXMuVWg9dDt0aGlzLlRoPXA7dGhpcy5WZz0hMH07aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBYTUxIdHRwUmVxdWVzdCl7aWYoIW9hKXRocm93XCJDYW5ub3QgZG8gc3luY2hyb25vdXMgYmluYXJ5IFhIUnMgb3V0c2lkZSB3ZWJ3b3JrZXJzIGluIG1vZGVybiBicm93c2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjXCI7dmFyIGs9bmV3IGc7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoayx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXt0aGlzLlZnfHx0aGlzLmtoKCk7cmV0dXJuIHRoaXMuVWh9fSxjaHVua1NpemU6e2dldDpmdW5jdGlvbigpe3RoaXMuVmd8fHRoaXMua2goKTtyZXR1cm4gdGhpcy5UaH19fSk7az17VWc6ITEsYmY6a319ZWxzZSBrPXtVZzohMSx1cmw6Y307dmFyIG09Ti5kaShhLGIsayxkLFxyXG4gICAgIGUpO2suYmY/bS5iZj1rLmJmOmsudXJsJiYobS5iZj1udWxsLG0udXJsPWsudXJsKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtLHtnZjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmYubGVuZ3RofX19KTt2YXIgcj17fTtPYmplY3Qua2V5cyhtLmRmKS5mb3JFYWNoKGZ1bmN0aW9uKHEpe3ZhciB0PW0uZGZbcV07cltxXT1mdW5jdGlvbigpe2lmKCFOLnVoKG0pKXRocm93IG5ldyBOLmFmKDI5KTtyZXR1cm4gdC5hcHBseShudWxsLGFyZ3VtZW50cyl9fSk7ci5yZWFkPWZ1bmN0aW9uKHEsdCx3LEIscCl7aWYoIU4udWgobSkpdGhyb3cgbmV3IE4uYWYoMjkpO3E9cS5ub2RlLmJmO2lmKHA+PXEubGVuZ3RoKXJldHVybiAwO0I9TWF0aC5taW4ocS5sZW5ndGgtcCxCKTtpZihxLnNsaWNlKWZvcih2YXIgeD0wO3g8Qjt4KyspdFt3K3hdPXFbcCt4XTtlbHNlIGZvcih4PTA7eDxCO3grKyl0W3creF09cS5nZXQocCt4KTtyZXR1cm4gQn07bS5kZj1yO3JldHVybiBtfSxkajpmdW5jdGlvbihhLFxyXG4gICAgIGIsYyxkLGUsZyxrLG0scixxKXtmdW5jdGlvbiB0KEIpe2Z1bmN0aW9uIHAoeil7cSYmcSgpO218fE4ubWgoYSxiLHosZCxlLHIpO2cmJmcoKTtoYigpfXZhciB4PSExO2YucHJlbG9hZFBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbih6KXsheCYmei5jYW5IYW5kbGUodykmJih6LmhhbmRsZShCLHcscCxmdW5jdGlvbigpe2smJmsoKTtoYigpfSkseD0hMCl9KTt4fHxwKEIpfWZjLmdnKCk7dmFyIHc9Yj9WYihUYihhLGIpKTphO2diKCk7XCJzdHJpbmdcIj09dHlwZW9mIGM/ZmMuWGkoYyxmdW5jdGlvbihCKXt0KEIpfSxrKTp0KGMpfSxpbmRleGVkREI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmluZGV4ZWREQnx8d2luZG93Lm1vekluZGV4ZWREQnx8d2luZG93LndlYmtpdEluZGV4ZWREQnx8d2luZG93Lm1zSW5kZXhlZERCfSxnaDpmdW5jdGlvbigpe3JldHVyblwiRU1fRlNfXCIrd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSxoaDoyMCxlZzpcIkZJTEVfREFUQVwiLHdqOmZ1bmN0aW9uKGEsYixcclxuICAgICBjKXtiPWJ8fGZ1bmN0aW9uKCl7fTtjPWN8fGZ1bmN0aW9uKCl7fTt2YXIgZD1OLmluZGV4ZWREQigpO3RyeXt2YXIgZT1kLm9wZW4oTi5naCgpLE4uaGgpfWNhdGNoKGcpe3JldHVybiBjKGcpfWUub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7ZWEoXCJjcmVhdGluZyBkYlwiKTtlLnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShOLmVnKX07ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZz1lLnJlc3VsdC50cmFuc2FjdGlvbihbTi5lZ10sXCJyZWFkd3JpdGVcIiksaz1nLm9iamVjdFN0b3JlKE4uZWcpLG09MCxyPTAscT1hLmxlbmd0aDthLmZvckVhY2goZnVuY3Rpb24odCl7dD1rLnB1dChOLkxnKHQpLm9iamVjdC5iZix0KTt0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe20rKzttK3I9PXEmJigwPT1yP2IoKTpjKCkpfTt0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyKys7bStyPT1xJiYoMD09cj9iKCk6YygpKX19KTtnLm9uZXJyb3I9Y307ZS5vbmVycm9yPWN9LG1qOmZ1bmN0aW9uKGEsYixjKXtiPVxyXG4gICAgIGJ8fGZ1bmN0aW9uKCl7fTtjPWN8fGZ1bmN0aW9uKCl7fTt2YXIgZD1OLmluZGV4ZWREQigpO3RyeXt2YXIgZT1kLm9wZW4oTi5naCgpLE4uaGgpfWNhdGNoKGcpe3JldHVybiBjKGcpfWUub251cGdyYWRlbmVlZGVkPWM7ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZz1lLnJlc3VsdDt0cnl7dmFyIGs9Zy50cmFuc2FjdGlvbihbTi5lZ10sXCJyZWFkb25seVwiKX1jYXRjaCh3KXtjKHcpO3JldHVybn12YXIgbT1rLm9iamVjdFN0b3JlKE4uZWcpLHI9MCxxPTAsdD1hLmxlbmd0aDthLmZvckVhY2goZnVuY3Rpb24odyl7dmFyIEI9bS5nZXQodyk7Qi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtOLkxnKHcpLmV4aXN0cyYmTi51bmxpbmsodyk7Ti5taChSYih3KSxTYih3KSxCLnJlc3VsdCwhMCwhMCwhMCk7cisrO3IrcT09dCYmKDA9PXE/YigpOmMoKSl9O0Iub25lcnJvcj1mdW5jdGlvbigpe3ErKztyK3E9PXQmJigwPT1xP2IoKTpjKCkpfX0pO2sub25lcnJvcj1jfTtlLm9uZXJyb3I9Y319LFxyXG4gICAgIGhjPXt9O1xyXG4gICAgIGZ1bmN0aW9uIGljKGEsYixjKXt0cnl7dmFyIGQ9YShiKX1jYXRjaChlKXtpZihlJiZlLm5vZGUmJlFiKGIpIT09UWIoTi5JZihlLm5vZGUpKSlyZXR1cm4tNTQ7dGhyb3cgZTt9RFtjPj4yXT1kLmRldjtEW2MrND4+Ml09MDtEW2MrOD4+Ml09ZC5pbm87RFtjKzEyPj4yXT1kLm1vZGU7RFtjKzE2Pj4yXT1kLm5saW5rO0RbYysyMD4+Ml09ZC51aWQ7RFtjKzI0Pj4yXT1kLmdpZDtEW2MrMjg+PjJdPWQucmRldjtEW2MrMzI+PjJdPTA7Sj1bZC5zaXplPj4+MCwoSD1kLnNpemUsMTw9K01hdGguYWJzKEgpPzA8SD8oTWF0aC5taW4oK01hdGguZmxvb3IoSC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKChILSsofn5IPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV07RFtjKzQwPj4yXT1KWzBdO0RbYys0ND4+Ml09SlsxXTtEW2MrNDg+PjJdPTQwOTY7RFtjKzUyPj4yXT1kLmJsb2NrcztEW2MrNTY+PjJdPWQuYXRpbWUuZ2V0VGltZSgpLzFFM3wwO0RbYys2MD4+XHJcbiAgICAgMl09MDtEW2MrNjQ+PjJdPWQubXRpbWUuZ2V0VGltZSgpLzFFM3wwO0RbYys2OD4+Ml09MDtEW2MrNzI+PjJdPWQuY3RpbWUuZ2V0VGltZSgpLzFFM3wwO0RbYys3Nj4+Ml09MDtKPVtkLmlubz4+PjAsKEg9ZC5pbm8sMTw9K01hdGguYWJzKEgpPzA8SD8oTWF0aC5taW4oK01hdGguZmxvb3IoSC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKChILSsofn5IPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV07RFtjKzgwPj4yXT1KWzBdO0RbYys4ND4+Ml09SlsxXTtyZXR1cm4gMH12YXIgamM9dm9pZCAwO2Z1bmN0aW9uIFAoKXtqYys9NDtyZXR1cm4gRFtqYy00Pj4yXX1mdW5jdGlvbiBrYyhhKXthPU4uemYoYSk7aWYoIWEpdGhyb3cgbmV3IE4uYWYoOCk7cmV0dXJuIGF9XHJcbiAgICAgZnVuY3Rpb24gbGMoYSxiLGMsZCxlKXtpZihuKXJldHVybiBNKDMsMSxhLGIsYyxkLGUpO3RyeXtlPTA7Zm9yKHZhciBnPWI/RFtiPj4yXTowLGs9Yj9EW2IrND4+Ml06MCxtPWM/RFtjPj4yXTowLHI9Yz9EW2MrND4+Ml06MCxxPWQ/RFtkPj4yXTowLHQ9ZD9EW2QrND4+Ml06MCx3PTAsQj0wLHA9MCx4PTAsej0wLEk9MCxWPShiP0RbYj4+Ml06MCl8KGM/RFtjPj4yXTowKXwoZD9EW2Q+PjJdOjApLGZiPShiP0RbYis0Pj4yXTowKXwoYz9EW2MrND4+Ml06MCl8KGQ/RFtkKzQ+PjJdOjApLEs9MDtLPGE7SysrKXt2YXIgWD0xPDxLJTMyO2lmKDMyPks/ViZYOmZiJlgpe3ZhciBoYT1OLnpmKEspO2lmKCFoYSl0aHJvdyBuZXcgTi5hZig4KTt2YXIgbmE9NTtoYS5kZi5aZiYmKG5hPWhhLmRmLlpmKGhhKSk7bmEmMSYmKDMyPks/ZyZYOmsmWCkmJigzMj5LP3d8PVg6Qnw9WCxlKyspO25hJjQmJigzMj5LP20mWDpyJlgpJiYoMzI+Sz9wfD1YOnh8PVgsZSsrKTtuYSYyJiYoMzI+Sz9xJlg6XHJcbiAgICAgdCZYKSYmKDMyPks/enw9WDpJfD1YLGUrKyl9fWImJihEW2I+PjJdPXcsRFtiKzQ+PjJdPUIpO2MmJihEW2M+PjJdPXAsRFtjKzQ+PjJdPXgpO2QmJihEW2Q+PjJdPXosRFtkKzQ+PjJdPUkpO3JldHVybiBlfWNhdGNoKHVhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJnVhIGluc3RhbmNlb2YgTi5hZnx8dSh1YSksLXVhLmVmfX1mdW5jdGlvbiBtYyhhLGIpe2lmKG4pcmV0dXJuIE0oNCwxLGEsYik7dHJ5e2E9QShhKTtpZihiJi04KXZhciBjPS0yODtlbHNle3ZhciBkOyhkPU4uZmYoYSx7d2Y6ITB9KS5ub2RlKT8oYT1cIlwiLGImNCYmKGErPVwiclwiKSxiJjImJihhKz1cIndcIiksYiYxJiYoYSs9XCJ4XCIpLGM9YSYmTi5KZihkLGEpPy0yOjApOmM9LTQ0fXJldHVybiBjfWNhdGNoKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmZSBpbnN0YW5jZW9mIE4uYWZ8fHUoZSksLWUuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIG5jKGEsYixjKXtpZihuKXJldHVybiBNKDUsMSxhLGIsYyk7amM9Yzt0cnl7dmFyIGQ9a2MoYSk7c3dpdGNoKGIpe2Nhc2UgMDp2YXIgZT1QKCk7cmV0dXJuIDA+ZT8tMjg6Ti5vcGVuKGQucGF0aCxkLmZsYWdzLDAsZSkuZmQ7Y2FzZSAxOmNhc2UgMjpyZXR1cm4gMDtjYXNlIDM6cmV0dXJuIGQuZmxhZ3M7Y2FzZSA0OnJldHVybiBlPVAoKSxkLmZsYWdzfD1lLDA7Y2FzZSAxMjpyZXR1cm4gZT1QKCksU2FbZSswPj4xXT0yLDA7Y2FzZSAxMzpjYXNlIDE0OnJldHVybiAwO2Nhc2UgMTY6Y2FzZSA4OnJldHVybi0yODtjYXNlIDk6cmV0dXJuIEZiKDI4KSwtMTtkZWZhdWx0OnJldHVybi0yOH19Y2F0Y2goZyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZnIGluc3RhbmNlb2YgTi5hZnx8dShnKSwtZy5lZn19XHJcbiAgICAgZnVuY3Rpb24gb2MoYSxiKXtpZihuKXJldHVybiBNKDYsMSxhLGIpO3RyeXt2YXIgYz1rYyhhKTtyZXR1cm4gaWMoTi5zdGF0LGMucGF0aCxiKX1jYXRjaChkKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmQgaW5zdGFuY2VvZiBOLmFmfHx1KGQpLC1kLmVmfX1cclxuICAgICBmdW5jdGlvbiBwYyhhLGIsYyl7aWYobilyZXR1cm4gTSg3LDEsYSxiLGMpO3RyeXt2YXIgZD1rYyhhKTtkLkxmfHwoZC5MZj1OLnJlYWRkaXIoZC5wYXRoKSk7YT0wO2Zvcih2YXIgZT1OLnRmKGQsMCwxKSxnPU1hdGguZmxvb3IoZS8yODApO2c8ZC5MZi5sZW5ndGgmJmErMjgwPD1jOyl7dmFyIGs9ZC5MZltnXTtpZihcIi5cIj09PWtbMF0pe3ZhciBtPTE7dmFyIHI9NH1lbHNle3ZhciBxPU4uQmYoZC5ub2RlLGspO209cS5pZDtyPU4uaGcocS5tb2RlKT8yOk4ua2YocS5tb2RlKT80Ok4uTWYocS5tb2RlKT8xMDo4fUo9W20+Pj4wLChIPW0sMTw9K01hdGguYWJzKEgpPzA8SD8oTWF0aC5taW4oK01hdGguZmxvb3IoSC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKChILSsofn5IPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV07RFtiK2E+PjJdPUpbMF07RFtiK2ErND4+Ml09SlsxXTtKPVsyODAqKGcrMSk+Pj4wLChIPTI4MCooZysxKSwxPD0rTWF0aC5hYnMoSCk/XHJcbiAgICAgMDxIPyhNYXRoLm1pbigrTWF0aC5mbG9vcihILzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTUpfDApPj4+MDp+fitNYXRoLmNlaWwoKEgtKyh+fkg+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApXTtEW2IrYSs4Pj4yXT1KWzBdO0RbYithKzEyPj4yXT1KWzFdO1NhW2IrYSsxNj4+MV09MjgwO3ZbYithKzE4Pj4wXT1yO0lhKGssYithKzE5LDI1Nik7YSs9MjgwO2crPTF9Ti50ZihkLDI4MCpnLDApO3JldHVybiBhfWNhdGNoKHQpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmdCBpbnN0YW5jZW9mIE4uYWZ8fHUodCksLXQuZWZ9fWZ1bmN0aW9uIHFjKGEsYil7aWYobilyZXR1cm4gTSg4LDEsYSxiKTt0cnl7cmV0dXJuIHJjKGIsMCwxMzYpLERbYj4+Ml09MSxEW2IrND4+Ml09MixEW2IrOD4+Ml09MyxEW2IrMTI+PjJdPTQsMH1jYXRjaChjKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmMgaW5zdGFuY2VvZiBOLmFmfHx1KGMpLC1jLmVmfX1cclxuICAgICBmdW5jdGlvbiBzYyhhLGIsYyl7aWYobilyZXR1cm4gTSg5LDEsYSxiLGMpO2pjPWM7dHJ5e3ZhciBkPWtjKGEpO3N3aXRjaChiKXtjYXNlIDIxNTA5OmNhc2UgMjE1MDU6cmV0dXJuIGQudHR5PzA6LTU5O2Nhc2UgMjE1MTA6Y2FzZSAyMTUxMTpjYXNlIDIxNTEyOmNhc2UgMjE1MDY6Y2FzZSAyMTUwNzpjYXNlIDIxNTA4OnJldHVybiBkLnR0eT8wOi01OTtjYXNlIDIxNTE5OmlmKCFkLnR0eSlyZXR1cm4tNTk7dmFyIGU9UCgpO3JldHVybiBEW2U+PjJdPTA7Y2FzZSAyMTUyMDpyZXR1cm4gZC50dHk/LTI4Oi01OTtjYXNlIDIxNTMxOnJldHVybiBlPVAoKSxOLlVmKGQsYixlKTtjYXNlIDIxNTIzOnJldHVybiBkLnR0eT8wOi01OTtjYXNlIDIxNTI0OnJldHVybiBkLnR0eT8wOi01OTtkZWZhdWx0OnUoXCJiYWQgaW9jdGwgc3lzY2FsbCBcIitiKX19Y2F0Y2goZyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZnIGluc3RhbmNlb2YgTi5hZnx8dShnKSwtZy5lZn19XHJcbiAgICAgZnVuY3Rpb24gdGMoYSxiKXtpZihuKXJldHVybiBNKDEwLDEsYSxiKTt0cnl7cmV0dXJuIGE9QShhKSxpYyhOLmxzdGF0LGEsYil9Y2F0Y2goYyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZjIGluc3RhbmNlb2YgTi5hZnx8dShjKSwtYy5lZn19ZnVuY3Rpb24gdWMoYSxiKXtpZihuKXJldHVybiBNKDExLDEsYSxiKTt0cnl7cmV0dXJuIGE9QShhKSxhPVFiKGEpLFwiL1wiPT09YVthLmxlbmd0aC0xXSYmKGE9YS5zdWJzdHIoMCxhLmxlbmd0aC0xKSksTi5ta2RpcihhLGIsMCksMH1jYXRjaChjKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmMgaW5zdGFuY2VvZiBOLmFmfHx1KGMpLC1jLmVmfX1cclxuICAgICBmdW5jdGlvbiB2YyhhLGIsYyxkLGUsZyl7aWYobilyZXR1cm4gTSgxMiwxLGEsYixjLGQsZSxnKTt0cnl7YTp7Zzw8PTEyO3ZhciBrPSExO2lmKDAhPT0oZCYxNikmJjAhPT1hJTE2Mzg0KXZhciBtPS0yODtlbHNle2lmKDAhPT0oZCYzMikpe3ZhciByPXdjKDE2Mzg0LGIpO2lmKCFyKXttPS00ODticmVhayBhfXJjKHIsMCxiKTtrPSEwfWVsc2V7dmFyIHE9Ti56ZihlKTtpZighcSl7bT0tODticmVhayBhfXZhciB0PU4uV2YocSxhLGIsZyxjLGQpO3I9dC5IaTtrPXQuSmd9aGNbcl09e3hpOnIsdWk6YixKZzprLGZkOmUsR2k6YyxmbGFnczpkLG9mZnNldDpnfTttPXJ9fXJldHVybiBtfWNhdGNoKHcpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmdyBpbnN0YW5jZW9mIE4uYWZ8fHUodyksLXcuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIHhjKGEsYil7aWYobilyZXR1cm4gTSgxMywxLGEsYik7dHJ5e2lmKC0xPT09KGF8MCl8fDA9PT1iKXZhciBjPS0yODtlbHNle3ZhciBkPWhjW2FdO2lmKGQmJmI9PT1kLnVpKXt2YXIgZT1OLnpmKGQuZmQpO2lmKGQuR2kmMil7dmFyIGc9ZC5mbGFncyxrPWQub2Zmc2V0LG09S2Euc2xpY2UoYSxhK2IpO04uWGYoZSxtLGssYixnKX1oY1thXT1udWxsO2QuSmcmJkJiKGQueGkpfWM9MH1yZXR1cm4gY31jYXRjaChyKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJnIgaW5zdGFuY2VvZiBOLmFmfHx1KHIpLC1yLmVmfX1mdW5jdGlvbiB5YyhhLGIsYyl7aWYobilyZXR1cm4gTSgxNCwxLGEsYixjKTtqYz1jO3RyeXt2YXIgZD1BKGEpLGU9UCgpO3JldHVybiBOLm9wZW4oZCxiLGUpLmZkfWNhdGNoKGcpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmZyBpbnN0YW5jZW9mIE4uYWZ8fHUoZyksLWcuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIHpjKGEsYixjKXtpZihuKXJldHVybiBNKDE1LDEsYSxiLGMpO3RyeXtmb3IodmFyIGQ9Yz0wO2Q8YjtkKyspe3ZhciBlPWErOCpkLGc9U2FbZSs0Pj4xXSxrPTMyLG09Ti56ZihEW2U+PjJdKTttJiYoaz01LG0uZGYuWmYmJihrPW0uZGYuWmYobSkpKTsoayY9Z3wyNCkmJmMrKztTYVtlKzY+PjFdPWt9cmV0dXJuIGN9Y2F0Y2gocil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZyIGluc3RhbmNlb2YgTi5hZnx8dShyKSwtci5lZn19ZnVuY3Rpb24gQWMoYSxiLGMsZCl7aWYobilyZXR1cm4gTSgxNiwxLGEsYixjLGQpO3RyeXtyZXR1cm4gZCYmKERbZD4+Ml09LTEsRFtkKzQ+PjJdPS0xLERbZCs4Pj4yXT0tMSxEW2QrMTI+PjJdPS0xKSwwfWNhdGNoKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmZSBpbnN0YW5jZW9mIE4uYWZ8fHUoZSksLWUuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIEJjKGEsYixjKXtpZihuKXJldHVybiBNKDE3LDEsYSxiLGMpO3RyeXt2YXIgZD1rYyhhKTtyZXR1cm4gTi5yZWFkKGQsdixiLGMpfWNhdGNoKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmZSBpbnN0YW5jZW9mIE4uYWZ8fHUoZSksLWUuZWZ9fWZ1bmN0aW9uIENjKGEsYil7aWYobilyZXR1cm4gTSgxOCwxLGEsYik7dHJ5e3JldHVybiBhPUEoYSksYj1BKGIpLE4ucmVuYW1lKGEsYiksMH1jYXRjaChjKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmMgaW5zdGFuY2VvZiBOLmFmfHx1KGMpLC1jLmVmfX1mdW5jdGlvbiBEYyhhKXtpZihuKXJldHVybiBNKDE5LDEsYSk7dHJ5e3JldHVybiBhPUEoYSksTi5ybWRpcihhKSwwfWNhdGNoKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmYiBpbnN0YW5jZW9mIE4uYWZ8fHUoYiksLWIuZWZ9fVxyXG4gICAgIHZhciBRPXtqZjpmdW5jdGlvbigpe2Yud2Vic29ja2V0PWYud2Vic29ja2V0JiZcIm9iamVjdFwiPT09dHlwZW9mIGYud2Vic29ja2V0P2Yud2Vic29ja2V0Ont9O2Yud2Vic29ja2V0LklnPXt9O2Yud2Vic29ja2V0Lm9uPWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT09dHlwZW9mIGImJih0aGlzLklnW2FdPWIpO3JldHVybiB0aGlzfTtmLndlYnNvY2tldC5lbWl0PWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMuSWdbYV0mJnRoaXMuSWdbYV0uY2FsbCh0aGlzLGIpfTtyZXR1cm4gTi5jcmVhdGVOb2RlKG51bGwsXCIvXCIsMTY4OTUsMCl9LGNyZWF0ZVNvY2tldDpmdW5jdGlvbihhLGIsYyl7YiY9LTUyNjMzNztjJiZhc3NlcnQoMT09Yj09KDY9PWMpKTthPXtmYW1pbHk6YSx0eXBlOmIscHJvdG9jb2w6YyxsZjpudWxsLGVycm9yOm51bGwsbmc6e30scGVuZGluZzpbXSxhZzpbXSxwZjpRLnFmfTtiPVEuemcoKTtjPU4uY3JlYXRlTm9kZShRLnJvb3QsYiw0OTE1MiwwKTtcclxuICAgICBjLmJnPWE7Yj1OLm5oKHtwYXRoOmIsbm9kZTpjLGZsYWdzOk4uRGgoXCJyK1wiKSxzZWVrYWJsZTohMSxkZjpRLmRmfSk7YS5zdHJlYW09YjtyZXR1cm4gYX0sbWk6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9Ti56ZihhKSkmJk4uaXNTb2NrZXQoYS5ub2RlLm1vZGUpP2Eubm9kZS5iZzpudWxsfSxkZjp7WmY6ZnVuY3Rpb24oYSl7YT1hLm5vZGUuYmc7cmV0dXJuIGEucGYuWmYoYSl9LFVmOmZ1bmN0aW9uKGEsYixjKXthPWEubm9kZS5iZztyZXR1cm4gYS5wZi5VZihhLGIsYyl9LHJlYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLm5vZGUuYmc7ZD1hLnBmLmJoKGEsZCk7aWYoIWQpcmV0dXJuIDA7Yi5zZXQoZC5idWZmZXIsYyk7cmV0dXJuIGQuYnVmZmVyLmxlbmd0aH0sd3JpdGU6ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLm5vZGUuYmc7cmV0dXJuIGEucGYuZmgoYSxiLGMsZCl9LGNsb3NlOmZ1bmN0aW9uKGEpe2E9YS5ub2RlLmJnO2EucGYuY2xvc2UoYSl9fSx6ZzpmdW5jdGlvbigpe1EuemcuY3VycmVudHx8XHJcbiAgICAgKFEuemcuY3VycmVudD0wKTtyZXR1cm5cInNvY2tldFtcIitRLnpnLmN1cnJlbnQrKyArXCJdXCJ9LHFmOnt0ZzpmdW5jdGlvbihhLGIsYyl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBiKXt2YXIgZD1iO2M9Yj1udWxsfWlmKGQpaWYoZC5fc29ja2V0KWI9ZC5fc29ja2V0LnJlbW90ZUFkZHJlc3MsYz1kLl9zb2NrZXQucmVtb3RlUG9ydDtlbHNle2M9L3dzW3NdPzpcXC9cXC8oW146XSspOihcXGQrKS8uZXhlYyhkLnVybCk7aWYoIWMpdGhyb3cgRXJyb3IoXCJXZWJTb2NrZXQgVVJMIG11c3QgYmUgaW4gdGhlIGZvcm1hdCB3cyhzKTovL2FkZHJlc3M6cG9ydFwiKTtiPWNbMV07Yz1wYXJzZUludChjWzJdLDEwKX1lbHNlIHRyeXt2YXIgZT1mLndlYnNvY2tldCYmXCJvYmplY3RcIj09PXR5cGVvZiBmLndlYnNvY2tldCxnPVwid3M6I1wiLnJlcGxhY2UoXCIjXCIsXCIvL1wiKTtlJiZcInN0cmluZ1wiPT09dHlwZW9mIGYud2Vic29ja2V0LnVybCYmKGc9Zi53ZWJzb2NrZXQudXJsKTtpZihcIndzOi8vXCI9PT1nfHxcIndzczovL1wiPT09XHJcbiAgICAgZyl7dmFyIGs9Yi5zcGxpdChcIi9cIik7Zz1nK2tbMF0rXCI6XCIrYytcIi9cIitrLnNsaWNlKDEpLmpvaW4oXCIvXCIpfWs9XCJiaW5hcnlcIjtlJiZcInN0cmluZ1wiPT09dHlwZW9mIGYud2Vic29ja2V0LnN1YnByb3RvY29sJiYoaz1mLndlYnNvY2tldC5zdWJwcm90b2NvbCk7dmFyIG09dm9pZCAwO1wibnVsbFwiIT09ayYmKGs9ay5yZXBsYWNlKC9eICt8ICskL2csXCJcIikuc3BsaXQoLyAqLCAqLyksbT1sP3twcm90b2NvbDprLnRvU3RyaW5nKCl9OmspO2UmJm51bGw9PT1mLndlYnNvY2tldC5zdWJwcm90b2NvbCYmKG09dm9pZCAwKTtkPW5ldyAobD9yZXF1aXJlKFwid3NcIik6V2ViU29ja2V0KShnLG0pO2QuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCJ9Y2F0Y2gocil7dGhyb3cgbmV3IE4uYWYoMjMpO31iPXtoZjpiLHBvcnQ6Yyxzb2NrZXQ6ZCx1ZzpbXX07US5xZi5qaChhLGIpO1EucWYubmkoYSxiKTsyPT09YS50eXBlJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEuUWYmJmIudWcucHVzaChuZXcgVWludDhBcnJheShbMjU1LFxyXG4gICAgIDI1NSwyNTUsMjU1LDExMiwxMTEsMTE0LDExNiwoYS5RZiY2NTI4MCk+PjgsYS5RZiYyNTVdKSk7cmV0dXJuIGJ9LHZnOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5uZ1tiK1wiOlwiK2NdfSxqaDpmdW5jdGlvbihhLGIpe2EubmdbYi5oZitcIjpcIitiLnBvcnRdPWJ9LEhoOmZ1bmN0aW9uKGEsYil7ZGVsZXRlIGEubmdbYi5oZitcIjpcIitiLnBvcnRdfSxuaTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtmLndlYnNvY2tldC5lbWl0KFwib3BlblwiLGEuc3RyZWFtLmZkKTt0cnl7Zm9yKHZhciBnPWIudWcuc2hpZnQoKTtnOyliLnNvY2tldC5zZW5kKGcpLGc9Yi51Zy5zaGlmdCgpfWNhdGNoKGspe2Iuc29ja2V0LmNsb3NlKCl9fWZ1bmN0aW9uIGQoZyl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBnKWc9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGcpO2Vsc2V7YXNzZXJ0KHZvaWQgMCE9PWcuYnl0ZUxlbmd0aCk7aWYoMD09Zy5ieXRlTGVuZ3RoKXJldHVybjtnPW5ldyBVaW50OEFycmF5KGcpfXZhciBrPVxyXG4gICAgIGU7ZT0hMTtrJiYxMD09PWcubGVuZ3RoJiYyNTU9PT1nWzBdJiYyNTU9PT1nWzFdJiYyNTU9PT1nWzJdJiYyNTU9PT1nWzNdJiYxMTI9PT1nWzRdJiYxMTE9PT1nWzVdJiYxMTQ9PT1nWzZdJiYxMTY9PT1nWzddPyhnPWdbOF08PDh8Z1s5XSxRLnFmLkhoKGEsYiksYi5wb3J0PWcsUS5xZi5qaChhLGIpKTooYS5hZy5wdXNoKHtoZjpiLmhmLHBvcnQ6Yi5wb3J0LGRhdGE6Z30pLGYud2Vic29ja2V0LmVtaXQoXCJtZXNzYWdlXCIsYS5zdHJlYW0uZmQpKX12YXIgZT0hMDtsPyhiLnNvY2tldC5vbihcIm9wZW5cIixjKSxiLnNvY2tldC5vbihcIm1lc3NhZ2VcIixmdW5jdGlvbihnLGspe2suWWkmJmQoKG5ldyBVaW50OEFycmF5KGcpKS5idWZmZXIpfSksYi5zb2NrZXQub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7Zi53ZWJzb2NrZXQuZW1pdChcImNsb3NlXCIsYS5zdHJlYW0uZmQpfSksYi5zb2NrZXQub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7YS5lcnJvcj0xNDtmLndlYnNvY2tldC5lbWl0KFwiZXJyb3JcIixbYS5zdHJlYW0uZmQsXHJcbiAgICAgYS5lcnJvcixcIkVDT05OUkVGVVNFRDogQ29ubmVjdGlvbiByZWZ1c2VkXCJdKX0pKTooYi5zb2NrZXQub25vcGVuPWMsYi5zb2NrZXQub25jbG9zZT1mdW5jdGlvbigpe2Yud2Vic29ja2V0LmVtaXQoXCJjbG9zZVwiLGEuc3RyZWFtLmZkKX0sYi5zb2NrZXQub25tZXNzYWdlPWZ1bmN0aW9uKGcpe2QoZy5kYXRhKX0sYi5zb2NrZXQub25lcnJvcj1mdW5jdGlvbigpe2EuZXJyb3I9MTQ7Zi53ZWJzb2NrZXQuZW1pdChcImVycm9yXCIsW2Euc3RyZWFtLmZkLGEuZXJyb3IsXCJFQ09OTlJFRlVTRUQ6IENvbm5lY3Rpb24gcmVmdXNlZFwiXSl9KX0sWmY6ZnVuY3Rpb24oYSl7aWYoMT09PWEudHlwZSYmYS5sZilyZXR1cm4gYS5wZW5kaW5nLmxlbmd0aD82NTowO3ZhciBiPTAsYz0xPT09YS50eXBlP1EucWYudmcoYSxhLnNmLGEudmYpOm51bGw7aWYoYS5hZy5sZW5ndGh8fCFjfHxjJiZjLnNvY2tldC5yZWFkeVN0YXRlPT09Yy5zb2NrZXQuQ0xPU0lOR3x8YyYmYy5zb2NrZXQucmVhZHlTdGF0ZT09PWMuc29ja2V0LkNMT1NFRClifD1cclxuICAgICA2NTtpZighY3x8YyYmYy5zb2NrZXQucmVhZHlTdGF0ZT09PWMuc29ja2V0Lk9QRU4pYnw9NDtpZihjJiZjLnNvY2tldC5yZWFkeVN0YXRlPT09Yy5zb2NrZXQuQ0xPU0lOR3x8YyYmYy5zb2NrZXQucmVhZHlTdGF0ZT09PWMuc29ja2V0LkNMT1NFRClifD0xNjtyZXR1cm4gYn0sVWY6ZnVuY3Rpb24oYSxiLGMpe3N3aXRjaChiKXtjYXNlIDIxNTMxOnJldHVybiBiPTAsYS5hZy5sZW5ndGgmJihiPWEuYWdbMF0uZGF0YS5sZW5ndGgpLERbYz4+Ml09YiwwO2RlZmF1bHQ6cmV0dXJuIDI4fX0sY2xvc2U6ZnVuY3Rpb24oYSl7aWYoYS5sZil7dHJ5e2EubGYuY2xvc2UoKX1jYXRjaChlKXt9YS5sZj1udWxsfWZvcih2YXIgYj1PYmplY3Qua2V5cyhhLm5nKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWEubmdbYltjXV07dHJ5e2Quc29ja2V0LmNsb3NlKCl9Y2F0Y2goZSl7fVEucWYuSGgoYSxkKX1yZXR1cm4gMH0sYmluZDpmdW5jdGlvbihhLGIsYyl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhLkJnfHxcclxuICAgICBcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEuUWYpdGhyb3cgbmV3IE4uYWYoMjgpO2EuQmc9YjthLlFmPWM7aWYoMj09PWEudHlwZSl7YS5sZiYmKGEubGYuY2xvc2UoKSxhLmxmPW51bGwpO3RyeXthLnBmLmxpc3RlbihhLDApfWNhdGNoKGQpe2lmKCEoZCBpbnN0YW5jZW9mIE4uYWYpKXRocm93IGQ7aWYoMTM4IT09ZC5lZil0aHJvdyBkO319fSxjb25uZWN0OmZ1bmN0aW9uKGEsYixjKXtpZihhLmxmKXRocm93IG5ldyBOLmFmKDEzOCk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhLnNmJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEudmYpe3ZhciBkPVEucWYudmcoYSxhLnNmLGEudmYpO2lmKGQpe2lmKGQuc29ja2V0LnJlYWR5U3RhdGU9PT1kLnNvY2tldC5DT05ORUNUSU5HKXRocm93IG5ldyBOLmFmKDcpO3Rocm93IG5ldyBOLmFmKDMwKTt9fWI9US5xZi50ZyhhLGIsYyk7YS5zZj1iLmhmO2EudmY9Yi5wb3J0O3Rocm93IG5ldyBOLmFmKDI2KTt9LGxpc3RlbjpmdW5jdGlvbihhKXtpZighbCl0aHJvdyBuZXcgTi5hZigxMzgpO1xyXG4gICAgIGlmKGEubGYpdGhyb3cgbmV3IE4uYWYoMjgpO3ZhciBiPXJlcXVpcmUoXCJ3c1wiKS5TZXJ2ZXI7YS5sZj1uZXcgYih7aG9zdDphLkJnLHBvcnQ6YS5RZn0pO2Yud2Vic29ja2V0LmVtaXQoXCJsaXN0ZW5cIixhLnN0cmVhbS5mZCk7YS5sZi5vbihcImNvbm5lY3Rpb25cIixmdW5jdGlvbihjKXtpZigxPT09YS50eXBlKXt2YXIgZD1RLmNyZWF0ZVNvY2tldChhLmZhbWlseSxhLnR5cGUsYS5wcm90b2NvbCk7Yz1RLnFmLnRnKGQsYyk7ZC5zZj1jLmhmO2QudmY9Yy5wb3J0O2EucGVuZGluZy5wdXNoKGQpO2Yud2Vic29ja2V0LmVtaXQoXCJjb25uZWN0aW9uXCIsZC5zdHJlYW0uZmQpfWVsc2UgUS5xZi50ZyhhLGMpLGYud2Vic29ja2V0LmVtaXQoXCJjb25uZWN0aW9uXCIsYS5zdHJlYW0uZmQpfSk7YS5sZi5vbihcImNsb3NlZFwiLGZ1bmN0aW9uKCl7Zi53ZWJzb2NrZXQuZW1pdChcImNsb3NlXCIsYS5zdHJlYW0uZmQpO2EubGY9bnVsbH0pO2EubGYub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7YS5lcnJvcj0yMztcclxuICAgICBmLndlYnNvY2tldC5lbWl0KFwiZXJyb3JcIixbYS5zdHJlYW0uZmQsYS5lcnJvcixcIkVIT1NUVU5SRUFDSDogSG9zdCBpcyB1bnJlYWNoYWJsZVwiXSl9KX0sYWNjZXB0OmZ1bmN0aW9uKGEpe2lmKCFhLmxmKXRocm93IG5ldyBOLmFmKDI4KTt2YXIgYj1hLnBlbmRpbmcuc2hpZnQoKTtiLnN0cmVhbS5mbGFncz1hLnN0cmVhbS5mbGFncztyZXR1cm4gYn0saWo6ZnVuY3Rpb24oYSxiKXtpZihiKXtpZih2b2lkIDA9PT1hLnNmfHx2b2lkIDA9PT1hLnZmKXRocm93IG5ldyBOLmFmKDUzKTtiPWEuc2Y7YT1hLnZmfWVsc2UgYj1hLkJnfHwwLGE9YS5RZnx8MDtyZXR1cm57aGY6Yixwb3J0OmF9fSxmaDpmdW5jdGlvbihhLGIsYyxkLGUsZyl7aWYoMj09PWEudHlwZSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09ZyllPWEuc2YsZz1hLnZmO2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PWcpdGhyb3cgbmV3IE4uYWYoMTcpO31lbHNlIGU9YS5zZixnPWEudmY7dmFyIGs9US5xZi52ZyhhLGUsZyk7aWYoMT09PVxyXG4gICAgIGEudHlwZSl7aWYoIWt8fGsuc29ja2V0LnJlYWR5U3RhdGU9PT1rLnNvY2tldC5DTE9TSU5HfHxrLnNvY2tldC5yZWFkeVN0YXRlPT09ay5zb2NrZXQuQ0xPU0VEKXRocm93IG5ldyBOLmFmKDUzKTtpZihrLnNvY2tldC5yZWFkeVN0YXRlPT09ay5zb2NrZXQuQ09OTkVDVElORyl0aHJvdyBuZXcgTi5hZig2KTt9QXJyYXlCdWZmZXIuaXNWaWV3KGIpJiYoYys9Yi5ieXRlT2Zmc2V0LGI9Yi5idWZmZXIpO3ZhciBtO2IgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcj9tPShuZXcgVWludDhBcnJheShuZXcgVWludDhBcnJheShiLnNsaWNlKGMsYytkKSkpKS5idWZmZXI6bT1iLnNsaWNlKGMsYytkKTtpZigyPT09YS50eXBlJiYoIWt8fGsuc29ja2V0LnJlYWR5U3RhdGUhPT1rLnNvY2tldC5PUEVOKSlyZXR1cm4gayYmay5zb2NrZXQucmVhZHlTdGF0ZSE9PWsuc29ja2V0LkNMT1NJTkcmJmsuc29ja2V0LnJlYWR5U3RhdGUhPT1rLnNvY2tldC5DTE9TRUR8fChrPVEucWYudGcoYSxlLFxyXG4gICAgIGcpKSxrLnVnLnB1c2gobSksZDt0cnl7cmV0dXJuIGsuc29ja2V0LnNlbmQobSksZH1jYXRjaChyKXt0aHJvdyBuZXcgTi5hZigyOCk7fX0sYmg6ZnVuY3Rpb24oYSxiKXtpZigxPT09YS50eXBlJiZhLmxmKXRocm93IG5ldyBOLmFmKDUzKTt2YXIgYz1hLmFnLnNoaWZ0KCk7aWYoIWMpe2lmKDE9PT1hLnR5cGUpe2lmKGE9US5xZi52ZyhhLGEuc2YsYS52Zikpe2lmKGEuc29ja2V0LnJlYWR5U3RhdGU9PT1hLnNvY2tldC5DTE9TSU5HfHxhLnNvY2tldC5yZWFkeVN0YXRlPT09YS5zb2NrZXQuQ0xPU0VEKXJldHVybiBudWxsO3Rocm93IG5ldyBOLmFmKDYpO310aHJvdyBuZXcgTi5hZig1Myk7fXRocm93IG5ldyBOLmFmKDYpO312YXIgZD1jLmRhdGEuYnl0ZUxlbmd0aHx8Yy5kYXRhLmxlbmd0aCxlPWMuZGF0YS5ieXRlT2Zmc2V0fHwwLGc9Yy5kYXRhLmJ1ZmZlcnx8Yy5kYXRhO2I9TWF0aC5taW4oYixkKTt2YXIgaz17YnVmZmVyOm5ldyBVaW50OEFycmF5KGcsZSxiKSxoZjpjLmhmLFxyXG4gICAgIHBvcnQ6Yy5wb3J0fTsxPT09YS50eXBlJiZiPGQmJihjLmRhdGE9bmV3IFVpbnQ4QXJyYXkoZyxlK2IsZC1iKSxhLmFnLnVuc2hpZnQoYykpO3JldHVybiBrfX19O2Z1bmN0aW9uIEVjKGEpe2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBiPTA7ND5iO2IrKyl7dmFyIGM9TnVtYmVyKGFbYl0pO2lmKGlzTmFOKGMpKXJldHVybiBudWxsO2FbYl09Y31yZXR1cm4oYVswXXxhWzFdPDw4fGFbMl08PDE2fGFbM108PDI0KT4+PjB9XHJcbiAgICAgZnVuY3Rpb24gRmMoYSl7dmFyIGIsYyxkPVtdO2lmKCEvXigoPz0uKjo6KSg/IS4qOjouKzo6KSg6Oik/KFtcXGRBLUZdezEsNH06KDp8XFxiKXwpezV9fChbXFxkQS1GXXsxLDR9Oil7Nn0pKCgoW1xcZEEtRl17MSw0fSgoPyFcXDMpOjp8OlxcYnwkKSl8KD8hXFwyXFwzKSl7Mn18KCgoMlswLTRdfDFcXGR8WzEtOV0pP1xcZHwyNVswLTVdKVxcLj9cXGIpezR9KSQvaS50ZXN0KGEpKXJldHVybiBudWxsO2lmKFwiOjpcIj09PWEpcmV0dXJuWzAsMCwwLDAsMCwwLDAsMF07YT0wPT09YS5pbmRleE9mKFwiOjpcIik/YS5yZXBsYWNlKFwiOjpcIixcIlo6XCIpOmEucmVwbGFjZShcIjo6XCIsXCI6WjpcIik7MDxhLmluZGV4T2YoXCIuXCIpPyhhPWEucmVwbGFjZSgvWy5dL2csXCI6XCIpLGE9YS5zcGxpdChcIjpcIiksYVthLmxlbmd0aC00XT1wYXJzZUludChhW2EubGVuZ3RoLTRdKSsyNTYqcGFyc2VJbnQoYVthLmxlbmd0aC0zXSksYVthLmxlbmd0aC0zXT1wYXJzZUludChhW2EubGVuZ3RoLTJdKSsyNTYqcGFyc2VJbnQoYVthLmxlbmd0aC1cclxuICAgICAxXSksYT1hLnNsaWNlKDAsYS5sZW5ndGgtMikpOmE9YS5zcGxpdChcIjpcIik7Zm9yKGI9Yz0wO2I8YS5sZW5ndGg7YisrKWlmKFwic3RyaW5nXCI9PT10eXBlb2YgYVtiXSlpZihcIlpcIj09PWFbYl0pe2ZvcihjPTA7Yzw4LWEubGVuZ3RoKzE7YysrKWRbYitjXT0wOy0tY31lbHNlIGRbYitjXT1HYyhwYXJzZUludChhW2JdLDE2KSk7ZWxzZSBkW2IrY109YVtiXTtyZXR1cm5bZFsxXTw8MTZ8ZFswXSxkWzNdPDwxNnxkWzJdLGRbNV08PDE2fGRbNF0sZFs3XTw8MTZ8ZFs2XV19dmFyIEhjPTEsSWM9e30sSmM9e307XHJcbiAgICAgZnVuY3Rpb24gS2MoYSl7dmFyIGI9RWMoYSk7aWYobnVsbCE9PWIpcmV0dXJuIGE7Yj1GYyhhKTtpZihudWxsIT09YilyZXR1cm4gYTtJY1thXT9iPUljW2FdOihiPUhjKyssYXNzZXJ0KDY1NTM1PmIsXCJleGNlZWRlZCBtYXggYWRkcmVzcyBtYXBwaW5ncyBvZiA2NTUzNVwiKSxiPVwiMTcyLjI5LlwiKyhiJjI1NSkrXCIuXCIrKGImNjUyODApLEpjW2JdPWEsSWNbYV09Yik7cmV0dXJuIGJ9ZnVuY3Rpb24gTGMoYSl7cmV0dXJuIEpjW2FdP0pjW2FdOm51bGx9ZnVuY3Rpb24gTWMoYSl7cmV0dXJuKGEmMjU1KStcIi5cIisoYT4+OCYyNTUpK1wiLlwiKyhhPj4xNiYyNTUpK1wiLlwiKyhhPj4yNCYyNTUpfVxyXG4gICAgIGZ1bmN0aW9uIE5jKGEpe3ZhciBiPVwiXCIsYyxkPTAsZT0wLGc9MCxrPTA7YT1bYVswXSY2NTUzNSxhWzBdPj4xNixhWzFdJjY1NTM1LGFbMV0+PjE2LGFbMl0mNjU1MzUsYVsyXT4+MTYsYVszXSY2NTUzNSxhWzNdPj4xNl07dmFyIG09ITA7Zm9yKGM9MDs1PmM7YysrKWlmKDAhPT1hW2NdKXttPSExO2JyZWFrfWlmKG0pe2M9TWMoYVs2XXxhWzddPDwxNik7aWYoLTE9PT1hWzVdKXJldHVyblwiOjpmZmZmOlwiK2M7aWYoMD09PWFbNV0pcmV0dXJuXCIwLjAuMC4wXCI9PT1jJiYoYz1cIlwiKSxcIjAuMC4wLjFcIj09PWMmJihjPVwiMVwiKSxcIjo6XCIrY31mb3IoYz0wOzg+YztjKyspMD09PWFbY10mJigxPGMtZSYmKGs9MCksZT1jLGsrKyksaz5kJiYoZD1rLGc9Yy1kKzEpO2ZvcihjPTA7OD5jO2MrKykxPGQmJjA9PT1hW2NdJiZjPj1nJiZjPGcrZD9jPT09ZyYmKGIrPVwiOlwiLDA9PT1nJiYoYis9XCI6XCIpKTooYis9TnVtYmVyKE9jKGFbY10mNjU1MzUpKS50b1N0cmluZygxNiksYis9Nz5jP1wiOlwiOlwiXCIpO3JldHVybiBifVxyXG4gICAgIGZ1bmN0aW9uIFBjKGEsYil7dmFyIGM9U2FbYT4+MV0sZD1PYyhUYVthKzI+PjFdKTtzd2l0Y2goYyl7Y2FzZSAyOmlmKDE2IT09YilyZXR1cm57ZWY6Mjh9O2E9RFthKzQ+PjJdO2E9TWMoYSk7YnJlYWs7Y2FzZSAxMDppZigyOCE9PWIpcmV0dXJue2VmOjI4fTthPVtEW2ErOD4+Ml0sRFthKzEyPj4yXSxEW2ErMTY+PjJdLERbYSsyMD4+Ml1dO2E9TmMoYSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm57ZWY6NX19cmV0dXJue2ZhbWlseTpjLGhmOmEscG9ydDpkfX1cclxuICAgICBmdW5jdGlvbiBRYyhhLGIsYyxkKXtzd2l0Y2goYil7Y2FzZSAyOmM9RWMoYyk7U2FbYT4+MV09YjtEW2ErND4+Ml09YztTYVthKzI+PjFdPUdjKGQpO2JyZWFrO2Nhc2UgMTA6Yz1GYyhjKTtEW2E+PjJdPWI7RFthKzg+PjJdPWNbMF07RFthKzEyPj4yXT1jWzFdO0RbYSsxNj4+Ml09Y1syXTtEW2ErMjA+PjJdPWNbM107U2FbYSsyPj4xXT1HYyhkKTtEW2ErND4+Ml09MDtEW2ErMjQ+PjJdPTA7YnJlYWs7ZGVmYXVsdDpyZXR1cm57ZWY6NX19cmV0dXJue319XHJcbiAgICAgZnVuY3Rpb24gUmMoYSxiKXtpZihuKXJldHVybiBNKDIwLDEsYSxiKTt0cnl7amM9YjtiPWZ1bmN0aW9uKCl7dmFyIFo9US5taShQKCkpO2lmKCFaKXRocm93IG5ldyBOLmFmKDgpO3JldHVybiBafTt2YXIgYz1mdW5jdGlvbihaKXt2YXIgcWQ9UCgpLGhlPVAoKTtpZihaJiYwPT09cWQpcmV0dXJuIG51bGw7Wj1QYyhxZCxoZSk7aWYoWi5lZil0aHJvdyBuZXcgTi5hZihaLmVmKTtaLmhmPUxjKFouaGYpfHxaLmhmO3JldHVybiBafTtzd2l0Y2goYSl7Y2FzZSAxOnZhciBkPVAoKSxlPVAoKSxnPVAoKSxrPVEuY3JlYXRlU29ja2V0KGQsZSxnKTtyZXR1cm4gay5zdHJlYW0uZmQ7Y2FzZSAyOms9YigpO3ZhciBtPWMoKTtrLnBmLmJpbmQoayxtLmhmLG0ucG9ydCk7cmV0dXJuIDA7Y2FzZSAzOnJldHVybiBrPWIoKSxtPWMoKSxrLnBmLmNvbm5lY3QoayxtLmhmLG0ucG9ydCksMDtjYXNlIDQ6az1iKCk7dmFyIHI9UCgpO2sucGYubGlzdGVuKGsscik7cmV0dXJuIDA7Y2FzZSA1Oms9YigpO1xyXG4gICAgIHZhciBxPVAoKTtQKCk7dmFyIHQ9ay5wZi5hY2NlcHQoayk7cSYmUWMocSx0LmZhbWlseSxLYyh0LnNmKSx0LnZmKTtyZXR1cm4gdC5zdHJlYW0uZmQ7Y2FzZSA2OnJldHVybiBrPWIoKSxxPVAoKSxQKCksUWMocSxrLmZhbWlseSxLYyhrLkJnfHxcIjAuMC4wLjBcIiksay5RZiksMDtjYXNlIDc6az1iKCk7cT1QKCk7UCgpO2lmKCFrLnNmKXJldHVybi01MztRYyhxLGsuZmFtaWx5LEtjKGsuc2YpLGsudmYpO3JldHVybiAwO2Nhc2UgMTE6az1iKCk7dmFyIHc9UCgpLEI9UCgpO1AoKTt2YXIgcD1jKCEwKTtyZXR1cm4gcD9rLnBmLmZoKGssdix3LEIscC5oZixwLnBvcnQpOk4ud3JpdGUoay5zdHJlYW0sdix3LEIpO2Nhc2UgMTI6az1iKCk7dmFyIHg9UCgpLHo9UCgpO1AoKTtxPVAoKTtQKCk7dmFyIEk9ay5wZi5iaChrLHopO2lmKCFJKXJldHVybiAwO3EmJlFjKHEsay5mYW1pbHksS2MoSS5oZiksSS5wb3J0KTtLYS5zZXQoSS5idWZmZXIseCk7cmV0dXJuIEkuYnVmZmVyLmJ5dGVMZW5ndGg7XHJcbiAgICAgY2FzZSAxNDpyZXR1cm4tNTA7Y2FzZSAxNTprPWIoKTt2YXIgVj1QKCksZmI9UCgpLEs9UCgpLFg9UCgpO3JldHVybiAxPT09ViYmND09PWZiPyhEW0s+PjJdPWsuZXJyb3IsRFtYPj4yXT00LGsuZXJyb3I9bnVsbCwwKTotNTA7Y2FzZSAxNjprPWIoKTt3PVAoKTtQKCk7dmFyIGhhPURbdys4Pj4yXSxuYT1EW3crMTI+PjJdLHVhPURbdz4+Ml0saWU9RFt3KzQ+PjJdO2lmKHVhKXttPVBjKHVhLGllKTtpZihtLmVmKXJldHVybi1tLmVmO3ZhciBqZT1tLnBvcnQ7cT1MYyhtLmhmKXx8bS5oZn1mb3IodmFyIFFhPTAsVz0wO1c8bmE7VysrKVFhKz1EW2hhKyg4KlcrNCk+PjJdO3ZhciByZD1uZXcgVWludDhBcnJheShRYSk7Zm9yKFc9Qj0wO1c8bmE7VysrKXt2YXIgYmM9RFtoYSs4Klc+PjJdLGNjPURbaGErKDgqVys0KT4+Ml07Zm9yKHg9MDt4PGNjO3grKylyZFtCKytdPXZbYmMreD4+MF19cmV0dXJuIGsucGYuZmgoayxyZCwwLFFhLHEsamUpO2Nhc2UgMTc6az1iKCk7dz1QKCk7UCgpO1xyXG4gICAgIGhhPURbdys4Pj4yXTtuYT1EW3crMTI+PjJdO2ZvcihXPVFhPTA7VzxuYTtXKyspUWErPURbaGErKDgqVys0KT4+Ml07ST1rLnBmLmJoKGssUWEpO2lmKCFJKXJldHVybiAwOyh1YT1EW3c+PjJdKSYmUWModWEsay5mYW1pbHksS2MoSS5oZiksSS5wb3J0KTtrPTA7dmFyIGRjPUkuYnVmZmVyLmJ5dGVMZW5ndGg7Zm9yKFc9MDswPGRjJiZXPG5hO1crKylpZihiYz1EW2hhKzgqVz4+Ml0sY2M9RFtoYSsoOCpXKzQpPj4yXSlCPU1hdGgubWluKGNjLGRjKSx4PUkuYnVmZmVyLnN1YmFycmF5KGssaytCKSxLYS5zZXQoeCxiYytrKSxrKz1CLGRjLT1CO3JldHVybiBrO2RlZmF1bHQ6cmV0dXJuLTUyfX1jYXRjaChaKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJlogaW5zdGFuY2VvZiBOLmFmfHx1KFopLC1aLmVmfX1cclxuICAgICBmdW5jdGlvbiBTYyhhLGIpe2lmKG4pcmV0dXJuIE0oMjEsMSxhLGIpO3RyeXtyZXR1cm4gYT1BKGEpLGljKE4uc3RhdCxhLGIpfWNhdGNoKGMpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmYyBpbnN0YW5jZW9mIE4uYWZ8fHUoYyksLWMuZWZ9fWZ1bmN0aW9uIFRjKGEpe2lmKG4pcmV0dXJuIE0oMjIsMSxhKTt0cnl7cmV0dXJuIGE9QShhKSxOLnVubGluayhhKSwwfWNhdGNoKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmYiBpbnN0YW5jZW9mIE4uYWZ8fHUoYiksLWIuZWZ9fWZ1bmN0aW9uIFVjKCl7dm9pZCAwPT09VWMuc3RhcnQmJihVYy5zdGFydD1EYXRlLm5vdygpKTtyZXR1cm4gMUUzKihEYXRlLm5vdygpLVVjLnN0YXJ0KXwwfVxyXG4gICAgIGZ1bmN0aW9uIFZjKCl7bHx8b2F8fCh6YXx8KHphPXt9KSx6YVtcIkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWRcIl18fCh6YVtcIkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWRcIl09MSxoKFwiQmxvY2tpbmcgb24gdGhlIG1haW4gdGhyZWFkIGlzIHZlcnkgZGFuZ2Vyb3VzLCBzZWUgaHR0cHM6Ly9lbXNjcmlwdGVuLm9yZy9kb2NzL3BvcnRpbmcvcHRocmVhZHMuaHRtbCNibG9ja2luZy1vbi10aGUtbWFpbi1icm93c2VyLXRocmVhZFwiKSkpfVxyXG4gICAgIGZ1bmN0aW9uIFdjKGEsYixjKXtpZigwPj1hfHxhPnYubGVuZ3RofHxhJjEpcmV0dXJuLTI4O2lmKG1hKXtpZihBdG9taWNzLmxvYWQoRCxhPj4yKSE9YilyZXR1cm4tNjt2YXIgZD1wZXJmb3JtYW5jZS5ub3coKTtjPWQrYztmb3IoQXRvbWljcy5leGNoYW5nZShELEwuVmY+PjIsYSk7Oyl7ZD1wZXJmb3JtYW5jZS5ub3coKTtpZihkPmMpcmV0dXJuIEF0b21pY3MuZXhjaGFuZ2UoRCxMLlZmPj4yLDApLC03MztkPUF0b21pY3MuZXhjaGFuZ2UoRCxMLlZmPj4yLDApO2lmKDA9PWQpYnJlYWs7Q2IoKTtpZihBdG9taWNzLmxvYWQoRCxhPj4yKSE9YilyZXR1cm4tNjtBdG9taWNzLmV4Y2hhbmdlKEQsTC5WZj4+MixhKX1yZXR1cm4gMH1hPUF0b21pY3Mud2FpdChELGE+PjIsYixjKTtpZihcInRpbWVkLW91dFwiPT09YSlyZXR1cm4tNzM7aWYoXCJub3QtZXF1YWxcIj09PWEpcmV0dXJuLTY7aWYoXCJva1wiPT09YSlyZXR1cm4gMDt0aHJvd1wiQXRvbWljcy53YWl0IHJldHVybmVkIGFuIHVuZXhwZWN0ZWQgdmFsdWUgXCIrXHJcbiAgICAgYTt9ZnVuY3Rpb24gWGMoYSl7dmFyIGI9YS5nZXRFeHRlbnNpb24oXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpO2ImJihhLnZlcnRleEF0dHJpYkRpdmlzb3I9ZnVuY3Rpb24oYyxkKXtiLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShjLGQpfSxhLmRyYXdBcnJheXNJbnN0YW5jZWQ9ZnVuY3Rpb24oYyxkLGUsZyl7Yi5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYyxkLGUsZyl9LGEuZHJhd0VsZW1lbnRzSW5zdGFuY2VkPWZ1bmN0aW9uKGMsZCxlLGcsayl7Yi5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShjLGQsZSxnLGspfSl9XHJcbiAgICAgZnVuY3Rpb24gWWMoYSl7dmFyIGI9YS5nZXRFeHRlbnNpb24oXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKTtiJiYoYS5jcmVhdGVWZXJ0ZXhBcnJheT1mdW5jdGlvbigpe3JldHVybiBiLmNyZWF0ZVZlcnRleEFycmF5T0VTKCl9LGEuZGVsZXRlVmVydGV4QXJyYXk9ZnVuY3Rpb24oYyl7Yi5kZWxldGVWZXJ0ZXhBcnJheU9FUyhjKX0sYS5iaW5kVmVydGV4QXJyYXk9ZnVuY3Rpb24oYyl7Yi5iaW5kVmVydGV4QXJyYXlPRVMoYyl9LGEuaXNWZXJ0ZXhBcnJheT1mdW5jdGlvbihjKXtyZXR1cm4gYi5pc1ZlcnRleEFycmF5T0VTKGMpfSl9ZnVuY3Rpb24gWmMoYSl7dmFyIGI9YS5nZXRFeHRlbnNpb24oXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIik7YiYmKGEuZHJhd0J1ZmZlcnM9ZnVuY3Rpb24oYyxkKXtiLmRyYXdCdWZmZXJzV0VCR0woYyxkKX0pfXZhciAkYz0xLGFkPVtdLFI9W10sYmQ9W10sY2Q9W10sZGQ9W10sUz1bXSxlZD1bXSxmZD1bXSxnZD1bXSxoZD17fSxpZD17fSxqZD00O1xyXG4gICAgIGZ1bmN0aW9uIFQoYSl7a2R8fChrZD1hKX1mdW5jdGlvbiBsZChhKXtmb3IodmFyIGI9JGMrKyxjPWEubGVuZ3RoO2M8YjtjKyspYVtjXT1udWxsO3JldHVybiBifVxyXG4gICAgIGZ1bmN0aW9uIG1kKGEpe2F8fChhPW5kKTtpZighYS5vaSl7YS5vaT0hMDt2YXIgYj1hLnFnO1hjKGIpO1ljKGIpO1pjKGIpO2IudWY9Yi5nZXRFeHRlbnNpb24oXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlcIik7Yi5yaj1iLmdldEV4dGVuc2lvbihcIldFQkdMX211bHRpX2RyYXdcIik7dmFyIGM9XCJPRVNfdGV4dHVyZV9mbG9hdCBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IE9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyBPRVNfdmVydGV4X2FycmF5X29iamVjdCBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyBXRUJHTF9kZXB0aF90ZXh0dXJlIE9FU19lbGVtZW50X2luZGV4X3VpbnQgRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIEVYVF9mcmFnX2RlcHRoIFdFQkdMX2RyYXdfYnVmZmVycyBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIE9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciBFWFRfYmxlbmRfbWlubWF4IEVYVF9zaGFkZXJfdGV4dHVyZV9sb2QgRVhUX3RleHR1cmVfbm9ybTE2IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQgV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0IEVYVF9zUkdCIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIEVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIEVYVF9jb2xvcl9idWZmZXJfZmxvYXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiBFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIFdFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIi5zcGxpdChcIiBcIik7KGIuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxcclxuICAgICBbXSkuZm9yRWFjaChmdW5jdGlvbihkKXstMSE9Yy5pbmRleE9mKGQpJiZiLmdldEV4dGVuc2lvbihkKX0pfX12YXIga2QsbmQsb2Q9W107ZnVuY3Rpb24gcGQoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxhO2UrKyl7dmFyIGc9VVtjXSgpLGs9ZyYmbGQoZCk7Zz8oZy5uYW1lPWssZFtrXT1nKTpUKDEyODIpO0RbYis0KmU+PjJdPWt9fWZ1bmN0aW9uIHNkKGEsYixjLGQsZSxnLGssbSl7Yj1SW2JdO2lmKGE9VVthXShiLGMpKWQ9bSYmSWEoYS5uYW1lLG0sZCksZSYmKERbZT4+Ml09ZCksZyYmKERbZz4+Ml09YS5zaXplKSxrJiYoRFtrPj4yXT1hLnR5cGUpfWZ1bmN0aW9uIHRkKGEsYil7RVthPj4yXT1iO0VbYSs0Pj4yXT0oYi1FW2E+PjJdKS80Mjk0OTY3Mjk2fVxyXG4gICAgIGZ1bmN0aW9uIHVkKGEsYixjKXtpZihiKXt2YXIgZD12b2lkIDA7c3dpdGNoKGEpe2Nhc2UgMzYzNDY6ZD0xO2JyZWFrO2Nhc2UgMzYzNDQ6MCE9YyYmMSE9YyYmVCgxMjgwKTtyZXR1cm47Y2FzZSAzNjM0NTpkPTA7YnJlYWs7Y2FzZSAzNDQ2Njp2YXIgZT1VLmdldFBhcmFtZXRlcigzNDQ2Nyk7ZD1lP2UubGVuZ3RoOjB9aWYodm9pZCAwPT09ZClzd2l0Y2goZT1VLmdldFBhcmFtZXRlcihhKSx0eXBlb2YgZSl7Y2FzZSBcIm51bWJlclwiOmQ9ZTticmVhaztjYXNlIFwiYm9vbGVhblwiOmQ9ZT8xOjA7YnJlYWs7Y2FzZSBcInN0cmluZ1wiOlQoMTI4MCk7cmV0dXJuO2Nhc2UgXCJvYmplY3RcIjppZihudWxsPT09ZSlzd2l0Y2goYSl7Y2FzZSAzNDk2NDpjYXNlIDM1NzI1OmNhc2UgMzQ5NjU6Y2FzZSAzNjAwNjpjYXNlIDM2MDA3OmNhc2UgMzI4NzM6Y2FzZSAzNDIyOTpjYXNlIDM0MDY4OmQ9MDticmVhaztkZWZhdWx0OlQoMTI4MCk7cmV0dXJufWVsc2V7aWYoZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8XHJcbiAgICAgZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHxlIGluc3RhbmNlb2YgSW50MzJBcnJheXx8ZSBpbnN0YW5jZW9mIEFycmF5KXtmb3IoYT0wO2E8ZS5sZW5ndGg7KythKXN3aXRjaChjKXtjYXNlIDA6RFtiKzQqYT4+Ml09ZVthXTticmVhaztjYXNlIDI6RltiKzQqYT4+Ml09ZVthXTticmVhaztjYXNlIDQ6dltiK2E+PjBdPWVbYV0/MTowfXJldHVybn10cnl7ZD1lLm5hbWV8MH1jYXRjaChnKXtUKDEyODApO2goXCJHTF9JTlZBTElEX0VOVU0gaW4gZ2xHZXRcIitjK1widjogVW5rbm93biBvYmplY3QgcmV0dXJuZWQgZnJvbSBXZWJHTCBnZXRQYXJhbWV0ZXIoXCIrYStcIikhIChlcnJvcjogXCIrZytcIilcIik7cmV0dXJufX1icmVhaztkZWZhdWx0OlQoMTI4MCk7aChcIkdMX0lOVkFMSURfRU5VTSBpbiBnbEdldFwiK2MrXCJ2OiBOYXRpdmUgY29kZSBjYWxsaW5nIGdsR2V0XCIrYytcInYoXCIrYStcIikgYW5kIGl0IHJldHVybnMgXCIrZStcIiBvZiB0eXBlIFwiK3R5cGVvZiBlK1wiIVwiKTtyZXR1cm59c3dpdGNoKGMpe2Nhc2UgMTp0ZChiLFxyXG4gICAgIGQpO2JyZWFrO2Nhc2UgMDpEW2I+PjJdPWQ7YnJlYWs7Y2FzZSAyOkZbYj4+Ml09ZDticmVhaztjYXNlIDQ6dltiPj4wXT1kPzE6MH19ZWxzZSBUKDEyODEpfWZ1bmN0aW9uIHZkKGEpe3ZhciBiPU1hKGEpKzEsYz1PYShiKTtJYShhLGMsYik7cmV0dXJuIGN9ZnVuY3Rpb24gd2QoYSxiLGMsZCl7aWYoYylpZihhPVUuZ2V0VW5pZm9ybShSW2FdLFNbYl0pLFwibnVtYmVyXCI9PXR5cGVvZiBhfHxcImJvb2xlYW5cIj09dHlwZW9mIGEpc3dpdGNoKGQpe2Nhc2UgMDpEW2M+PjJdPWE7YnJlYWs7Y2FzZSAyOkZbYz4+Ml09YX1lbHNlIGZvcihiPTA7YjxhLmxlbmd0aDtiKyspc3dpdGNoKGQpe2Nhc2UgMDpEW2MrNCpiPj4yXT1hW2JdO2JyZWFrO2Nhc2UgMjpGW2MrNCpiPj4yXT1hW2JdfWVsc2UgVCgxMjgxKX1cclxuICAgICBmdW5jdGlvbiB4ZChhLGIsYyxkKXtpZihjKWlmKGE9VS5nZXRWZXJ0ZXhBdHRyaWIoYSxiKSwzNDk3NT09YilEW2M+PjJdPWEmJmEubmFtZTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBhfHxcImJvb2xlYW5cIj09dHlwZW9mIGEpc3dpdGNoKGQpe2Nhc2UgMDpEW2M+PjJdPWE7YnJlYWs7Y2FzZSAyOkZbYz4+Ml09YTticmVhaztjYXNlIDU6RFtjPj4yXT1NYXRoLmZyb3VuZChhKX1lbHNlIGZvcihiPTA7YjxhLmxlbmd0aDtiKyspc3dpdGNoKGQpe2Nhc2UgMDpEW2MrNCpiPj4yXT1hW2JdO2JyZWFrO2Nhc2UgMjpGW2MrNCpiPj4yXT1hW2JdO2JyZWFrO2Nhc2UgNTpEW2MrNCpiPj4yXT1NYXRoLmZyb3VuZChhW2JdKX1lbHNlIFQoMTI4MSl9XHJcbiAgICAgZnVuY3Rpb24geWQoYSxiLGMsZCxlKXthLT01MTIwO2E9MT09YT9LYTo0PT1hP0Q6Nj09YT9GOjU9PWF8fDI4OTIyPT1hP0U6VGE7dmFyIGc9MzEtTWF0aC5jbHozMihhLkJZVEVTX1BFUl9FTEVNRU5UKSxrPWpkO3JldHVybiBhLnN1YmFycmF5KGU+PmcsZStkKihjKih7NTozLDY6NCw4OjIsMjk1MDI6MywyOTUwNDo0fVtiLTY0MDJdfHwxKSooMTw8Zykray0xJi1rKT4+Zyl9dmFyIHpkPVtdLEFkPVtdO2Z1bmN0aW9uIE0oYSxiKXtmb3IodmFyIGM9YXJndW1lbnRzLmxlbmd0aC0yLGQ9eSgpLGU9SGEoOCpjKSxnPWU+PjMsaz0wO2s8YztrKyspVWFbZytrXT1hcmd1bWVudHNbMitrXTtjPUJkKGEsYyxlLGIpO0MoZCk7cmV0dXJuIGN9dmFyIENkPVtdLERkPVtdLEVkPVswLFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6MCxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6MF07XHJcbiAgICAgZnVuY3Rpb24gRmQoYSl7YT0yPGE/QShhKTphO3JldHVybiBFZFthXXx8KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKTp2b2lkIDApfVxyXG4gICAgIGZ1bmN0aW9uIEdkKGEsYixjKXt2YXIgZD1GZChhKTtpZighZClyZXR1cm4tNDtkLnNnJiYoRFtkLnNnPj4yXT1iLERbZC5zZys0Pj4yXT1jKTtpZihkLkZofHwhZC5hailkLkZoJiYoZD1kLkZoKSxhPSExLGQucmcmJmQucmcucWcmJihhPWQucmcucWcuZ2V0UGFyYW1ldGVyKDI5NzgpLGE9MD09PWFbMF0mJjA9PT1hWzFdJiZhWzJdPT09ZC53aWR0aCYmYVszXT09PWQuaGVpZ2h0KSxkLndpZHRoPWIsZC5oZWlnaHQ9YyxhJiZkLnJnLnFnLnZpZXdwb3J0KDAsMCxiLGMpO2Vsc2V7aWYoZC5zZyl7YT1hP0EoYSk6XCJcIjtkPURbZC5zZys4Pj4yXTt2YXIgZT15KCksZz1IYSgxMiksaz0wO2EmJihrPXZkKGEpKTtEW2c+PjJdPWs7RFtnKzQ+PjJdPWI7RFtnKzg+PjJdPWM7SGQoMCxkLDY1NzQ1NzE1MiwwLGssZyk7QyhlKTtyZXR1cm4gMX1yZXR1cm4tNH1yZXR1cm4gMH1mdW5jdGlvbiBJZChhLGIsYyl7cmV0dXJuIG4/TSgyMywxLGEsYixjKTpHZChhLGIsYyl9XHJcbiAgICAgdmFyIEpkPVtcImRlZmF1bHRcIixcImxvdy1wb3dlclwiLFwiaGlnaC1wZXJmb3JtYW5jZVwiXSxLZD17fTtmdW5jdGlvbiBMZCgpe2lmKCFNZCl7dmFyIGE9e1VTRVI6XCJ3ZWJfdXNlclwiLExPR05BTUU6XCJ3ZWJfdXNlclwiLFBBVEg6XCIvXCIsUFdEOlwiL1wiLEhPTUU6XCIvaG9tZS93ZWJfdXNlclwiLExBTkc6KFwib2JqZWN0XCI9PT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHxcIkNcIikucmVwbGFjZShcIi1cIixcIl9cIikrXCIuVVRGLThcIixfOmthfHxcIi4vdGhpcy5wcm9ncmFtXCJ9LGI7Zm9yKGIgaW4gS2QpYVtiXT1LZFtiXTt2YXIgYz1bXTtmb3IoYiBpbiBhKWMucHVzaChiK1wiPVwiK2FbYl0pO01kPWN9cmV0dXJuIE1kfXZhciBNZDtcclxuICAgICBmdW5jdGlvbiBOZChhKXtpZihuKXJldHVybiBNKDI0LDEsYSk7dHJ5e3ZhciBiPWtjKGEpO04uY2xvc2UoYik7cmV0dXJuIDB9Y2F0Y2goYyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZjIGluc3RhbmNlb2YgTi5hZnx8dShjKSxjLmVmfX1mdW5jdGlvbiBPZChhLGIpe2lmKG4pcmV0dXJuIE0oMjUsMSxhLGIpO3RyeXt2YXIgYz1rYyhhKTt2W2I+PjBdPWMudHR5PzI6Ti5rZihjLm1vZGUpPzM6Ti5NZihjLm1vZGUpPzc6NDtyZXR1cm4gMH1jYXRjaChkKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmQgaW5zdGFuY2VvZiBOLmFmfHx1KGQpLGQuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIFBkKGEsYixjLGQpe2lmKG4pcmV0dXJuIE0oMjYsMSxhLGIsYyxkKTt0cnl7YTp7Zm9yKHZhciBlPWtjKGEpLGc9YT0wO2c8YztnKyspe3ZhciBrPURbYisoOCpnKzQpPj4yXSxtPU4ucmVhZChlLHYsRFtiKzgqZz4+Ml0sayx2b2lkIDApO2lmKDA+bSl7dmFyIHI9LTE7YnJlYWsgYX1hKz1tO2lmKG08aylicmVha31yPWF9RFtkPj4yXT1yO3JldHVybiAwfWNhdGNoKHEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmcSBpbnN0YW5jZW9mIE4uYWZ8fHUocSkscS5lZn19XHJcbiAgICAgZnVuY3Rpb24gUWQoYSxiLGMsZCxlKXtpZihuKXJldHVybiBNKDI3LDEsYSxiLGMsZCxlKTt0cnl7dmFyIGc9a2MoYSk7YT00Mjk0OTY3Mjk2KmMrKGI+Pj4wKTtpZigtOTAwNzE5OTI1NDc0MDk5Mj49YXx8OTAwNzE5OTI1NDc0MDk5Mjw9YSlyZXR1cm4tNjE7Ti50ZihnLGEsZCk7Sj1bZy5wb3NpdGlvbj4+PjAsKEg9Zy5wb3NpdGlvbiwxPD0rTWF0aC5hYnMoSCk/MDxIPyhNYXRoLm1pbigrTWF0aC5mbG9vcihILzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTUpfDApPj4+MDp+fitNYXRoLmNlaWwoKEgtKyh+fkg+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApXTtEW2U+PjJdPUpbMF07RFtlKzQ+PjJdPUpbMV07Zy5MZiYmMD09PWEmJjA9PT1kJiYoZy5MZj1udWxsKTtyZXR1cm4gMH1jYXRjaChrKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE4mJmsgaW5zdGFuY2VvZiBOLmFmfHx1KGspLGsuZWZ9fVxyXG4gICAgIGZ1bmN0aW9uIFJkKGEsYixjLGQpe2lmKG4pcmV0dXJuIE0oMjgsMSxhLGIsYyxkKTt0cnl7YTp7Zm9yKHZhciBlPWtjKGEpLGc9YT0wO2c8YztnKyspe3ZhciBrPU4ud3JpdGUoZSx2LERbYis4Kmc+PjJdLERbYisoOCpnKzQpPj4yXSx2b2lkIDApO2lmKDA+ayl7dmFyIG09LTE7YnJlYWsgYX1hKz1rfW09YX1EW2Q+PjJdPW07cmV0dXJuIDB9Y2F0Y2gocil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBOJiZyIGluc3RhbmNlb2YgTi5hZnx8dShyKSxyLmVmfX12YXIgU2Q9e307XHJcbiAgICAgZnVuY3Rpb24gVGQoYSl7VGQuYnVmZmVyfHwoVGQuYnVmZmVyPU9hKDI1NiksU2RbXCIwXCJdPVwiU3VjY2Vzc1wiLFNkW1wiLTFcIl09XCJJbnZhbGlkIHZhbHVlIGZvciAnYWlfZmxhZ3MnIGZpZWxkXCIsU2RbXCItMlwiXT1cIk5BTUUgb3IgU0VSVklDRSBpcyB1bmtub3duXCIsU2RbXCItM1wiXT1cIlRlbXBvcmFyeSBmYWlsdXJlIGluIG5hbWUgcmVzb2x1dGlvblwiLFNkW1wiLTRcIl09XCJOb24tcmVjb3ZlcmFibGUgZmFpbHVyZSBpbiBuYW1lIHJlc1wiLFNkW1wiLTZcIl09XCInYWlfZmFtaWx5JyBub3Qgc3VwcG9ydGVkXCIsU2RbXCItN1wiXT1cIidhaV9zb2NrdHlwZScgbm90IHN1cHBvcnRlZFwiLFNkW1wiLThcIl09XCJTRVJWSUNFIG5vdCBzdXBwb3J0ZWQgZm9yICdhaV9zb2NrdHlwZSdcIixTZFtcIi0xMFwiXT1cIk1lbW9yeSBhbGxvY2F0aW9uIGZhaWx1cmVcIixTZFtcIi0xMVwiXT1cIlN5c3RlbSBlcnJvciByZXR1cm5lZCBpbiAnZXJybm8nXCIsU2RbXCItMTJcIl09XCJBcmd1bWVudCBidWZmZXIgb3ZlcmZsb3dcIik7dmFyIGI9XCJVbmtub3duIGVycm9yXCI7XHJcbiAgICAgYSBpbiBTZCYmKDI1NTxTZFthXS5sZW5ndGg/Yj1cIk1lc3NhZ2UgdG9vIGxvbmdcIjpiPVNkW2FdKTtSYShiLFRkLmJ1ZmZlcik7cmV0dXJuIFRkLmJ1ZmZlcn1cclxuICAgICBmdW5jdGlvbiBVZChhLGIsYyxkKXtmdW5jdGlvbiBlKHcsQixwLHgseixJKXt2YXIgVj0xMD09PXc/Mjg6MTY7ej0xMD09PXc/TmMoeik6TWMoeik7Vj1PYShWKTt6PVFjKFYsdyx6LEkpO2Fzc2VydCghei5lZik7ej1PYSgzMik7RFt6KzQ+PjJdPXc7RFt6Kzg+PjJdPUI7RFt6KzEyPj4yXT1wO0RbeisyND4+Ml09eDtEW3orMjA+PjJdPVY7RFt6KzE2Pj4yXT0xMD09PXc/Mjg6MTY7RFt6KzI4Pj4yXT0wO3JldHVybiB6fWlmKG4pcmV0dXJuIE0oMjksMSxhLGIsYyxkKTt2YXIgZz0wLGs9MCxtPTAscj0wLHE9MCx0PTA7YyYmKG09RFtjPj4yXSxyPURbYys0Pj4yXSxxPURbYys4Pj4yXSx0PURbYysxMj4+Ml0pO3EmJiF0JiYodD0yPT09cT8xNzo2KTshcSYmdCYmKHE9MTc9PT10PzI6MSk7MD09PXQmJih0PTYpOzA9PT1xJiYocT0xKTtpZighYSYmIWIpcmV0dXJuLTI7aWYobSYtMTA4OHx8MCE9PWMmJkRbYz4+Ml0mMiYmIWEpcmV0dXJuLTE7aWYobSYzMilyZXR1cm4tMjtpZigwIT09XHJcbiAgICAgcSYmMSE9PXEmJjIhPT1xKXJldHVybi03O2lmKDAhPT1yJiYyIT09ciYmMTAhPT1yKXJldHVybi02O2lmKGImJihiPUEoYiksaz1wYXJzZUludChiLDEwKSxpc05hTihrKSkpcmV0dXJuIG0mMTAyND8tMjotODtpZighYSlyZXR1cm4gMD09PXImJihyPTIpLDA9PT0obSYxKSYmKDI9PT1yP2c9VmQoMjEzMDcwNjQzMyk6Zz1bMCwwLDAsMV0pLGE9ZShyLHEsdCxudWxsLGcsayksRFtkPj4yXT1hLDA7YT1BKGEpO2c9RWMoYSk7aWYobnVsbCE9PWcpaWYoMD09PXJ8fDI9PT1yKXI9MjtlbHNlIGlmKDEwPT09ciYmbSY4KWc9WzAsMCxWZCg2NTUzNSksZ10scj0xMDtlbHNlIHJldHVybi0yO2Vsc2UgaWYoZz1GYyhhKSxudWxsIT09ZylpZigwPT09cnx8MTA9PT1yKXI9MTA7ZWxzZSByZXR1cm4tMjtpZihudWxsIT1nKXJldHVybiBhPWUocixxLHQsYSxnLGspLERbZD4+Ml09YSwwO2lmKG0mNClyZXR1cm4tMjthPUtjKGEpO2c9RWMoYSk7MD09PXI/cj0yOjEwPT09ciYmKGc9WzAsMCxWZCg2NTUzNSksXHJcbiAgICAgZ10pO2E9ZShyLHEsdCxudWxsLGcsayk7RFtkPj4yXT1hO3JldHVybiAwfVxyXG4gICAgIGZ1bmN0aW9uIERiKGEpe2lmKG4pdGhyb3dcIkludGVybmFsIEVycm9yISBzcGF3blRocmVhZCgpIGNhbiBvbmx5IGV2ZXIgYmUgY2FsbGVkIGZyb20gbWFpbiBhcHBsaWNhdGlvbiB0aHJlYWQhXCI7dmFyIGI9TC5saSgpO2lmKHZvaWQgMCE9PWIueWYpdGhyb3dcIkludGVybmFsIGVycm9yIVwiO2lmKCFhLiRmKXRocm93XCJJbnRlcm5hbCBlcnJvciwgbm8gcHRocmVhZCBwdHIhXCI7TC5LZi5wdXNoKGIpO2Zvcih2YXIgYz1PYSg1MTIpLGQ9MDsxMjg+ZDsrK2QpRFtjKzQqZD4+Ml09MDt2YXIgZT1hLlJmK2EuY2c7ZD1MLkVmW2EuJGZdPXt3b3JrZXI6YixSZjphLlJmLGNnOmEuY2csS2c6YS5LZyxMaDphLiRmLHRocmVhZEluZm9TdHJ1Y3Q6YS4kZn07dmFyIGc9ZC50aHJlYWRJbmZvU3RydWN0Pj4yO0F0b21pY3Muc3RvcmUoRSxnLDApO0F0b21pY3Muc3RvcmUoRSxnKzEsMCk7QXRvbWljcy5zdG9yZShFLGcrMiwwKTtBdG9taWNzLnN0b3JlKEUsZysxNyxhLmRldGFjaGVkKTtBdG9taWNzLnN0b3JlKEUsXHJcbiAgICAgZysyNixjKTtBdG9taWNzLnN0b3JlKEUsZysxMiwwKTtBdG9taWNzLnN0b3JlKEUsZysxMCxkLnRocmVhZEluZm9TdHJ1Y3QpO0F0b21pY3Muc3RvcmUoRSxnKzExLDQyKTtBdG9taWNzLnN0b3JlKEUsZysyNyxhLmNnKTtBdG9taWNzLnN0b3JlKEUsZysyMSxhLmNnKTtBdG9taWNzLnN0b3JlKEUsZysyMCxlKTtBdG9taWNzLnN0b3JlKEUsZysyOSxlKTtBdG9taWNzLnN0b3JlKEUsZyszMCxhLmRldGFjaGVkKTtBdG9taWNzLnN0b3JlKEUsZyszMixhLkloKTtBdG9taWNzLnN0b3JlKEUsZyszMyxhLkpoKTtjPVdkKCkrNDA7QXRvbWljcy5zdG9yZShFLGcrNDQsYyk7Yi55Zj1kO3ZhciBrPXtjbWQ6XCJydW5cIixzdGFydF9yb3V0aW5lOmEuTWksYXJnOmEuVGYsdGhyZWFkSW5mb1N0cnVjdDphLiRmLHNlbGZUaHJlYWRJZDphLiRmLHBhcmVudFRocmVhZElkOmEuRmksc3RhY2tCYXNlOmEuUmYsc3RhY2tTaXplOmEuY2d9O2Iub2c9ZnVuY3Rpb24oKXtrLnRpbWU9cGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgYi5wb3N0TWVzc2FnZShrLGEuVmkpfTtiLmxvYWRlZCYmKGIub2coKSxkZWxldGUgYi5vZyl9ZnVuY3Rpb24gWGQoKXtyZXR1cm4gcmJ8MH1mLl9wdGhyZWFkX3NlbGY9WGQ7XHJcbiAgICAgZnVuY3Rpb24gWWQoYSxiKXtpZighYSlyZXR1cm4gaChcInB0aHJlYWRfam9pbiBhdHRlbXB0ZWQgb24gYSBudWxsIHRocmVhZCBwb2ludGVyIVwiKSw3MTtpZihuJiZzZWxmVGhyZWFkSWQ9PWEpcmV0dXJuIGgoXCJQVGhyZWFkIFwiK2ErXCIgaXMgYXR0ZW1wdGluZyB0byBqb2luIHRvIGl0c2VsZiFcIiksMTY7aWYoIW4mJkwueGY9PWEpcmV0dXJuIGgoXCJNYWluIHRocmVhZCBcIithK1wiIGlzIGF0dGVtcHRpbmcgdG8gam9pbiB0byBpdHNlbGYhXCIpLDE2O2lmKERbYSsxMj4+Ml0hPT1hKXJldHVybiBoKFwicHRocmVhZF9qb2luIGF0dGVtcHRlZCBvbiB0aHJlYWQgXCIrYStcIiwgd2hpY2ggZG9lcyBub3QgcG9pbnQgdG8gYSB2YWxpZCB0aHJlYWQsIG9yIGRvZXMgbm90IGV4aXN0IGFueW1vcmUhXCIpLDcxO2lmKEF0b21pY3MubG9hZChFLGErNjg+PjIpKXJldHVybiBoKFwiQXR0ZW1wdGVkIHRvIGpvaW4gdGhyZWFkIFwiK2ErXCIsIHdoaWNoIHdhcyBhbHJlYWR5IGRldGFjaGVkIVwiKSwyODtmb3IoVmMoKTs7KXt2YXIgYz1cclxuICAgICBBdG9taWNzLmxvYWQoRSxhPj4yKTtpZigxPT1jKXJldHVybiBjPUF0b21pY3MubG9hZChFLGErND4+MiksYiYmKERbYj4+Ml09YyksQXRvbWljcy5zdG9yZShFLGErNjg+PjIsMSksbj9wb3N0TWVzc2FnZSh7Y21kOlwiY2xlYW51cFRocmVhZFwiLHRocmVhZDphfSk6eGIoYSksMDtpZihuJiZ0aHJlYWRJbmZvU3RydWN0JiYhQXRvbWljcy5sb2FkKEUsdGhyZWFkSW5mb1N0cnVjdCs2MD4+MikmJjI9PUF0b21pY3MubG9hZChFLHRocmVhZEluZm9TdHJ1Y3QrMD4+MikpdGhyb3dcIkNhbmNlbGVkIVwiO258fENiKCk7V2MoYSxjLG4/MTAwOjEpfX1mdW5jdGlvbiBaZChhKXtyZXR1cm4gMD09PWElNCYmKDAhPT1hJTEwMHx8MD09PWElNDAwKX1mdW5jdGlvbiAkZChhLGIpe2Zvcih2YXIgYz0wLGQ9MDtkPD1iO2MrPWFbZCsrXSk7cmV0dXJuIGN9dmFyIGFlPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sYmU9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtcclxuICAgICBmdW5jdGlvbiBjZShhLGIpe2ZvcihhPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTswPGI7KXt2YXIgYz1hLmdldE1vbnRoKCksZD0oWmQoYS5nZXRGdWxsWWVhcigpKT9hZTpiZSlbY107aWYoYj5kLWEuZ2V0RGF0ZSgpKWItPWQtYS5nZXREYXRlKCkrMSxhLnNldERhdGUoMSksMTE+Yz9hLnNldE1vbnRoKGMrMSk6KGEuc2V0TW9udGgoMCksYS5zZXRGdWxsWWVhcihhLmdldEZ1bGxZZWFyKCkrMSkpO2Vsc2V7YS5zZXREYXRlKGEuZ2V0RGF0ZSgpK2IpO2JyZWFrfX1yZXR1cm4gYX1cclxuICAgICBmdW5jdGlvbiBkZShhKXtpZihuKXJldHVybiBNKDMwLDEsYSk7c3dpdGNoKGEpe2Nhc2UgMzA6cmV0dXJuIDE2Mzg0O2Nhc2UgODU6cmV0dXJuIEthLmxlbmd0aC8xNjM4NDtjYXNlIDEzMjpjYXNlIDEzMzpjYXNlIDEyOmNhc2UgMTM3OmNhc2UgMTM4OmNhc2UgMTU6Y2FzZSAyMzU6Y2FzZSAxNjpjYXNlIDE3OmNhc2UgMTg6Y2FzZSAxOTpjYXNlIDIwOmNhc2UgMTQ5OmNhc2UgMTM6Y2FzZSAxMDpjYXNlIDIzNjpjYXNlIDE1MzpjYXNlIDk6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMTU5OmNhc2UgMTU0OmNhc2UgMTQ6Y2FzZSA3NzpjYXNlIDc4OmNhc2UgMTM5OmNhc2UgODA6Y2FzZSA4MTpjYXNlIDgyOmNhc2UgNjg6Y2FzZSA2NzpjYXNlIDE2NDpjYXNlIDExOmNhc2UgMjk6Y2FzZSA0NzpjYXNlIDQ4OmNhc2UgOTU6Y2FzZSA1MjpjYXNlIDUxOmNhc2UgNDY6Y2FzZSA3OTpyZXR1cm4gMjAwODA5O2Nhc2UgMjc6Y2FzZSAyNDY6Y2FzZSAxMjc6Y2FzZSAxMjg6Y2FzZSAyMzpjYXNlIDI0OmNhc2UgMTYwOmNhc2UgMTYxOmNhc2UgMTgxOmNhc2UgMTgyOmNhc2UgMjQyOmNhc2UgMTgzOmNhc2UgMTg0OmNhc2UgMjQzOmNhc2UgMjQ0OmNhc2UgMjQ1OmNhc2UgMTY1OmNhc2UgMTc4OmNhc2UgMTc5OmNhc2UgNDk6Y2FzZSA1MDpjYXNlIDE2ODpjYXNlIDE2OTpjYXNlIDE3NTpjYXNlIDE3MDpjYXNlIDE3MTpjYXNlIDE3MjpjYXNlIDk3OmNhc2UgNzY6Y2FzZSAzMjpjYXNlIDE3MzpjYXNlIDM1OnJldHVybi0xO1xyXG4gICAgIGNhc2UgMTc2OmNhc2UgMTc3OmNhc2UgNzpjYXNlIDE1NTpjYXNlIDg6Y2FzZSAxNTc6Y2FzZSAxMjU6Y2FzZSAxMjY6Y2FzZSA5MjpjYXNlIDkzOmNhc2UgMTI5OmNhc2UgMTMwOmNhc2UgMTMxOmNhc2UgOTQ6Y2FzZSA5MTpyZXR1cm4gMTtjYXNlIDc0OmNhc2UgNjA6Y2FzZSA2OTpjYXNlIDcwOmNhc2UgNDpyZXR1cm4gMTAyNDtjYXNlIDMxOmNhc2UgNDI6Y2FzZSA3MjpyZXR1cm4gMzI7Y2FzZSA4NzpjYXNlIDI2OmNhc2UgMzM6cmV0dXJuIDIxNDc0ODM2NDc7Y2FzZSAzNDpjYXNlIDE6cmV0dXJuIDQ3ODM5O2Nhc2UgMzg6Y2FzZSAzNjpyZXR1cm4gOTk7Y2FzZSA0MzpjYXNlIDM3OnJldHVybiAyMDQ4O2Nhc2UgMDpyZXR1cm4gMjA5NzE1MjtjYXNlIDM6cmV0dXJuIDY1NTM2O2Nhc2UgMjg6cmV0dXJuIDMyNzY4O2Nhc2UgNDQ6cmV0dXJuIDMyNzY3O2Nhc2UgNzU6cmV0dXJuIDE2Mzg0O2Nhc2UgMzk6cmV0dXJuIDFFMztjYXNlIDg5OnJldHVybiA3MDA7Y2FzZSA3MTpyZXR1cm4gMjU2O1xyXG4gICAgIGNhc2UgNDA6cmV0dXJuIDI1NTtjYXNlIDI6cmV0dXJuIDEwMDtjYXNlIDE4MDpyZXR1cm4gNjQ7Y2FzZSAyNTpyZXR1cm4gMjA7Y2FzZSA1OnJldHVybiAxNjtjYXNlIDY6cmV0dXJuIDY7Y2FzZSA3MzpyZXR1cm4gNDtjYXNlIDg0OnJldHVyblwib2JqZWN0XCI9PT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5fHwxOjF9RmIoMjgpO3JldHVybi0xfWZ1bmN0aW9uIGVlKGEsYixjLGQpe2F8fChhPXRoaXMpO3RoaXMucGFyZW50PWE7dGhpcy5qZj1hLmpmO3RoaXMubGc9bnVsbDt0aGlzLmlkPU4uQWkrKzt0aGlzLm5hbWU9Yjt0aGlzLm1vZGU9Yzt0aGlzLmNmPXt9O3RoaXMuZGY9e307dGhpcy5yZGV2PWR9XHJcbiAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZWUucHJvdG90eXBlLHtyZWFkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMzY1PT09KHRoaXMubW9kZSYzNjUpfSxzZXQ6ZnVuY3Rpb24oYSl7YT90aGlzLm1vZGV8PTM2NTp0aGlzLm1vZGUmPS0zNjZ9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE0Nj09PSh0aGlzLm1vZGUmMTQ2KX0sc2V0OmZ1bmN0aW9uKGEpe2E/dGhpcy5tb2RlfD0xNDY6dGhpcy5tb2RlJj0tMTQ3fX0sdGk6e2dldDpmdW5jdGlvbigpe3JldHVybiBOLmtmKHRoaXMubW9kZSl9fSxVZzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE4uaGcodGhpcy5tb2RlKX19fSk7Ti5PaD1lZTtOLk5pKCk7Zm9yKHZhciBmYyxVLGZlPTA7MzI+ZmU7KytmZSlvZC5wdXNoKEFycmF5KGZlKSk7dmFyIGdlPW5ldyBGbG9hdDMyQXJyYXkoMjg4KTtmb3IoZmU9MDsyODg+ZmU7KytmZSl6ZFtmZV09Z2Uuc3ViYXJyYXkoMCxmZSsxKTt2YXIga2U9bmV3IEludDMyQXJyYXkoMjg4KTtcclxuICAgICBmb3IoZmU9MDsyODg+ZmU7KytmZSlBZFtmZV09a2Uuc3ViYXJyYXkoMCxmZSsxKTt2YXIgbGU9W251bGwsSWIsS2IsbGMsbWMsbmMsb2MscGMscWMsc2MsdGMsdWMsdmMseGMseWMsemMsQWMsQmMsQ2MsRGMsUmMsU2MsVGMsSWQsTmQsT2QsUGQsUWQsUmQsVWQsZGVdO2Z1bmN0aW9uICRiKGEsYil7dmFyIGM9QXJyYXkoTWEoYSkrMSk7YT1MYShhLGMsMCxjLmxlbmd0aCk7YiYmKGMubGVuZ3RoPWEpO3JldHVybiBjfW58fFlhLnB1c2goe3ZoOmZ1bmN0aW9uKCl7bWUoKX19KTtcclxuICAgICB2YXIgR2U9e2M6ZnVuY3Rpb24oYSxiLGMsZCl7dShcIkFzc2VydGlvbiBmYWlsZWQ6IFwiK0EoYSkrXCIsIGF0OiBcIitbYj9BKGIpOlwidW5rbm93biBmaWxlbmFtZVwiLGMsZD9BKGQpOlwidW5rbm93biBmdW5jdGlvblwiXSl9LEs6ZnVuY3Rpb24oYSxiKXthPW5lKGEsYik7aWYoIW5vRXhpdFJ1bnRpbWUpcmV0dXJuIHBvc3RNZXNzYWdlKHtjbWQ6XCJleGl0UHJvY2Vzc1wiLHJldHVybkNvZGU6YX0pLGF9LFc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSGIoYSxiKX0sYWE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSWIoYSxiKX0sdmE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSmIoYSxiKX0sdWE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2IoYSxiKX0sTWE6bGMsRWE6bWMsdTpuYyxOYTpvYyxLYTpwYyxIYTpxYyxWOnNjLE9hOnRjLFBhOnVjLHlhOnZjLEFhOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHphOnhjLERhOmZ1bmN0aW9uKCl7cmV0dXJuLTYzfSxZOnljLExhOnpjLEphOkFjLENhOkJjLHdhOkNjLEdhOkRjLFxyXG4gICAgIElhOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHQ6UmMsWDpTYyxGYTpmdW5jdGlvbihhKXt0cnl7aWYoIWEpcmV0dXJuLTIxO3ZhciBiPXtfX3NpemVfXzozOTAsc3lzbmFtZTowLG5vZGVuYW1lOjY1LHJlbGVhc2U6MTMwLHZlcnNpb246MTk1LG1hY2hpbmU6MjYwLGRvbWFpbm5hbWU6MzI1fTtSYShcIkVtc2NyaXB0ZW5cIixhK2Iuc3lzbmFtZSk7UmEoXCJlbXNjcmlwdGVuXCIsYStiLm5vZGVuYW1lKTtSYShcIjEuMFwiLGErYi5yZWxlYXNlKTtSYShcIiMxXCIsYStiLnZlcnNpb24pO1JhKFwieDg2LUpTXCIsYStiLm1hY2hpbmUpO3JldHVybiAwfWNhdGNoKGMpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTiYmYyBpbnN0YW5jZW9mIE4uYWZ8fHUoYyksLWMuZWZ9fSxCYTpUYyxwYTpmdW5jdGlvbihhLGIpe2lmKGE9PWIpcG9zdE1lc3NhZ2Uoe2NtZDpcInByb2Nlc3NRdWV1ZWRNYWluVGhyZWFkV29ya1wifSk7ZWxzZSBpZihuKXBvc3RNZXNzYWdlKHt0YXJnZXRUaHJlYWQ6YSxjbWQ6XCJwcm9jZXNzVGhyZWFkUXVldWVcIn0pO1xyXG4gICAgIGVsc2V7YT0oYT1MLkVmW2FdKSYmYS53b3JrZXI7aWYoIWEpcmV0dXJuO2EucG9zdE1lc3NhZ2Uoe2NtZDpcInByb2Nlc3NUaHJlYWRRdWV1ZVwifSl9cmV0dXJuIDF9LGI6ZnVuY3Rpb24oKXt1KCl9LFFhOlVjLFRhOkhiLCQ6ZnVuY3Rpb24oKXt1KFwiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nXCIpfSxVYTpmdW5jdGlvbigpe3UoXCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmdcIil9LEY6ZnVuY3Rpb24oYSxiLGMpe0RkLmxlbmd0aD0wO3ZhciBkO2ZvcihjPj49MjtkPUthW2IrK107KShkPTEwNT5kKSYmYyYxJiZjKyssRGQucHVzaChkP1VhW2MrKz4+XHJcbiAgICAgMV06RFtjXSksKytjO3JldHVybiBvYlthXS5hcHBseShudWxsLERkKX0scWE6VmMsSTpmdW5jdGlvbigpe30sQTpXYyxwOnZiLHo6RWIsRWQ6ZnVuY3Rpb24oYSl7VS5hY3RpdmVUZXh0dXJlKGEpfSxEZDpmdW5jdGlvbihhLGIpe1UuYXR0YWNoU2hhZGVyKFJbYV0sZWRbYl0pfSxlYTpmdW5jdGlvbihhLGIpe1UudWYuYmVnaW5RdWVyeUVYVChhLGdkW2JdKX0sQ2Q6ZnVuY3Rpb24oYSxiLGMpe1UuYmluZEF0dHJpYkxvY2F0aW9uKFJbYV0sYixBKGMpKX0sQmQ6ZnVuY3Rpb24oYSxiKXtVLmJpbmRCdWZmZXIoYSxhZFtiXSl9LEFkOmZ1bmN0aW9uKGEsYil7VS5iaW5kRnJhbWVidWZmZXIoYSxiZFtiXSl9LHpkOmZ1bmN0aW9uKGEsYil7VS5iaW5kUmVuZGVyYnVmZmVyKGEsY2RbYl0pfSx5ZDpmdW5jdGlvbihhLGIpe1UuYmluZFRleHR1cmUoYSxkZFtiXSl9LE1kOmZ1bmN0aW9uKGEpe1UuYmluZFZlcnRleEFycmF5KGZkW2FdKX0seGQ6ZnVuY3Rpb24oYSxiLGMsZCl7VS5ibGVuZENvbG9yKGEsXHJcbiAgICAgYixjLGQpfSx3ZDpmdW5jdGlvbihhKXtVLmJsZW5kRXF1YXRpb24oYSl9LHZkOmZ1bmN0aW9uKGEsYil7VS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoYSxiKX0sdWQ6ZnVuY3Rpb24oYSxiKXtVLmJsZW5kRnVuYyhhLGIpfSx0ZDpmdW5jdGlvbihhLGIsYyxkKXtVLmJsZW5kRnVuY1NlcGFyYXRlKGEsYixjLGQpfSxzZDpmdW5jdGlvbihhLGIsYyxkKXtVLmJ1ZmZlckRhdGEoYSxjP0thLnN1YmFycmF5KGMsYytiKTpiLGQpfSxyZDpmdW5jdGlvbihhLGIsYyxkKXtVLmJ1ZmZlclN1YkRhdGEoYSxiLEthLnN1YmFycmF5KGQsZCtjKSl9LHFkOmZ1bmN0aW9uKGEpe3JldHVybiBVLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoYSl9LHBkOmZ1bmN0aW9uKGEpe1UuY2xlYXIoYSl9LG9kOmZ1bmN0aW9uKGEsYixjLGQpe1UuY2xlYXJDb2xvcihhLGIsYyxkKX0sbmQ6ZnVuY3Rpb24oYSl7VS5jbGVhckRlcHRoKGEpfSxtZDpmdW5jdGlvbihhKXtVLmNsZWFyU3RlbmNpbChhKX0sbGQ6ZnVuY3Rpb24oYSxcclxuICAgICBiLGMsZCl7VS5jb2xvck1hc2soISFhLCEhYiwhIWMsISFkKX0sa2Q6ZnVuY3Rpb24oYSl7VS5jb21waWxlU2hhZGVyKGVkW2FdKX0samQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGcsayxtKXtVLmNvbXByZXNzZWRUZXhJbWFnZTJEKGEsYixjLGQsZSxnLG0/S2Euc3ViYXJyYXkobSxtK2spOm51bGwpfSxpZDpmdW5jdGlvbihhLGIsYyxkLGUsZyxrLG0scil7VS5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRChhLGIsYyxkLGUsZyxrLHI/S2Euc3ViYXJyYXkocixyK20pOm51bGwpfSxoZDpmdW5jdGlvbihhLGIsYyxkLGUsZyxrLG0pe1UuY29weVRleEltYWdlMkQoYSxiLGMsZCxlLGcsayxtKX0sZ2Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGcsayxtKXtVLmNvcHlUZXhTdWJJbWFnZTJEKGEsYixjLGQsZSxnLGssbSl9LGZkOmZ1bmN0aW9uKCl7dmFyIGE9bGQoUiksYj1VLmNyZWF0ZVByb2dyYW0oKTtiLm5hbWU9YTtSW2FdPWI7cmV0dXJuIGF9LGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWxkKGVkKTtlZFtiXT1cclxuICAgICBVLmNyZWF0ZVNoYWRlcihhKTtyZXR1cm4gYn0sZGQ6ZnVuY3Rpb24oYSl7VS5jdWxsRmFjZShhKX0sY2Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGE7YysrKXt2YXIgZD1EW2IrNCpjPj4yXSxlPWFkW2RdO2UmJihVLmRlbGV0ZUJ1ZmZlcihlKSxlLm5hbWU9MCxhZFtkXT1udWxsKX19LGJkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhOysrYyl7dmFyIGQ9RFtiKzQqYz4+Ml0sZT1iZFtkXTtlJiYoVS5kZWxldGVGcmFtZWJ1ZmZlcihlKSxlLm5hbWU9MCxiZFtkXT1udWxsKX19LGFkOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPVJbYV07Yj8oVS5kZWxldGVQcm9ncmFtKGIpLGIubmFtZT0wLFJbYV09bnVsbCxoZFthXT1udWxsKTpUKDEyODEpfX0sZ2E6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGE7YysrKXt2YXIgZD1EW2IrNCpjPj4yXSxlPWdkW2RdO2UmJihVLnVmLmRlbGV0ZVF1ZXJ5RVhUKGUpLGdkW2RdPW51bGwpfX0sJGM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9XHJcbiAgICAgMDtjPGE7YysrKXt2YXIgZD1EW2IrNCpjPj4yXSxlPWNkW2RdO2UmJihVLmRlbGV0ZVJlbmRlcmJ1ZmZlcihlKSxlLm5hbWU9MCxjZFtkXT1udWxsKX19LF9jOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPWVkW2FdO2I/KFUuZGVsZXRlU2hhZGVyKGIpLGVkW2FdPW51bGwpOlQoMTI4MSl9fSxaYzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YTtjKyspe3ZhciBkPURbYis0KmM+PjJdLGU9ZGRbZF07ZSYmKFUuZGVsZXRlVGV4dHVyZShlKSxlLm5hbWU9MCxkZFtkXT1udWxsKX19LExkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhO2MrKyl7dmFyIGQ9RFtiKzQqYz4+Ml07VS5kZWxldGVWZXJ0ZXhBcnJheShmZFtkXSk7ZmRbZF09bnVsbH19LFljOmZ1bmN0aW9uKGEpe1UuZGVwdGhGdW5jKGEpfSxYYzpmdW5jdGlvbihhKXtVLmRlcHRoTWFzayghIWEpfSxXYzpmdW5jdGlvbihhLGIpe1UuZGVwdGhSYW5nZShhLGIpfSxWYzpmdW5jdGlvbihhLGIpe1UuZGV0YWNoU2hhZGVyKFJbYV0sXHJcbiAgICAgZWRbYl0pfSxVYzpmdW5jdGlvbihhKXtVLmRpc2FibGUoYSl9LFRjOmZ1bmN0aW9uKGEpe1UuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGEpfSxTYzpmdW5jdGlvbihhLGIsYyl7VS5kcmF3QXJyYXlzKGEsYixjKX0sSGQ6ZnVuY3Rpb24oYSxiLGMsZCl7VS5kcmF3QXJyYXlzSW5zdGFuY2VkKGEsYixjLGQpfSxJZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1vZFthXSxkPTA7ZDxhO2QrKyljW2RdPURbYis0KmQ+PjJdO1UuZHJhd0J1ZmZlcnMoYyl9LFJjOmZ1bmN0aW9uKGEsYixjLGQpe1UuZHJhd0VsZW1lbnRzKGEsYixjLGQpfSxHZDpmdW5jdGlvbihhLGIsYyxkLGUpe1UuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGEsYixjLGQsZSl9LFFjOmZ1bmN0aW9uKGEpe1UuZW5hYmxlKGEpfSxQYzpmdW5jdGlvbihhKXtVLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGEpfSxkYTpmdW5jdGlvbihhKXtVLnVmLmVuZFF1ZXJ5RVhUKGEpfSxPYzpmdW5jdGlvbigpe1UuZmluaXNoKCl9LE5jOmZ1bmN0aW9uKCl7VS5mbHVzaCgpfSxcclxuICAgICBNYzpmdW5jdGlvbihhLGIsYyxkKXtVLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGEsYixjLGNkW2RdKX0sTGM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtVLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGEsYixjLGRkW2RdLGUpfSxLYzpmdW5jdGlvbihhKXtVLmZyb250RmFjZShhKX0sSmM6ZnVuY3Rpb24oYSxiKXtwZChhLGIsXCJjcmVhdGVCdWZmZXJcIixhZCl9LEhjOmZ1bmN0aW9uKGEsYil7cGQoYSxiLFwiY3JlYXRlRnJhbWVidWZmZXJcIixiZCl9LGhhOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhO2MrKyl7dmFyIGQ9VS51Zi5jcmVhdGVRdWVyeUVYVCgpO2lmKCFkKXtmb3IoVCgxMjgyKTtjPGE7KURbYis0KmMrKz4+Ml09MDticmVha312YXIgZT1sZChnZCk7ZC5uYW1lPWU7Z2RbZV09ZDtEW2IrNCpjPj4yXT1lfX0sR2M6ZnVuY3Rpb24oYSxiKXtwZChhLGIsXCJjcmVhdGVSZW5kZXJidWZmZXJcIixjZCl9LEZjOmZ1bmN0aW9uKGEsYil7cGQoYSxiLFwiY3JlYXRlVGV4dHVyZVwiLGRkKX0sS2Q6ZnVuY3Rpb24oYSxcclxuICAgICBiKXtwZChhLGIsXCJjcmVhdGVWZXJ0ZXhBcnJheVwiLGZkKX0sSWM6ZnVuY3Rpb24oYSl7VS5nZW5lcmF0ZU1pcG1hcChhKX0sRWM6ZnVuY3Rpb24oYSxiLGMsZCxlLGcsayl7c2QoXCJnZXRBY3RpdmVBdHRyaWJcIixhLGIsYyxkLGUsZyxrKX0sRGM6ZnVuY3Rpb24oYSxiLGMsZCxlLGcsayl7c2QoXCJnZXRBY3RpdmVVbmlmb3JtXCIsYSxiLGMsZCxlLGcsayl9LENjOmZ1bmN0aW9uKGEsYixjLGQpe2E9VS5nZXRBdHRhY2hlZFNoYWRlcnMoUlthXSk7dmFyIGU9YS5sZW5ndGg7ZT5iJiYoZT1iKTtEW2M+PjJdPWU7Zm9yKGI9MDtiPGU7KytiKURbZCs0KmI+PjJdPWVkLmluZGV4T2YoYVtiXSl9LEJjOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuZ2V0QXR0cmliTG9jYXRpb24oUlthXSxBKGIpKX0sQWM6ZnVuY3Rpb24oYSxiKXt1ZChhLGIsNCl9LHpjOmZ1bmN0aW9uKGEsYixjKXtjP0RbYz4+Ml09VS5nZXRCdWZmZXJQYXJhbWV0ZXIoYSxiKTpUKDEyODEpfSx5YzpmdW5jdGlvbigpe3ZhciBhPVUuZ2V0RXJyb3IoKXx8XHJcbiAgICAga2Q7a2Q9MDtyZXR1cm4gYX0seGM6ZnVuY3Rpb24oYSxiKXt1ZChhLGIsMil9LHdjOmZ1bmN0aW9uKGEsYixjLGQpe2E9VS5nZXRGcmFtZWJ1ZmZlckF0dGFjaG1lbnRQYXJhbWV0ZXIoYSxiLGMpO2lmKGEgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmJ1ZmZlcnx8YSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZSlhPWEubmFtZXwwO0RbZD4+Ml09YX0sdmM6ZnVuY3Rpb24oYSxiKXt1ZChhLGIsMCl9LHRjOmZ1bmN0aW9uKGEsYixjLGQpe2E9VS5nZXRQcm9ncmFtSW5mb0xvZyhSW2FdKTtudWxsPT09YSYmKGE9XCIodW5rbm93biBlcnJvcilcIik7Yj0wPGImJmQ/SWEoYSxkLGIpOjA7YyYmKERbYz4+Ml09Yil9LHVjOmZ1bmN0aW9uKGEsYixjKXtpZihjKWlmKGE+PSRjKVQoMTI4MSk7ZWxzZXt2YXIgZD1oZFthXTtpZihkKWlmKDM1NzE2PT1iKWE9VS5nZXRQcm9ncmFtSW5mb0xvZyhSW2FdKSxudWxsPT09YSYmKGE9XCIodW5rbm93biBlcnJvcilcIiksRFtjPj4yXT1hLmxlbmd0aCsxO2Vsc2UgaWYoMzU3MTk9PVxyXG4gICAgIGIpRFtjPj4yXT1kLlhnO2Vsc2UgaWYoMzU3MjI9PWIpe2lmKC0xPT1kLmpnKXthPVJbYV07dmFyIGU9VS5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsMzU3MjEpO2ZvcihiPWQuamc9MDtiPGU7KytiKWQuamc9TWF0aC5tYXgoZC5qZyxVLmdldEFjdGl2ZUF0dHJpYihhLGIpLm5hbWUubGVuZ3RoKzEpfURbYz4+Ml09ZC5qZ31lbHNlIGlmKDM1MzgxPT1iKXtpZigtMT09ZC5rZylmb3IoYT1SW2FdLGU9VS5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsMzUzODIpLGI9ZC5rZz0wO2I8ZTsrK2IpZC5rZz1NYXRoLm1heChkLmtnLFUuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrTmFtZShhLGIpLmxlbmd0aCsxKTtEW2M+PjJdPWQua2d9ZWxzZSBEW2M+PjJdPVUuZ2V0UHJvZ3JhbVBhcmFtZXRlcihSW2FdLGIpO2Vsc2UgVCgxMjgyKX1lbHNlIFQoMTI4MSl9LE9kOmZ1bmN0aW9uKGEsYixjKXtpZihjKXthPVUudWYuZ2V0UXVlcnlPYmplY3RFWFQoZ2RbYV0sYik7dmFyIGQ7XCJib29sZWFuXCI9PXR5cGVvZiBhP1xyXG4gICAgIGQ9YT8xOjA6ZD1hO3RkKGMsZCl9ZWxzZSBUKDEyODEpfSxRZDpmdW5jdGlvbihhLGIsYyl7aWYoYyl7YT1VLnVmLmdldFF1ZXJ5T2JqZWN0RVhUKGdkW2FdLGIpO3ZhciBkO1wiYm9vbGVhblwiPT10eXBlb2YgYT9kPWE/MTowOmQ9YTtEW2M+PjJdPWR9ZWxzZSBUKDEyODEpfSxOZDpmdW5jdGlvbihhLGIsYyl7aWYoYyl7YT1VLnVmLmdldFF1ZXJ5T2JqZWN0RVhUKGdkW2FdLGIpO3ZhciBkO1wiYm9vbGVhblwiPT10eXBlb2YgYT9kPWE/MTowOmQ9YTt0ZChjLGQpfWVsc2UgVCgxMjgxKX0sUGQ6ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe2E9VS51Zi5nZXRRdWVyeU9iamVjdEVYVChnZFthXSxiKTt2YXIgZDtcImJvb2xlYW5cIj09dHlwZW9mIGE/ZD1hPzE6MDpkPWE7RFtjPj4yXT1kfWVsc2UgVCgxMjgxKX0sUmQ6ZnVuY3Rpb24oYSxiLGMpe2M/RFtjPj4yXT1VLnVmLmdldFF1ZXJ5RVhUKGEsYik6VCgxMjgxKX0sc2M6ZnVuY3Rpb24oYSxiLGMpe2M/RFtjPj4yXT1VLmdldFJlbmRlcmJ1ZmZlclBhcmFtZXRlcihhLFxyXG4gICAgIGIpOlQoMTI4MSl9LHFjOmZ1bmN0aW9uKGEsYixjLGQpe2E9VS5nZXRTaGFkZXJJbmZvTG9nKGVkW2FdKTtudWxsPT09YSYmKGE9XCIodW5rbm93biBlcnJvcilcIik7Yj0wPGImJmQ/SWEoYSxkLGIpOjA7YyYmKERbYz4+Ml09Yil9LHBjOmZ1bmN0aW9uKGEsYixjLGQpe2E9VS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYSxiKTtEW2M+PjJdPWEucmFuZ2VNaW47RFtjKzQ+PjJdPWEucmFuZ2VNYXg7RFtkPj4yXT1hLnByZWNpc2lvbn0sb2M6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYT1VLmdldFNoYWRlclNvdXJjZShlZFthXSkpYj0wPGImJmQ/SWEoYSxkLGIpOjAsYyYmKERbYz4+Ml09Yil9LHJjOmZ1bmN0aW9uKGEsYixjKXtjPzM1NzE2PT1iPyhhPVUuZ2V0U2hhZGVySW5mb0xvZyhlZFthXSksbnVsbD09PWEmJihhPVwiKHVua25vd24gZXJyb3IpXCIpLERbYz4+Ml09YT9hLmxlbmd0aCsxOjApOjM1NzIwPT1iPyhhPVUuZ2V0U2hhZGVyU291cmNlKGVkW2FdKSxEW2M+PjJdPWE/YS5sZW5ndGgrXHJcbiAgICAgMTowKTpEW2M+PjJdPVUuZ2V0U2hhZGVyUGFyYW1ldGVyKGVkW2FdLGIpOlQoMTI4MSl9LG5jOmZ1bmN0aW9uKGEpe2lmKGlkW2FdKXJldHVybiBpZFthXTtzd2l0Y2goYSl7Y2FzZSA3OTM5OnZhciBiPVUuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxbXTtiPWIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGQpe3JldHVyblwiR0xfXCIrZH0pKTtiPXZkKGIuam9pbihcIiBcIikpO2JyZWFrO2Nhc2UgNzkzNjpjYXNlIDc5Mzc6Y2FzZSAzNzQ0NTpjYXNlIDM3NDQ2OihiPVUuZ2V0UGFyYW1ldGVyKGEpKXx8VCgxMjgwKTtiPXZkKGIpO2JyZWFrO2Nhc2UgNzkzODpiPXZkKFwiT3BlbkdMIEVTIDIuMCAoXCIrVS5nZXRQYXJhbWV0ZXIoNzkzOCkrXCIpXCIpO2JyZWFrO2Nhc2UgMzU3MjQ6Yj1VLmdldFBhcmFtZXRlcigzNTcyNCk7dmFyIGM9Yi5tYXRjaCgvXldlYkdMIEdMU0wgRVMgKFswLTldXFwuWzAtOV1bMC05XT8pKD86JHwgLiopLyk7bnVsbCE9PWMmJigzPT1jWzFdLmxlbmd0aCYmKGNbMV0rPVwiMFwiKSxcclxuICAgICBiPVwiT3BlbkdMIEVTIEdMU0wgRVMgXCIrY1sxXStcIiAoXCIrYitcIilcIik7Yj12ZChiKTticmVhaztkZWZhdWx0OnJldHVybiBUKDEyODApLDB9cmV0dXJuIGlkW2FdPWJ9LG1jOmZ1bmN0aW9uKGEsYixjKXtjP0ZbYz4+Ml09VS5nZXRUZXhQYXJhbWV0ZXIoYSxiKTpUKDEyODEpfSxsYzpmdW5jdGlvbihhLGIsYyl7Yz9EW2M+PjJdPVUuZ2V0VGV4UGFyYW1ldGVyKGEsYik6VCgxMjgxKX0saWM6ZnVuY3Rpb24oYSxiKXtiPUEoYik7dmFyIGM9MDtpZihcIl1cIj09YltiLmxlbmd0aC0xXSl7dmFyIGQ9Yi5sYXN0SW5kZXhPZihcIltcIik7Yz1cIl1cIiE9YltkKzFdP3BhcnNlSW50KGIuc2xpY2UoZCsxKSk6MDtiPWIuc2xpY2UoMCxkKX1yZXR1cm4oYT1oZFthXSYmaGRbYV0uTmhbYl0pJiYwPD1jJiZjPGFbMF0/YVsxXStjOi0xfSxrYzpmdW5jdGlvbihhLGIsYyl7d2QoYSxiLGMsMil9LGpjOmZ1bmN0aW9uKGEsYixjKXt3ZChhLGIsYywwKX0sZmM6ZnVuY3Rpb24oYSxiLGMpe2M/RFtjPj4yXT1VLmdldFZlcnRleEF0dHJpYk9mZnNldChhLFxyXG4gICAgIGIpOlQoMTI4MSl9LGhjOmZ1bmN0aW9uKGEsYixjKXt4ZChhLGIsYywyKX0sZ2M6ZnVuY3Rpb24oYSxiLGMpe3hkKGEsYixjLDUpfSxlYzpmdW5jdGlvbihhLGIpe1UuaGludChhLGIpfSxkYzpmdW5jdGlvbihhKXtyZXR1cm4oYT1hZFthXSk/VS5pc0J1ZmZlcihhKTowfSxjYzpmdW5jdGlvbihhKXtyZXR1cm4gVS5pc0VuYWJsZWQoYSl9LGJjOmZ1bmN0aW9uKGEpe3JldHVybihhPWJkW2FdKT9VLmlzRnJhbWVidWZmZXIoYSk6MH0sYWM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9UlthXSk/VS5pc1Byb2dyYW0oYSk6MH0sZmE6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9Z2RbYV0pP1UudWYuaXNRdWVyeUVYVChhKTowfSwkYjpmdW5jdGlvbihhKXtyZXR1cm4oYT1jZFthXSk/VS5pc1JlbmRlcmJ1ZmZlcihhKTowfSxfYjpmdW5jdGlvbihhKXtyZXR1cm4oYT1lZFthXSk/VS5pc1NoYWRlcihhKTowfSxaYjpmdW5jdGlvbihhKXtyZXR1cm4oYT1kZFthXSk/VS5pc1RleHR1cmUoYSk6MH0sSmQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9XHJcbiAgICAgZmRbYV0pP1UuaXNWZXJ0ZXhBcnJheShhKTowfSxZYjpmdW5jdGlvbihhKXtVLmxpbmVXaWR0aChhKX0sWGI6ZnVuY3Rpb24oYSl7VS5saW5rUHJvZ3JhbShSW2FdKTt2YXIgYj1SW2FdO2E9aGRbYV09e05oOnt9LFhnOjAsamc6LTEsa2c6LTF9O2Zvcih2YXIgYz1hLk5oLGQ9VS5nZXRQcm9ncmFtUGFyYW1ldGVyKGIsMzU3MTgpLGU9MDtlPGQ7KytlKXt2YXIgZz1VLmdldEFjdGl2ZVVuaWZvcm0oYixlKSxrPWcubmFtZTthLlhnPU1hdGgubWF4KGEuWGcsay5sZW5ndGgrMSk7XCJdXCI9PWsuc2xpY2UoLTEpJiYoaz1rLnNsaWNlKDAsay5sYXN0SW5kZXhPZihcIltcIikpKTt2YXIgbT1VLmdldFVuaWZvcm1Mb2NhdGlvbihiLGspO2lmKG0pe3ZhciByPWxkKFMpO2Nba109W2cuc2l6ZSxyXTtTW3JdPW07Zm9yKHZhciBxPTE7cTxnLnNpemU7KytxKW09VS5nZXRVbmlmb3JtTG9jYXRpb24oYixrK1wiW1wiK3ErXCJdXCIpLHI9bGQoUyksU1tyXT1tfX19LFdiOmZ1bmN0aW9uKGEsYil7MzMxNz09YSYmXHJcbiAgICAgKGpkPWIpO1UucGl4ZWxTdG9yZWkoYSxiKX0sVmI6ZnVuY3Rpb24oYSxiKXtVLnBvbHlnb25PZmZzZXQoYSxiKX0sY2E6ZnVuY3Rpb24oYSxiKXtVLnVmLnF1ZXJ5Q291bnRlckVYVChnZFthXSxiKX0sVWI6ZnVuY3Rpb24oYSxiLGMsZCxlLGcsayl7KGs9eWQoZyxlLGMsZCxrKSk/VS5yZWFkUGl4ZWxzKGEsYixjLGQsZSxnLGspOlQoMTI4MCl9LFRiOmZ1bmN0aW9uKCl7fSxTYjpmdW5jdGlvbihhLGIsYyxkKXtVLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoYSxiLGMsZCl9LFJiOmZ1bmN0aW9uKGEsYil7VS5zYW1wbGVDb3ZlcmFnZShhLCEhYil9LFFiOmZ1bmN0aW9uKGEsYixjLGQpe1Uuc2Npc3NvcihhLGIsYyxkKX0sUGI6ZnVuY3Rpb24oKXtUKDEyODApfSxPYjpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9XCJcIixnPTA7ZzxiOysrZyl7dmFyIGs9ZD9EW2QrNCpnPj4yXTotMTtlKz1BKERbYys0Kmc+PjJdLDA+az92b2lkIDA6ayl9VS5zaGFkZXJTb3VyY2UoZWRbYV0sZSl9LE5iOmZ1bmN0aW9uKGEsXHJcbiAgICAgYixjKXtVLnN0ZW5jaWxGdW5jKGEsYixjKX0sTWI6ZnVuY3Rpb24oYSxiLGMsZCl7VS5zdGVuY2lsRnVuY1NlcGFyYXRlKGEsYixjLGQpfSxMYjpmdW5jdGlvbihhKXtVLnN0ZW5jaWxNYXNrKGEpfSxLYjpmdW5jdGlvbihhLGIpe1Uuc3RlbmNpbE1hc2tTZXBhcmF0ZShhLGIpfSxKYjpmdW5jdGlvbihhLGIsYyl7VS5zdGVuY2lsT3AoYSxiLGMpfSxJYjpmdW5jdGlvbihhLGIsYyxkKXtVLnN0ZW5jaWxPcFNlcGFyYXRlKGEsYixjLGQpfSxIYjpmdW5jdGlvbihhLGIsYyxkLGUsZyxrLG0scil7VS50ZXhJbWFnZTJEKGEsYixjLGQsZSxnLGssbSxyP3lkKG0sayxkLGUscik6bnVsbCl9LEdiOmZ1bmN0aW9uKGEsYixjKXtVLnRleFBhcmFtZXRlcmYoYSxiLGMpfSxGYjpmdW5jdGlvbihhLGIsYyl7VS50ZXhQYXJhbWV0ZXJmKGEsYixGW2M+PjJdKX0sRWI6ZnVuY3Rpb24oYSxiLGMpe1UudGV4UGFyYW1ldGVyaShhLGIsYyl9LERiOmZ1bmN0aW9uKGEsYixjKXtVLnRleFBhcmFtZXRlcmkoYSxcclxuICAgICBiLERbYz4+Ml0pfSxDYjpmdW5jdGlvbihhLGIsYyxkLGUsZyxrLG0scil7dmFyIHE9bnVsbDtyJiYocT15ZChtLGssZSxnLHIpKTtVLnRleFN1YkltYWdlMkQoYSxiLGMsZCxlLGcsayxtLHEpfSxCYjpmdW5jdGlvbihhLGIpe1UudW5pZm9ybTFmKFNbYV0sYil9LEFiOmZ1bmN0aW9uKGEsYixjKXtpZigyODg+PWIpZm9yKHZhciBkPXpkW2ItMV0sZT0wO2U8YjsrK2UpZFtlXT1GW2MrNCplPj4yXTtlbHNlIGQ9Ri5zdWJhcnJheShjPj4yLGMrNCpiPj4yKTtVLnVuaWZvcm0xZnYoU1thXSxkKX0semI6ZnVuY3Rpb24oYSxiKXtVLnVuaWZvcm0xaShTW2FdLGIpfSx5YjpmdW5jdGlvbihhLGIsYyl7aWYoMjg4Pj1iKWZvcih2YXIgZD1BZFtiLTFdLGU9MDtlPGI7KytlKWRbZV09RFtjKzQqZT4+Ml07ZWxzZSBkPUQuc3ViYXJyYXkoYz4+MixjKzQqYj4+Mik7VS51bmlmb3JtMWl2KFNbYV0sZCl9LHhiOmZ1bmN0aW9uKGEsYixjKXtVLnVuaWZvcm0yZihTW2FdLGIsYyl9LHdiOmZ1bmN0aW9uKGEsXHJcbiAgICAgYixjKXtpZigxNDQ+PWIpZm9yKHZhciBkPXpkWzIqYi0xXSxlPTA7ZTwyKmI7ZSs9MilkW2VdPUZbYys0KmU+PjJdLGRbZSsxXT1GW2MrKDQqZSs0KT4+Ml07ZWxzZSBkPUYuc3ViYXJyYXkoYz4+MixjKzgqYj4+Mik7VS51bmlmb3JtMmZ2KFNbYV0sZCl9LHZiOmZ1bmN0aW9uKGEsYixjKXtVLnVuaWZvcm0yaShTW2FdLGIsYyl9LHViOmZ1bmN0aW9uKGEsYixjKXtpZigxNDQ+PWIpZm9yKHZhciBkPUFkWzIqYi0xXSxlPTA7ZTwyKmI7ZSs9MilkW2VdPURbYys0KmU+PjJdLGRbZSsxXT1EW2MrKDQqZSs0KT4+Ml07ZWxzZSBkPUQuc3ViYXJyYXkoYz4+MixjKzgqYj4+Mik7VS51bmlmb3JtMml2KFNbYV0sZCl9LHRiOmZ1bmN0aW9uKGEsYixjLGQpe1UudW5pZm9ybTNmKFNbYV0sYixjLGQpfSxzYjpmdW5jdGlvbihhLGIsYyl7aWYoOTY+PWIpZm9yKHZhciBkPXpkWzMqYi0xXSxlPTA7ZTwzKmI7ZSs9MylkW2VdPUZbYys0KmU+PjJdLGRbZSsxXT1GW2MrKDQqZSs0KT4+Ml0sZFtlKzJdPVxyXG4gICAgIEZbYysoNCplKzgpPj4yXTtlbHNlIGQ9Ri5zdWJhcnJheShjPj4yLGMrMTIqYj4+Mik7VS51bmlmb3JtM2Z2KFNbYV0sZCl9LHJiOmZ1bmN0aW9uKGEsYixjLGQpe1UudW5pZm9ybTNpKFNbYV0sYixjLGQpfSxxYjpmdW5jdGlvbihhLGIsYyl7aWYoOTY+PWIpZm9yKHZhciBkPUFkWzMqYi0xXSxlPTA7ZTwzKmI7ZSs9MylkW2VdPURbYys0KmU+PjJdLGRbZSsxXT1EW2MrKDQqZSs0KT4+Ml0sZFtlKzJdPURbYysoNCplKzgpPj4yXTtlbHNlIGQ9RC5zdWJhcnJheShjPj4yLGMrMTIqYj4+Mik7VS51bmlmb3JtM2l2KFNbYV0sZCl9LHBiOmZ1bmN0aW9uKGEsYixjLGQsZSl7VS51bmlmb3JtNGYoU1thXSxiLGMsZCxlKX0sb2I6ZnVuY3Rpb24oYSxiLGMpe2lmKDcyPj1iKXt2YXIgZD16ZFs0KmItMV07Yz4+PTI7Zm9yKHZhciBlPTA7ZTw0KmI7ZSs9NCl7dmFyIGc9YytlO2RbZV09RltnXTtkW2UrMV09RltnKzFdO2RbZSsyXT1GW2crMl07ZFtlKzNdPUZbZyszXX19ZWxzZSBkPUYuc3ViYXJyYXkoYz4+XHJcbiAgICAgMixjKzE2KmI+PjIpO1UudW5pZm9ybTRmdihTW2FdLGQpfSxuYjpmdW5jdGlvbihhLGIsYyxkLGUpe1UudW5pZm9ybTRpKFNbYV0sYixjLGQsZSl9LG1iOmZ1bmN0aW9uKGEsYixjKXtpZig3Mj49Yilmb3IodmFyIGQ9QWRbNCpiLTFdLGU9MDtlPDQqYjtlKz00KWRbZV09RFtjKzQqZT4+Ml0sZFtlKzFdPURbYysoNCplKzQpPj4yXSxkW2UrMl09RFtjKyg0KmUrOCk+PjJdLGRbZSszXT1EW2MrKDQqZSsxMik+PjJdO2Vsc2UgZD1ELnN1YmFycmF5KGM+PjIsYysxNipiPj4yKTtVLnVuaWZvcm00aXYoU1thXSxkKX0sbGI6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoNzI+PWIpZm9yKHZhciBlPXpkWzQqYi0xXSxnPTA7Zzw0KmI7Zys9NCllW2ddPUZbZCs0Kmc+PjJdLGVbZysxXT1GW2QrKDQqZys0KT4+Ml0sZVtnKzJdPUZbZCsoNCpnKzgpPj4yXSxlW2crM109RltkKyg0KmcrMTIpPj4yXTtlbHNlIGU9Ri5zdWJhcnJheShkPj4yLGQrMTYqYj4+Mik7VS51bmlmb3JtTWF0cml4MmZ2KFNbYV0sXHJcbiAgICAgISFjLGUpfSxrYjpmdW5jdGlvbihhLGIsYyxkKXtpZigzMj49Yilmb3IodmFyIGU9emRbOSpiLTFdLGc9MDtnPDkqYjtnKz05KWVbZ109RltkKzQqZz4+Ml0sZVtnKzFdPUZbZCsoNCpnKzQpPj4yXSxlW2crMl09RltkKyg0KmcrOCk+PjJdLGVbZyszXT1GW2QrKDQqZysxMik+PjJdLGVbZys0XT1GW2QrKDQqZysxNik+PjJdLGVbZys1XT1GW2QrKDQqZysyMCk+PjJdLGVbZys2XT1GW2QrKDQqZysyNCk+PjJdLGVbZys3XT1GW2QrKDQqZysyOCk+PjJdLGVbZys4XT1GW2QrKDQqZyszMik+PjJdO2Vsc2UgZT1GLnN1YmFycmF5KGQ+PjIsZCszNipiPj4yKTtVLnVuaWZvcm1NYXRyaXgzZnYoU1thXSwhIWMsZSl9LGpiOmZ1bmN0aW9uKGEsYixjLGQpe2lmKDE4Pj1iKXt2YXIgZT16ZFsxNipiLTFdO2Q+Pj0yO2Zvcih2YXIgZz0wO2c8MTYqYjtnKz0xNil7dmFyIGs9ZCtnO2VbZ109RltrXTtlW2crMV09RltrKzFdO2VbZysyXT1GW2srMl07ZVtnKzNdPUZbayszXTtlW2crNF09RltrKzRdO1xyXG4gICAgIGVbZys1XT1GW2srNV07ZVtnKzZdPUZbays2XTtlW2crN109RltrKzddO2VbZys4XT1GW2srOF07ZVtnKzldPUZbays5XTtlW2crMTBdPUZbaysxMF07ZVtnKzExXT1GW2srMTFdO2VbZysxMl09RltrKzEyXTtlW2crMTNdPUZbaysxM107ZVtnKzE0XT1GW2srMTRdO2VbZysxNV09RltrKzE1XX19ZWxzZSBlPUYuc3ViYXJyYXkoZD4+MixkKzY0KmI+PjIpO1UudW5pZm9ybU1hdHJpeDRmdihTW2FdLCEhYyxlKX0saWI6ZnVuY3Rpb24oYSl7VS51c2VQcm9ncmFtKFJbYV0pfSxoYjpmdW5jdGlvbihhKXtVLnZhbGlkYXRlUHJvZ3JhbShSW2FdKX0sZ2I6ZnVuY3Rpb24oYSxiKXtVLnZlcnRleEF0dHJpYjFmKGEsYil9LGZiOmZ1bmN0aW9uKGEsYil7VS52ZXJ0ZXhBdHRyaWIxZihhLEZbYj4+Ml0pfSxlYjpmdW5jdGlvbihhLGIsYyl7VS52ZXJ0ZXhBdHRyaWIyZihhLGIsYyl9LGRiOmZ1bmN0aW9uKGEsYil7VS52ZXJ0ZXhBdHRyaWIyZihhLEZbYj4+Ml0sRltiKzQ+PjJdKX0sY2I6ZnVuY3Rpb24oYSxcclxuICAgICBiLGMsZCl7VS52ZXJ0ZXhBdHRyaWIzZihhLGIsYyxkKX0sYmI6ZnVuY3Rpb24oYSxiKXtVLnZlcnRleEF0dHJpYjNmKGEsRltiPj4yXSxGW2IrND4+Ml0sRltiKzg+PjJdKX0sYWI6ZnVuY3Rpb24oYSxiLGMsZCxlKXtVLnZlcnRleEF0dHJpYjRmKGEsYixjLGQsZSl9LCRhOmZ1bmN0aW9uKGEsYil7VS52ZXJ0ZXhBdHRyaWI0ZihhLEZbYj4+Ml0sRltiKzQ+PjJdLEZbYis4Pj4yXSxGW2IrMTI+PjJdKX0sRmQ6ZnVuY3Rpb24oYSxiKXtVLnZlcnRleEF0dHJpYkRpdmlzb3IoYSxiKX0sX2E6ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe1UudmVydGV4QXR0cmliUG9pbnRlcihhLGIsYywhIWQsZSxnKX0sWmE6ZnVuY3Rpb24oYSxiLGMsZCl7VS52aWV3cG9ydChhLGIsYyxkKX0sa2E6ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyfSxHOmZ1bmN0aW9uKCl7cmV0dXJuIHRifDB9LFI6ZnVuY3Rpb24oKXtyZXR1cm4gc2J8MH0sZjpmdW5jdGlvbihhLFxyXG4gICAgIGIpe1koYSxifHwxKTt0aHJvd1wibG9uZ2ptcFwiO30samE6ZnVuY3Rpb24oYSxiLGMpe0thLmNvcHlXaXRoaW4oYSxiLGIrYyl9LG1hOmZ1bmN0aW9uKGEsYixjKXtDZC5sZW5ndGg9YjtjPj49Mztmb3IodmFyIGQ9MDtkPGI7ZCsrKUNkW2RdPVVhW2MrZF07cmV0dXJuKDA+YT9vYlstYS0xXTpsZVthXSkuYXBwbHkobnVsbCxDZCl9LHJhOmZ1bmN0aW9uKCl7dShcIk9PTVwiKX0sbmE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBGZChhKT9HZChhLGIsYyk6SWQoYSxiLGMpfSxROmZ1bmN0aW9uKCl7fSxsYTpmdW5jdGlvbigpe30sb2E6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiPj49MjtjLmFscGhhPSEhRFtiXTtjLmRlcHRoPSEhRFtiKzFdO2Muc3RlbmNpbD0hIURbYisyXTtjLmFudGlhbGlhcz0hIURbYiszXTtjLnByZW11bHRpcGxpZWRBbHBoYT0hIURbYis0XTtjLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj0hIURbYis1XTtjLnBvd2VyUHJlZmVyZW5jZT1KZFtEW2IrNl1dO2MuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1cclxuICAgICAhIURbYis3XTtjLndpPURbYis4XTtjLnBqPURbYis5XTtjLnFoPURbYisxMF07Yy5oaT1EW2IrMTFdO2MudWo9RFtiKzEyXTtjLnZqPURbYisxM107YT1GZChhKTtpZighYXx8Yy5oaSljPTA7ZWxzZSBpZihhPWEuZ2V0Q29udGV4dChcIndlYmdsXCIsYykpe2I9T2EoOCk7RFtiKzQ+PjJdPXJifDA7dmFyIGQ9e2pqOmIsYXR0cmlidXRlczpjLHZlcnNpb246Yy53aSxxZzphfTthLmNhbnZhcyYmKGEuY2FudmFzLnJnPWQpOyhcInVuZGVmaW5lZFwiPT09dHlwZW9mIGMucWh8fGMucWgpJiZtZChkKTtjPWJ9ZWxzZSBjPTA7cmV0dXJuIGN9LHNhOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDtMZCgpLmZvckVhY2goZnVuY3Rpb24oZCxlKXt2YXIgZz1iK2M7RFthKzQqZT4+Ml09ZztSYShkLGcpO2MrPWQubGVuZ3RoKzF9KTtyZXR1cm4gMH0sdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz1MZCgpO0RbYT4+Ml09Yy5sZW5ndGg7dmFyIGQ9MDtjLmZvckVhY2goZnVuY3Rpb24oZSl7ZCs9ZS5sZW5ndGgrMX0pO1xyXG4gICAgIERbYj4+Ml09ZDtyZXR1cm4gMH0sRDpmdW5jdGlvbihhKXtkYShhKX0sSDpOZCxVOk9kLHhhOlBkLFZhOlFkLE06UmQsQjpUZCxkOmZ1bmN0aW9uKCl7cmV0dXJuIEFhfDB9LHk6VWQsdjpmdW5jdGlvbihhLGIsYyxkLGUsZyxrKXtiPVBjKGEsYik7aWYoYi5lZilyZXR1cm4tNjthPWIucG9ydDt2YXIgbT1iLmhmO2I9ITE7aWYoYyYmZCl7dmFyIHI7aWYoayYxfHwhKHI9TGMobSkpKXtpZihrJjgpcmV0dXJuLTJ9ZWxzZSBtPXI7Yz1JYShtLGMsZCk7YysxPj1kJiYoYj0hMCl9ZSYmZyYmKGM9SWEoXCJcIithLGUsZyksYysxPj1nJiYoYj0hMCkpO3JldHVybiBiPy0xMjowfSxsOmZ1bmN0aW9uKGEpe3ZhciBiPURhdGUubm93KCk7RFthPj4yXT1iLzFFM3wwO0RbYSs0Pj4yXT1iJTFFMyoxRTN8MDtyZXR1cm4gMH0scjpKYixpYTpmdW5jdGlvbigpe0wucGkoKX0sYmE6b2UsajpwZSxoOnFlLEM6cmUsUDpzZSxfOnRlLE86dWUsWGE6dmUsV2E6d2Usazp4ZSx3OnllLEo6emUsZzpBZSxOOkJlLFxyXG4gICAgIFNhOkNlLFo6RGUsWWE6RWUscTpPYixhOkNhfHxmLndhc21NZW1vcnksVDpmdW5jdGlvbihhKXtLYigpO3ZhciBiPW5ldyBEYXRlKERbYSsyMD4+Ml0rMTkwMCxEW2ErMTY+PjJdLERbYSsxMj4+Ml0sRFthKzg+PjJdLERbYSs0Pj4yXSxEW2E+PjJdLDApLGM9RFthKzMyPj4yXSxkPWIuZ2V0VGltZXpvbmVPZmZzZXQoKSxlPW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSwwLDEpLGc9KG5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSw2LDEpKS5nZXRUaW1lem9uZU9mZnNldCgpLGs9ZS5nZXRUaW1lem9uZU9mZnNldCgpLG09TWF0aC5taW4oayxnKTswPmM/RFthKzMyPj4yXT1OdW1iZXIoZyE9ayYmbT09ZCk6MDxjIT0obT09ZCkmJihnPU1hdGgubWF4KGssZyksYi5zZXRUaW1lKGIuZ2V0VGltZSgpKzZFNCooKDA8Yz9tOmcpLWQpKSk7RFthKzI0Pj4yXT1iLmdldERheSgpO0RbYSsyOD4+Ml09KGIuZ2V0VGltZSgpLWUuZ2V0VGltZSgpKS84NjRFNXwwO3JldHVybiBiLmdldFRpbWUoKS8xRTN8XHJcbiAgICAgMH0sUmE6ZnVuY3Rpb24oYSl7aWYoYT09PUwuUGgpcmV0dXJuIGgoXCJNYWluIHRocmVhZCAoaWQ9XCIrYStcIikgY2Fubm90IGJlIGNhbmNlbGVkIVwiKSw3MTtpZighYSlyZXR1cm4gaChcInB0aHJlYWRfY2FuY2VsIGF0dGVtcHRlZCBvbiBhIG51bGwgdGhyZWFkIHBvaW50ZXIhXCIpLDcxO2lmKERbYSsxMj4+Ml0hPT1hKXJldHVybiBoKFwicHRocmVhZF9jYW5jZWwgYXR0ZW1wdGVkIG9uIHRocmVhZCBcIithK1wiLCB3aGljaCBkb2VzIG5vdCBwb2ludCB0byBhIHZhbGlkIHRocmVhZCwgb3IgZG9lcyBub3QgZXhpc3QgYW55bW9yZSFcIiksNzE7QXRvbWljcy5jb21wYXJlRXhjaGFuZ2UoRSxhPj4yLDAsMik7bj9wb3N0TWVzc2FnZSh7Y21kOlwiY2FuY2VsVGhyZWFkXCIsdGhyZWFkOmF9KTp3YihhKTtyZXR1cm4gMH0sUzpmdW5jdGlvbihhKXt2YXIgYj1MLkRnLnBvcCgpO2EmJmIoKX0sTDpmdW5jdGlvbihhLGIpe0wuRGcucHVzaChmdW5jdGlvbigpe0cuZ2V0KGEpKGIpfSl9LG46ZnVuY3Rpb24oYSxcclxuICAgICBiLGMsZCl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcilyZXR1cm4gaChcIkN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBTaGFyZWRBcnJheUJ1ZmZlciwgcHRocmVhZHMgYXJlIG5vdCBhdmFpbGFibGUhXCIpLDY7aWYoIWEpcmV0dXJuIGgoXCJwdGhyZWFkX2NyZWF0ZSBjYWxsZWQgd2l0aCBhIG51bGwgdGhyZWFkIHBvaW50ZXIhXCIpLDI4O3ZhciBlPVtdO2lmKG4mJjA9PT1lLmxlbmd0aClyZXR1cm4gRmUoNjg3ODY1ODU2LGEsYixjLGQpO3ZhciBnPTAsaz0wLG09MCxyPTA7aWYoYil7dmFyIHE9RFtiPj4yXTtxKz04MTkyMDtnPURbYis4Pj4yXTtrPTAhPT1EW2IrMTI+PjJdO2lmKDA9PT1EW2IrMTY+PjJdKXt2YXIgdD1EW2IrMjA+PjJdLHc9RFtiKzI0Pj4yXTttPWIrMjA7cj1iKzI0O3ZhciBCPUwuTWc/TC5NZzpyYnwwO2lmKG18fHIpaWYoQilpZihEW0IrMTI+PjJdIT09QiloKFwicHRocmVhZF9nZXRzY2hlZHBhcmFtIGF0dGVtcHRlZCBvbiB0aHJlYWQgXCIrXHJcbiAgICAgQitcIiwgd2hpY2ggZG9lcyBub3QgcG9pbnQgdG8gYSB2YWxpZCB0aHJlYWQsIG9yIGRvZXMgbm90IGV4aXN0IGFueW1vcmUhXCIpO2Vsc2V7dmFyIHA9QXRvbWljcy5sb2FkKEUsQisxMjg+PjIpO0I9QXRvbWljcy5sb2FkKEUsQisxMzI+PjIpO20mJihEW20+PjJdPXApO3ImJihEW3I+PjJdPUIpfWVsc2UgaChcInB0aHJlYWRfZ2V0c2NoZWRwYXJhbSBjYWxsZWQgd2l0aCBhIG51bGwgdGhyZWFkIHBvaW50ZXIhXCIpO209RFtiKzIwPj4yXTtyPURbYisyND4+Ml07RFtiKzIwPj4yXT10O0RbYisyND4+Ml09d31lbHNlIG09RFtiKzIwPj4yXSxyPURbYisyND4+Ml19ZWxzZSBxPTIwOTcxNTI7KGI9MD09Zyk/Zz13YygxNixxKTooZy09cSxhc3NlcnQoMDxnKSk7dD1PYSgyMzIpO2Zvcih3PTA7NTg+dzsrK3cpRVsodD4+Mikrd109MDtEW2E+PjJdPXQ7RFt0KzEyPj4yXT10O2E9dCsxNTY7RFthPj4yXT1hO2M9e1JmOmcsY2c6cSxLZzpiLEloOm0sSmg6cixkZXRhY2hlZDprLE1pOmMsJGY6dCxcclxuICAgICBGaTpyYnwwLFRmOmQsVmk6ZX07bj8oYy4kaT1cInNwYXduVGhyZWFkXCIscG9zdE1lc3NhZ2UoYyxlKSk6RGIoYyk7cmV0dXJuIDB9LG86ZnVuY3Rpb24oYSxiKXtyZXR1cm4gWWQoYSxiKX0saTpYZCxlOmZ1bmN0aW9uKGEpe0FhPWF8MH0sRTpmdW5jdGlvbigpe3JldHVybiAwfSxtOmZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUocCx4LHope2ZvcihwPVwibnVtYmVyXCI9PT10eXBlb2YgcD9wLnRvU3RyaW5nKCk6cHx8XCJcIjtwLmxlbmd0aDx4OylwPXpbMF0rcDtyZXR1cm4gcH1mdW5jdGlvbiBnKHAseCl7cmV0dXJuIGUocCx4LFwiMFwiKX1mdW5jdGlvbiBrKHAseCl7ZnVuY3Rpb24geihWKXtyZXR1cm4gMD5WPy0xOjA8Vj8xOjB9dmFyIEk7MD09PShJPXoocC5nZXRGdWxsWWVhcigpLXguZ2V0RnVsbFllYXIoKSkpJiYwPT09KEk9eihwLmdldE1vbnRoKCkteC5nZXRNb250aCgpKSkmJihJPXoocC5nZXREYXRlKCkteC5nZXREYXRlKCkpKTtyZXR1cm4gSX1mdW5jdGlvbiBtKHApe3N3aXRjaChwLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKHAuZ2V0RnVsbFllYXIoKS1cclxuICAgICAxLDExLDI5KTtjYXNlIDE6cmV0dXJuIHA7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKHAuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUocC5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIHIocCl7cD1jZShuZXcgRGF0ZShwLnJmKzE5MDAsMCwxKSxwLkdnKTt2YXIgeD1uZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCkrMSwwLDQpLHo9bShuZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCksMCw0KSk7eD1tKHgpO3JldHVybiAwPj1rKHoscCk/MD49ayh4LHApP3AuZ2V0RnVsbFllYXIoKSsxOnAuZ2V0RnVsbFllYXIoKTpwLmdldEZ1bGxZZWFyKCktMX12YXIgcT1EW2QrNDA+PjJdO2Q9e1RpOkRbZD4+Ml0sU2k6RFtkKzQ+PlxyXG4gICAgIDJdLEVnOkRbZCs4Pj4yXSxwZzpEW2QrMTI+PjJdLGRnOkRbZCsxNj4+Ml0scmY6RFtkKzIwPj4yXSxGZzpEW2QrMjQ+PjJdLEdnOkRbZCsyOD4+Ml0seWo6RFtkKzMyPj4yXSxSaTpEW2QrMzY+PjJdLFVpOnE/QShxKTpcIlwifTtjPUEoYyk7cT17XCIlY1wiOlwiJWEgJWIgJWQgJUg6JU06JVMgJVlcIixcIiVEXCI6XCIlbS8lZC8leVwiLFwiJUZcIjpcIiVZLSVtLSVkXCIsXCIlaFwiOlwiJWJcIixcIiVyXCI6XCIlSTolTTolUyAlcFwiLFwiJVJcIjpcIiVIOiVNXCIsXCIlVFwiOlwiJUg6JU06JVNcIixcIiV4XCI6XCIlbS8lZC8leVwiLFwiJVhcIjpcIiVIOiVNOiVTXCIsXCIlRWNcIjpcIiVjXCIsXCIlRUNcIjpcIiVDXCIsXCIlRXhcIjpcIiVtLyVkLyV5XCIsXCIlRVhcIjpcIiVIOiVNOiVTXCIsXCIlRXlcIjpcIiV5XCIsXCIlRVlcIjpcIiVZXCIsXCIlT2RcIjpcIiVkXCIsXCIlT2VcIjpcIiVlXCIsXCIlT0hcIjpcIiVIXCIsXCIlT0lcIjpcIiVJXCIsXCIlT21cIjpcIiVtXCIsXCIlT01cIjpcIiVNXCIsXCIlT1NcIjpcIiVTXCIsXCIlT3VcIjpcIiV1XCIsXCIlT1VcIjpcIiVVXCIsXCIlT1ZcIjpcIiVWXCIsXCIlT3dcIjpcIiV3XCIsXCIlT1dcIjpcIiVXXCIsXCIlT3lcIjpcIiV5XCJ9O1xyXG4gICAgIGZvcih2YXIgdCBpbiBxKWM9Yy5yZXBsYWNlKG5ldyBSZWdFeHAodCxcImdcIikscVt0XSk7dmFyIHc9XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxCPVwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKTtxPXtcIiVhXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIHdbcC5GZ10uc3Vic3RyaW5nKDAsMyl9LFwiJUFcIjpmdW5jdGlvbihwKXtyZXR1cm4gd1twLkZnXX0sXCIlYlwiOmZ1bmN0aW9uKHApe3JldHVybiBCW3AuZGddLnN1YnN0cmluZygwLDMpfSxcIiVCXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIEJbcC5kZ119LFwiJUNcIjpmdW5jdGlvbihwKXtyZXR1cm4gZygocC5yZisxOTAwKS8xMDB8MCwyKX0sXCIlZFwiOmZ1bmN0aW9uKHApe3JldHVybiBnKHAucGcsMil9LFwiJWVcIjpmdW5jdGlvbihwKXtyZXR1cm4gZShwLnBnLFxyXG4gICAgIDIsXCIgXCIpfSxcIiVnXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIHIocCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LFwiJUdcIjpmdW5jdGlvbihwKXtyZXR1cm4gcihwKX0sXCIlSFwiOmZ1bmN0aW9uKHApe3JldHVybiBnKHAuRWcsMil9LFwiJUlcIjpmdW5jdGlvbihwKXtwPXAuRWc7MD09cD9wPTEyOjEyPHAmJihwLT0xMik7cmV0dXJuIGcocCwyKX0sXCIlalwiOmZ1bmN0aW9uKHApe3JldHVybiBnKHAucGcrJGQoWmQocC5yZisxOTAwKT9hZTpiZSxwLmRnLTEpLDMpfSxcIiVtXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIGcocC5kZysxLDIpfSxcIiVNXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIGcocC5TaSwyKX0sXCIlblwiOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXG5cIn0sXCIlcFwiOmZ1bmN0aW9uKHApe3JldHVybiAwPD1wLkVnJiYxMj5wLkVnP1wiQU1cIjpcIlBNXCJ9LFwiJVNcIjpmdW5jdGlvbihwKXtyZXR1cm4gZyhwLlRpLDIpfSxcIiV0XCI6ZnVuY3Rpb24oKXtyZXR1cm5cIlxcdFwifSxcIiV1XCI6ZnVuY3Rpb24ocCl7cmV0dXJuIHAuRmd8fFxyXG4gICAgIDd9LFwiJVVcIjpmdW5jdGlvbihwKXt2YXIgeD1uZXcgRGF0ZShwLnJmKzE5MDAsMCwxKSx6PTA9PT14LmdldERheSgpP3g6Y2UoeCw3LXguZ2V0RGF5KCkpO3A9bmV3IERhdGUocC5yZisxOTAwLHAuZGcscC5wZyk7cmV0dXJuIDA+ayh6LHApP2coTWF0aC5jZWlsKCgzMS16LmdldERhdGUoKSsoJGQoWmQocC5nZXRGdWxsWWVhcigpKT9hZTpiZSxwLmdldE1vbnRoKCktMSktMzEpK3AuZ2V0RGF0ZSgpKS83KSwyKTowPT09ayh6LHgpP1wiMDFcIjpcIjAwXCJ9LFwiJVZcIjpmdW5jdGlvbihwKXt2YXIgeD1uZXcgRGF0ZShwLnJmKzE5MDEsMCw0KSx6PW0obmV3IERhdGUocC5yZisxOTAwLDAsNCkpO3g9bSh4KTt2YXIgST1jZShuZXcgRGF0ZShwLnJmKzE5MDAsMCwxKSxwLkdnKTtyZXR1cm4gMD5rKEkseik/XCI1M1wiOjA+PWsoeCxJKT9cIjAxXCI6ZyhNYXRoLmNlaWwoKHouZ2V0RnVsbFllYXIoKTxwLnJmKzE5MDA/cC5HZyszMi16LmdldERhdGUoKTpwLkdnKzEtei5nZXREYXRlKCkpLzcpLDIpfSxcIiV3XCI6ZnVuY3Rpb24ocCl7cmV0dXJuIHAuRmd9LFxyXG4gICAgIFwiJVdcIjpmdW5jdGlvbihwKXt2YXIgeD1uZXcgRGF0ZShwLnJmLDAsMSksej0xPT09eC5nZXREYXkoKT94OmNlKHgsMD09PXguZ2V0RGF5KCk/MTo3LXguZ2V0RGF5KCkrMSk7cD1uZXcgRGF0ZShwLnJmKzE5MDAscC5kZyxwLnBnKTtyZXR1cm4gMD5rKHoscCk/ZyhNYXRoLmNlaWwoKDMxLXouZ2V0RGF0ZSgpKygkZChaZChwLmdldEZ1bGxZZWFyKCkpP2FlOmJlLHAuZ2V0TW9udGgoKS0xKS0zMSkrcC5nZXREYXRlKCkpLzcpLDIpOjA9PT1rKHoseCk/XCIwMVwiOlwiMDBcIn0sXCIleVwiOmZ1bmN0aW9uKHApe3JldHVybihwLnJmKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSxcIiVZXCI6ZnVuY3Rpb24ocCl7cmV0dXJuIHAucmYrMTkwMH0sXCIlelwiOmZ1bmN0aW9uKHApe3A9cC5SaTt2YXIgeD0wPD1wO3A9TWF0aC5hYnMocCkvNjA7cmV0dXJuKHg/XCIrXCI6XCItXCIpK1N0cmluZyhcIjAwMDBcIisocC82MCoxMDArcCU2MCkpLnNsaWNlKC00KX0sXCIlWlwiOmZ1bmN0aW9uKHApe3JldHVybiBwLlVpfSxcclxuICAgICBcIiUlXCI6ZnVuY3Rpb24oKXtyZXR1cm5cIiVcIn19O2Zvcih0IGluIHEpMDw9Yy5pbmRleE9mKHQpJiYoYz1jLnJlcGxhY2UobmV3IFJlZ0V4cCh0LFwiZ1wiKSxxW3RdKGQpKSk7dD0kYihjLCExKTtpZih0Lmxlbmd0aD5iKXJldHVybiAwO3Yuc2V0KHQsYSk7cmV0dXJuIHQubGVuZ3RoLTF9LHg6ZGUsczpmdW5jdGlvbihhKXt2YXIgYj1EYXRlLm5vdygpLzFFM3wwO2EmJihEW2E+PjJdPWIpO3JldHVybiBifX07XHJcbiAgICAgKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShlLGcpe2YuYXNtPWUuZXhwb3J0cztHPWYuYXNtLlNkO0RhPWc7bnx8aGIoKX1mdW5jdGlvbiBiKGUpe2EoZS5pbnN0YW5jZSxlLm1vZHVsZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbWIoKS50aGVuKGZ1bmN0aW9uKGcpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShnLGQpfSkudGhlbihlLGZ1bmN0aW9uKGcpe2goXCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiBcIitnKTt1KGcpfSl9dmFyIGQ9e2E6R2V9O258fGdiKCk7aWYoZi5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBmLmluc3RhbnRpYXRlV2FzbShkLGEpfWNhdGNoKGUpe3JldHVybiBoKFwiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogXCIrZSksITF9KGZ1bmN0aW9uKCl7cmV0dXJuIEJhfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmd8fGtiKCl8fGliKFwiZmlsZTovL1wiKXx8XHJcbiAgICAgXCJmdW5jdGlvblwiIT09dHlwZW9mIGZldGNoP2MoYik6ZmV0Y2goamIse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGUsZCkudGhlbihiLGZ1bmN0aW9uKGcpe2goXCJ3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogXCIrZyk7aChcImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uXCIpO3JldHVybiBjKGIpfSl9KX0pKCkuY2F0Y2goYmEpO3JldHVybnt9fSkoKTtcclxuICAgICB2YXIgbWU9Zi5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4obWU9Zi5fX193YXNtX2NhbGxfY3RvcnM9Zi5hc20uVGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQmI9Zi5fZnJlZT1mdW5jdGlvbigpe3JldHVybihCYj1mLl9mcmVlPWYuYXNtLlVkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9hPWYuX21hbGxvYz1mdW5jdGlvbigpe3JldHVybihPYT1mLl9tYWxsb2M9Zi5hc20uVmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR2I9Zi5fX19lcnJub19sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybihHYj1mLl9fX2Vycm5vX2xvY2F0aW9uPWYuYXNtLldkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuX2ZmbHVzaD1mdW5jdGlvbigpe3JldHVybihmLl9mZmx1c2g9Zi5hc20uWGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07XHJcbiAgICAgdmFyIHdjPWYuX21lbWFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuKHdjPWYuX21lbWFsaWduPWYuYXNtLllkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9jPWYuX250b2hzPWZ1bmN0aW9uKCl7cmV0dXJuKE9jPWYuX250b2hzPWYuYXNtLlpkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdjPWYuX2h0b25zPWZ1bmN0aW9uKCl7cmV0dXJuKEdjPWYuX2h0b25zPWYuYXNtLl9kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5lPWYuX21haW49ZnVuY3Rpb24oKXtyZXR1cm4obmU9Zi5fbWFpbj1mLmFzbS4kZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxXZD1mLl9lbXNjcmlwdGVuX2dldF9nbG9iYWxfbGliYz1mdW5jdGlvbigpe3JldHVybihXZD1mLl9lbXNjcmlwdGVuX2dldF9nbG9iYWxfbGliYz1mLmFzbS5hZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICBmLl9fX2VtX2pzX19pbml0UHRocmVhZHNKUz1mdW5jdGlvbigpe3JldHVybihmLl9fX2VtX2pzX19pbml0UHRocmVhZHNKUz1mLmFzbS5iZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICB2YXIgVmQ9Zi5faHRvbmw9ZnVuY3Rpb24oKXtyZXR1cm4oVmQ9Zi5faHRvbmw9Zi5hc20uY2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scmM9Zi5fbWVtc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKHJjPWYuX21lbXNldD1mLmFzbS5kZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxOYj1mLl9fZ2V0X3R6bmFtZT1mdW5jdGlvbigpe3JldHVybihOYj1mLl9fZ2V0X3R6bmFtZT1mLmFzbS5lZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNYj1mLl9fZ2V0X2RheWxpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuKE1iPWYuX19nZXRfZGF5bGlnaHQ9Zi5hc20uZmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTGI9Zi5fX2dldF90aW1lem9uZT1mdW5jdGlvbigpe3JldHVybihMYj1mLl9fZ2V0X3RpbWV6b25lPWYuYXNtLmdlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHk9Zi5zdGFja1NhdmU9ZnVuY3Rpb24oKXtyZXR1cm4oeT1mLnN0YWNrU2F2ZT1mLmFzbS5oZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxcclxuICAgICBDPWYuc3RhY2tSZXN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuKEM9Zi5zdGFja1Jlc3RvcmU9Zi5hc20uaWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSGE9Zi5zdGFja0FsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKEhhPWYuc3RhY2tBbGxvYz1mLmFzbS5qZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZPWYuX3NldFRocmV3PWZ1bmN0aW9uKCl7cmV0dXJuKFk9Zi5fc2V0VGhyZXc9Zi5hc20ua2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5fZW1zY3JpcHRlbl9tYWluX2Jyb3dzZXJfdGhyZWFkX2lkPWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fbWFpbl9icm93c2VyX3RocmVhZF9pZD1mLmFzbS5sZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICB2YXIgQWI9Zi5fX19wdGhyZWFkX3RzZF9ydW5fZHRvcnM9ZnVuY3Rpb24oKXtyZXR1cm4oQWI9Zi5fX19wdGhyZWFkX3RzZF9ydW5fZHRvcnM9Zi5hc20ubWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ2I9Zi5fZW1zY3JpcHRlbl9tYWluX3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscz1mdW5jdGlvbigpe3JldHVybihDYj1mLl9lbXNjcmlwdGVuX21haW5fdGhyZWFkX3Byb2Nlc3NfcXVldWVkX2NhbGxzPWYuYXNtLm5lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuX2Vtc2NyaXB0ZW5fY3VycmVudF90aHJlYWRfcHJvY2Vzc19xdWV1ZWRfY2FsbHM9ZnVuY3Rpb24oKXtyZXR1cm4oZi5fZW1zY3JpcHRlbl9jdXJyZW50X3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscz1mLmFzbS5vZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICB2YXIgeWI9Zi5fZW1zY3JpcHRlbl9yZWdpc3Rlcl9tYWluX2Jyb3dzZXJfdGhyZWFkX2lkPWZ1bmN0aW9uKCl7cmV0dXJuKHliPWYuX2Vtc2NyaXB0ZW5fcmVnaXN0ZXJfbWFpbl9icm93c2VyX3RocmVhZF9pZD1mLmFzbS5wZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuYj1mLl9kb19lbXNjcmlwdGVuX2Rpc3BhdGNoX3RvX3RocmVhZD1mdW5jdGlvbigpe3JldHVybihuYj1mLl9kb19lbXNjcmlwdGVuX2Rpc3BhdGNoX3RvX3RocmVhZD1mLmFzbS5xZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLl9lbXNjcmlwdGVuX2FzeW5jX3J1bl9pbl9tYWluX3RocmVhZD1mdW5jdGlvbigpe3JldHVybihmLl9lbXNjcmlwdGVuX2FzeW5jX3J1bl9pbl9tYWluX3RocmVhZD1mLmFzbS5yZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICBmLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkPWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWQ9Zi5hc20uc2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfMD1mLmFzbS50ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF8xPWYuYXNtLnVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O1xyXG4gICAgIGYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfMj1mdW5jdGlvbigpe3JldHVybihmLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkXzI9Zi5hc20udmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF94cHJpbnRmX3ZhcmFyZ3M9ZnVuY3Rpb24oKXtyZXR1cm4oZi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF94cHJpbnRmX3ZhcmFyZ3M9Zi5hc20ud2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF8zPWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfMz1mLmFzbS54ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICB2YXIgRmU9Zi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF80PWZ1bmN0aW9uKCl7cmV0dXJuKEZlPWYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfND1mLmFzbS55ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkXzU9ZnVuY3Rpb24oKXtyZXR1cm4oZi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF81PWYuYXNtLnplKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfNj1mdW5jdGlvbigpe3JldHVybihmLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkXzY9Zi5hc20uQWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07XHJcbiAgICAgZi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF83PWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfNz1mLmFzbS5CZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgQmQ9Zi5fZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcz1mdW5jdGlvbigpe3JldHVybihCZD1mLl9lbXNjcmlwdGVuX3J1bl9pbl9tYWluX3J1bnRpbWVfdGhyZWFkX2pzPWYuYXNtLkNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhkPWYuX19lbXNjcmlwdGVuX2NhbGxfb25fdGhyZWFkPWZ1bmN0aW9uKCl7cmV0dXJuKEhkPWYuX19lbXNjcmlwdGVuX2NhbGxfb25fdGhyZWFkPWYuYXNtLkRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuX3Byb3h5X21haW49ZnVuY3Rpb24oKXtyZXR1cm4oZi5fcHJveHlfbWFpbj1mLmFzbS5FZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICBmLl9lbXNjcmlwdGVuX3Rsc19pbml0PWZ1bmN0aW9uKCl7cmV0dXJuKGYuX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9Zi5hc20uRmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5keW5DYWxsX2lqaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGYuZHluQ2FsbF9pamlpaT1mLmFzbS5HZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgSGU9Zi5keW5DYWxsX3ZpampqaWQ9ZnVuY3Rpb24oKXtyZXR1cm4oSGU9Zi5keW5DYWxsX3ZpampqaWQ9Zi5hc20uSGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSWU9Zi5keW5DYWxsX2lpaWlqaj1mdW5jdGlvbigpe3JldHVybihJZT1mLmR5bkNhbGxfaWlpaWpqPWYuYXNtLkllKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9paWlqaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGYuZHluQ2FsbF9paWlqaWlpPWYuYXNtLkplKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O1xyXG4gICAgIGYuZHluQ2FsbF9qaWlpaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfamlpaWk9Zi5hc20uS2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5keW5DYWxsX2ppaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfamlpPWYuYXNtLkxlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBKZT1mLmR5bkNhbGxfaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKEplPWYuZHluQ2FsbF9paWo9Zi5hc20uTWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5keW5DYWxsX3ZpaWlqaj1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfdmlpaWpqPWYuYXNtLk5lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9qaWo9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2ppaj1mLmFzbS5PZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLmR5bkNhbGxfamlqaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfamlqaT1mLmFzbS5QZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcclxuICAgICBmLmR5bkNhbGxfaWlpamk9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2lpaWppPWYuYXNtLlFlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9paWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2lpaWlpaj1mLmFzbS5SZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLmR5bkNhbGxfamlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2ppaWlqPWYuYXNtLlNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9paWlqamppPWZ1bmN0aW9uKCl7cmV0dXJuKGYuZHluQ2FsbF9paWlqamppPWYuYXNtLlRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9paWlpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGYuZHluQ2FsbF9paWlpaWlqPWYuYXNtLlVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF9qaWlqaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfamlpamk9Zi5hc20uVmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07XHJcbiAgICAgZi5keW5DYWxsX3ZpaWlpaWpqaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfdmlpaWlpamppPWYuYXNtLldlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2YuZHluQ2FsbF92aWlpamk9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX3ZpaWlqaT1mLmFzbS5YZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLmR5bkNhbGxfdmlpaWlqaT1mdW5jdGlvbigpe3JldHVybihmLmR5bkNhbGxfdmlpaWlqaT1mLmFzbS5ZZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmLmR5bkNhbGxfamlpaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGYuZHluQ2FsbF9qaWlpaWk9Zi5hc20uWmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5keW5DYWxsX2ppaWk9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2ppaWk9Zi5hc20uX2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07XHJcbiAgICAgZi5keW5DYWxsX2ppaWlpaWk9ZnVuY3Rpb24oKXtyZXR1cm4oZi5keW5DYWxsX2ppaWlpaWk9Zi5hc20uJGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07Zi5fZmZfaDI2NF9jYWJhY190YWJsZXM9MjExNjAwNjt2YXIgemI9Zi5fbWFpbl90aHJlYWRfZnV0ZXg9MTcxODk2OTY7ZnVuY3Rpb24gcWUoYSxiLGMpe3ZhciBkPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKGIsYyl9Y2F0Y2goZSl7QyhkKTtpZihlIT09ZSswJiZcImxvbmdqbXBcIiE9PWUpdGhyb3cgZTtZKDEsMCl9fWZ1bmN0aW9uIHhlKGEsYil7dmFyIGM9eSgpO3RyeXtHLmdldChhKShiKX1jYXRjaChkKXtDKGMpO2lmKGQhPT1kKzAmJlwibG9uZ2ptcFwiIT09ZCl0aHJvdyBkO1koMSwwKX19ZnVuY3Rpb24gQWUoYSxiLGMsZCxlKXt2YXIgZz15KCk7dHJ5e0cuZ2V0KGEpKGIsYyxkLGUpfWNhdGNoKGspe0MoZyk7aWYoayE9PWsrMCYmXCJsb25nam1wXCIhPT1rKXRocm93IGs7WSgxLDApfX1cclxuICAgICBmdW5jdGlvbiB5ZShhLGIsYyl7dmFyIGQ9eSgpO3RyeXtHLmdldChhKShiLGMpfWNhdGNoKGUpe0MoZCk7aWYoZSE9PWUrMCYmXCJsb25nam1wXCIhPT1lKXRocm93IGU7WSgxLDApfX1mdW5jdGlvbiBwZShhLGIpe3ZhciBjPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKGIpfWNhdGNoKGQpe0MoYyk7aWYoZCE9PWQrMCYmXCJsb25nam1wXCIhPT1kKXRocm93IGQ7WSgxLDApfX1mdW5jdGlvbiBzZShhLGIsYyxkLGUpe3ZhciBnPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKGIsYyxkLGUpfWNhdGNoKGspe0MoZyk7aWYoayE9PWsrMCYmXCJsb25nam1wXCIhPT1rKXRocm93IGs7WSgxLDApfX1mdW5jdGlvbiB1ZShhLGIsYyxkLGUsZyxrLG0scil7dmFyIHE9eSgpO3RyeXtyZXR1cm4gRy5nZXQoYSkoYixjLGQsZSxnLGssbSxyKX1jYXRjaCh0KXtDKHEpO2lmKHQhPT10KzAmJlwibG9uZ2ptcFwiIT09dCl0aHJvdyB0O1koMSwwKX19XHJcbiAgICAgZnVuY3Rpb24gemUoYSxiLGMsZCl7dmFyIGU9eSgpO3RyeXtHLmdldChhKShiLGMsZCl9Y2F0Y2goZyl7QyhlKTtpZihnIT09ZyswJiZcImxvbmdqbXBcIiE9PWcpdGhyb3cgZztZKDEsMCl9fWZ1bmN0aW9uIG9lKGEpe3ZhciBiPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKCl9Y2F0Y2goYyl7QyhiKTtpZihjIT09YyswJiZcImxvbmdqbXBcIiE9PWMpdGhyb3cgYztZKDEsMCl9fWZ1bmN0aW9uIEJlKGEsYixjLGQsZSxnKXt2YXIgaz15KCk7dHJ5e0cuZ2V0KGEpKGIsYyxkLGUsZyl9Y2F0Y2gobSl7QyhrKTtpZihtIT09bSswJiZcImxvbmdqbXBcIiE9PW0pdGhyb3cgbTtZKDEsMCl9fWZ1bmN0aW9uIHJlKGEsYixjLGQpe3ZhciBlPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKGIsYyxkKX1jYXRjaChnKXtDKGUpO2lmKGchPT1nKzAmJlwibG9uZ2ptcFwiIT09Zyl0aHJvdyBnO1koMSwwKX19XHJcbiAgICAgZnVuY3Rpb24gdGUoYSxiLGMsZCxlLGcpe3ZhciBrPXkoKTt0cnl7cmV0dXJuIEcuZ2V0KGEpKGIsYyxkLGUsZyl9Y2F0Y2gobSl7QyhrKTtpZihtIT09bSswJiZcImxvbmdqbXBcIiE9PW0pdGhyb3cgbTtZKDEsMCl9fWZ1bmN0aW9uIERlKGEsYixjLGQsZSxnLGssbSxyKXt2YXIgcT15KCk7dHJ5e0cuZ2V0KGEpKGIsYyxkLGUsZyxrLG0scil9Y2F0Y2godCl7QyhxKTtpZih0IT09dCswJiZcImxvbmdqbXBcIiE9PXQpdGhyb3cgdDtZKDEsMCl9fWZ1bmN0aW9uIENlKGEsYixjLGQsZSxnLGspe3ZhciBtPXkoKTt0cnl7Ry5nZXQoYSkoYixjLGQsZSxnLGspfWNhdGNoKHIpe0MobSk7aWYociE9PXIrMCYmXCJsb25nam1wXCIhPT1yKXRocm93IHI7WSgxLDApfX1mdW5jdGlvbiBFZShhLGIsYyxkLGUsZyxrLG0scixxKXt2YXIgdD15KCk7dHJ5e0hlKGEsYixjLGQsZSxnLGssbSxyLHEpfWNhdGNoKHcpe0ModCk7aWYodyE9PXcrMCYmXCJsb25nam1wXCIhPT13KXRocm93IHc7WSgxLDApfX1cclxuICAgICBmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZyxrLG0pe3ZhciByPXkoKTt0cnl7cmV0dXJuIEllKGEsYixjLGQsZSxnLGssbSl9Y2F0Y2gocSl7QyhyKTtpZihxIT09cSswJiZcImxvbmdqbXBcIiE9PXEpdGhyb3cgcTtZKDEsMCl9fWZ1bmN0aW9uIHdlKGEsYixjLGQpe3ZhciBlPXkoKTt0cnl7cmV0dXJuIEplKGEsYixjLGQpfWNhdGNoKGcpe0MoZSk7aWYoZyE9PWcrMCYmXCJsb25nam1wXCIhPT1nKXRocm93IGc7WSgxLDApfX1mLmNjYWxsPUdhO2YuY3dyYXA9ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHxbXTt2YXIgZT1jLmV2ZXJ5KGZ1bmN0aW9uKGcpe3JldHVyblwibnVtYmVyXCI9PT1nfSk7cmV0dXJuXCJzdHJpbmdcIiE9PWImJmUmJiFkP0ZhKGEpOmZ1bmN0aW9uKCl7cmV0dXJuIEdhKGEsYixjLGFyZ3VtZW50cyxkKX19O1xyXG4gICAgIGYuc2V0VmFsdWU9ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8XCJpOFwiO1wiKlwiPT09Yy5jaGFyQXQoYy5sZW5ndGgtMSkmJihjPVwiaTMyXCIpO3N3aXRjaChjKXtjYXNlIFwiaTFcIjp2W2E+PjBdPWI7YnJlYWs7Y2FzZSBcImk4XCI6dlthPj4wXT1iO2JyZWFrO2Nhc2UgXCJpMTZcIjpTYVthPj4xXT1iO2JyZWFrO2Nhc2UgXCJpMzJcIjpEW2E+PjJdPWI7YnJlYWs7Y2FzZSBcImk2NFwiOko9W2I+Pj4wLChIPWIsMTw9K01hdGguYWJzKEgpPzA8SD8oTWF0aC5taW4oK01hdGguZmxvb3IoSC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKChILSsofn5IPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV07RFthPj4yXT1KWzBdO0RbYSs0Pj4yXT1KWzFdO2JyZWFrO2Nhc2UgXCJmbG9hdFwiOkZbYT4+Ml09YjticmVhaztjYXNlIFwiZG91YmxlXCI6VWFbYT4+M109YjticmVhaztkZWZhdWx0OnUoXCJpbnZhbGlkIHR5cGUgZm9yIHNldFZhbHVlOiBcIitjKX19O2YuVVRGOFRvU3RyaW5nPUE7XHJcbiAgICAgZi5zdHJpbmdUb1VURjg9SWE7Zi5sZW5ndGhCeXRlc1VURjg9TWE7Zi53cml0ZUFzY2lpVG9NZW1vcnk9UmE7Zi5GUz1OO2YuUFRocmVhZD1MO2YuUFRocmVhZD1MO2YuX3B0aHJlYWRfc2VsZj1YZDtmLndhc21NZW1vcnk9Q2E7Zi5FeGl0U3RhdHVzPWNhO3ZhciBLZTtmdW5jdGlvbiBjYShhKXt0aGlzLm5hbWU9XCJFeGl0U3RhdHVzXCI7dGhpcy5tZXNzYWdlPVwiUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdChcIithK1wiKVwiO3RoaXMuc3RhdHVzPWF9ZWI9ZnVuY3Rpb24gTGUoKXtLZXx8TWUoKTtLZXx8KGViPUxlKX07XHJcbiAgICAgZnVuY3Rpb24gTWUoYSl7ZnVuY3Rpb24gYigpe2lmKCFLZSYmKEtlPSEwLGYuY2FsbGVkUnVuPSEwLCFFYSkpe2Yubm9GU0luaXR8fE4uZ2cuVGd8fE4uZ2coKTtRLnJvb3Q9Ti5qZihRLHt9LG51bGwpO3BiKFlhKTtufHwoTi5CaD0hMSxwYihaYSkpO2FhKGYpO2lmKGYub25SdW50aW1lSW5pdGlhbGl6ZWQpZi5vblJ1bnRpbWVJbml0aWFsaXplZCgpO2lmKE5lKXt2YXIgYz1hO2M9Y3x8W107dmFyIGQ9Yy5sZW5ndGgrMSxlPUhhKDQqKGQrMSkpO0RbZT4+Ml09UGEoa2EpO2Zvcih2YXIgZz0xO2c8ZDtnKyspRFsoZT4+MikrZ109UGEoY1tnLTFdKTtEWyhlPj4yKStkXT0wO2YuX3Byb3h5X21haW4oZCxlKX1pZighbil7aWYoZi5wb3N0UnVuKWZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnBvc3RSdW4mJihmLnBvc3RSdW49W2YucG9zdFJ1bl0pO2YucG9zdFJ1bi5sZW5ndGg7KWM9Zi5wb3N0UnVuLnNoaWZ0KCksYWIudW5zaGlmdChjKTtwYihhYil9fX1hPWF8fGphO2lmKCEoMDxjYikpe2lmKCFuKXtpZihmLnByZVJ1bilmb3IoXCJmdW5jdGlvblwiPT1cclxuICAgICB0eXBlb2YgZi5wcmVSdW4mJihmLnByZVJ1bj1bZi5wcmVSdW5dKTtmLnByZVJ1bi5sZW5ndGg7KWJiKCk7cGIoWGEpfTA8Y2J8fChmLnNldFN0YXR1cz8oZi5zZXRTdGF0dXMoXCJSdW5uaW5nLi4uXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5zZXRTdGF0dXMoXCJcIil9LDEpO2IoKX0sMSkpOmIoKSl9fWYucnVuPU1lO2Z1bmN0aW9uIGRhKGEsYil7aWYoIWJ8fCFub0V4aXRSdW50aW1lfHwwIT09YSl7aWYoIW5vRXhpdFJ1bnRpbWUpe0wuT2koKTtufHwocGIoJGEpLE4ucXVpdCgpLEwuZWgoKSk7aWYoZi5vbkV4aXQpZi5vbkV4aXQoYSk7RWE9ITB9bGEoYSxuZXcgY2EoYSkpfX1pZihmLnByZUluaXQpZm9yKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYucHJlSW5pdCYmKGYucHJlSW5pdD1bZi5wcmVJbml0XSk7MDxmLnByZUluaXQubGVuZ3RoOylmLnByZUluaXQucG9wKCkoKTt2YXIgTmU9ITE7Zi5ub0luaXRpYWxSdW4mJihOZT0hMSk7XHJcbiAgICAgbj9MLnJpKCk6TWUoKTtcclxuICAgICBcclxuICAgICBcclxuICAgICAgIHJldHVybiBjcmVhdGVGRm1wZWdDb3JlLnJlYWR5XHJcbiAgICAgfVxyXG4gICAgICk7XHJcbiAgICAgfSkoKTtcclxuICAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRkZtcGVnQ29yZTtcclxuICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKVxyXG4gICAgICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVGRm1wZWdDb3JlOyB9KTtcclxuICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgIGV4cG9ydHNbXCJjcmVhdGVGRm1wZWdDb3JlXCJdID0gY3JlYXRlRkZtcGVnQ29yZTtcclxuICAgICAgICAgXHJcbiAgICAgXHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgXHJcblxyXG48L3N2ZWx0ZTpoZWFkPlxyXG5cclxuXHJcbjxzY3JpcHQ+XHJcbiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcclxuXHJcbiAgICBsZXQgY29udmVydExvYWRpbmdCYXI7XHJcbiAgICBsZXQgY3VycmVudFRhc2tUZXh0ID0gXCJDdXJyZW50IFRhc2tcIjtcclxuICAgIGV4cG9ydCBsZXQgYmxvYjtcclxuXHJcbiAgICBvbk1vdW50KGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb252ZXJ0TG9hZGluZ0Jhci5zdHlsZS53aWR0aCA9IFwiMCVcIjtcclxuXHJcbiAgICAgICAgY29udmVyVmlkZW8oYmxvYik7XHJcblx0fSk7XHJcblxyXG4gICAgY29uc3QgY29udmVyVmlkZW8gPSAoYmxvYikgPT57XHJcbiAgICAgICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgLy9jb25zdCBzb3VyY2VCdWZmZXIgPSBhd2FpdCBmZXRjaChibG9iVVJMKS50aGVuKHIgPT4gci5hcnJheUJ1ZmZlcigpKTtcclxuICAgICAgICAgICAgY29uc3QgeyBjcmVhdGVGRm1wZWcsIGZldGNoRmlsZSB9ID0gRkZtcGVnO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBGRm1wZWcgaW5zdGFuY2UgYW5kIGxvYWQgaXRcclxuICAgICAgICAgICAgY29uc3QgZmZtcGVnID0gY3JlYXRlRkZtcGVnKHtcclxuICAgICAgICAgICAgICAgIGxvZzogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUYXNrVGV4dCA9IFwiU3RhcnRlZCBsb2FkaW5nIEZGTVBFRy4gVGhpcyBtaWdodCB0YWtlIGEgd2hpbGUuXCJcclxuICAgICAgICAgICAgYXdhaXQgZmZtcGVnLmxvYWQoKTtcclxuICAgICAgICAgICAgY3VycmVudFRhc2tUZXh0ID0gXCJTdWNjZXNzZnVsbHkgbG9hZGVkIEZGTVBFR1wiXHJcbiAgICAgICAgICAgIGZmbXBlZy5zZXRMb2dnZXIoKHsgdHlwZSwgbWVzc2FnZSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFRhc2tUZXh0ID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmZm1wZWcuc2V0UHJvZ3Jlc3MoKHsgcmF0aW8gfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICogcmF0aW8gaXMgYSBmbG9hdCBudW1iZXIgYmV0d2VlbiAwIHRvIDEuXHJcbiAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgY29udmVydExvYWRpbmdCYXIuc3R5bGUud2lkdGggPSByYXRpbyoxMDAgKyBcIiVcIjtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gd3JpdGUgdGhlIEFWSSB0byB0aGUgRkZtcGVnIGZpbGUgc3lzdGVtXHJcbiAgICAgICAgICAgIGZmbXBlZy5GUyhcclxuICAgICAgICAgICAgICAgIFwid3JpdGVGaWxlXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlY29yZC53ZWJtXCIsXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaEZpbGUobmV3IFVpbnQ4QXJyYXkoYXdhaXQgKGJsb2IpLmFycmF5QnVmZmVyKCkpKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy9hd2FpdCBmZm1wZWcucnVuKFwiLWlcIiwgXCJyZWNvcmQud2VibVwiLCBcIi12ZlwiLCBcInRyYW5zcG9zZT0wLGZwcz0xNSxzY2FsZT0tMToyNDA6ZmxhZ3M9bGFuY3pvcyxjcm9wPTMyMDppbl9oOihpbl93LTMyMCkvMjowXCIsIFwiLXZjb2RlY1wiLCBcIm1qcGVnXCIsIFwiLXE6dlwiLCBcIjVcIiwgXCIzMjBfMzBmcHMuYXZpXCIpO1xyXG4gICAgICAgICAgICBhd2FpdCBmZm1wZWcucnVuKFwiLWlcIiwgXCJyZWNvcmQud2VibVwiLCBcIi12ZlwiLCBcImZwcz0xMCxzY2FsZT0zMjA6LTE6ZmxhZ3M9bGFuY3pvcyxjcm9wPTI0MDppbl93Oihpbl9oLTI0MCkvMjowLGVxPWJyaWdodG5lc3M9LTAuMVwiLCBcIi12Y29kZWNcIiwgXCJtanBlZ1wiLCBcIi1xOnZcIiwgXCIyXCIsIFwiMzIwXzMwZnBzLmF2aVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlYWQgdGhlIE1QNCBmaWxlIGJhY2sgZnJvbSB0aGUgRkZtcGVnIGZpbGUgc3lzdGVtXHJcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGZmbXBlZy5GUyhcInJlYWRGaWxlXCIsIFwiMzIwXzMwZnBzLmF2aVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIC4uLiBhbmQgbm93IGRvIHNvbWV0aGluZyB3aXRoIHRoZSBmaWxlXHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoXHJcbiAgICAgICAgICAgICAgICBuZXcgQmxvYihbb3V0cHV0LmJ1ZmZlcl0sIHsgdHlwZTogXCJ2aWRlby9tanBlZ1wiIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBcIjMyMF8zMGZwcy5tanBlZ1wiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4gYW5kIG5vdyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZmlsZVxyXG5cclxuICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdGaWxlID0gbmV3IEZpbGUoW291dHB1dC5idWZmZXJdLCBcInBsZWFzZXdvcmt2aWRlby5tanBlZ1wiKVxyXG5cclxuICAgICAgICAgICAgLy9hbGVydChuZXdGaWxlLnNpemUpXHJcblxyXG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJkYXRhXCIsIG5ld0ZpbGUpO1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goJy91cGxvYWQnLCB7bWV0aG9kOiBcIlBPU1RcIiwgYm9keTogZm9ybURhdGF9KTtcclxuICAgICAgICB9KSgpO1xyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuXHJcbjxkaXYgY2xhc3M9XCJibGFja291dFwiPjwvZGl2PlxyXG5cclxuPGRpdiBjbGFzcz1cImJnXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwidG9wQW5kQm90dG9tXCI+XHJcbiAgICAgICAgPGgyPlNhdmluZyBWaWRlbzwvaDI+XHJcbiAgICAgICAgPGg0PlRoaXMgbWlnaHQgdGFrZSBhIGZldyBtaW51dGVzPC9oND5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJ0b3BBbmRCb3R0b21cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ0JHXCI+IFxyXG4gICAgICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17Y29udmVydExvYWRpbmdCYXJ9IGNsYXNzPVwibG9hZGluZ01haW5cIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgICAgIDxoND57Y3VycmVudFRhc2tUZXh0fTwvaDQ+XHJcbiAgICA8L2Rpdj5cclxuXHJcbjwvZGl2PlxyXG5cclxuPHN0eWxlPlxyXG4gICAgLnRvcEFuZEJvdHRvbXtcclxuICAgICAgICBtYXJnaW46IDFyZW0gYXV0bztcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaDR7XHJcbiAgICAgICAgY29sb3I6ICNDN0M3Qzc7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG1hcmdpbjogMC4zNXJlbSBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgIC5sb2FkaW5nQkd7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzc1NzU3NTtcclxuICAgICAgICBtYXJnaW46IDFyZW0gYXV0bztcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmxvYWRpbmdNYWlue1xyXG4gICAgICAgIGhlaWdodDogMzBweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRTlDQTVEO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIH1cclxuXHJcbiAgICAuYmd7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzIyMjIyMjtcclxuICAgICAgICBib3JkZXI6IDdweCBzb2xpZCAjNzU3NTc1O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIzcHg7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAyMCU7XHJcblxyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC5ibGFja291dHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzAwMDAwMGFhO1xyXG4gICAgICAgIHdpZHRoOiAxMDB2dztcclxuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgfVxyXG5cclxuPC9zdHlsZT4iLCI8c2NyaXB0PlxyXG4gICAgaW1wb3J0IHsgY3VycmVudEZyYW1lSUQgfSBmcm9tICcuLi9zdG9yZXMnO1xyXG4gICAgaW1wb3J0IENhbWVyYVR5cGVCdXR0b25zIGZyb20gXCIuL0NhbWVyYVR5cGVCdXR0b25zLnN2ZWx0ZVwiO1xyXG4gICAgaW1wb3J0IFJlY29yZFRpbWVCdXR0b25zIGZyb20gXCIuL1JlY29yZFRpbWVCdXR0b25zLnN2ZWx0ZVwiO1xyXG4gICAgaW1wb3J0IENvbnZlcnRVSSBmcm9tIFwiLi9Db252ZXJ0VUkuc3ZlbHRlXCI7XHJcblxyXG4gICAgZXhwb3J0IGxldCBzaG93UmVjb3JkUGFnZTtcclxuXHJcbiAgICBsZXQgY3VycmVudENhbWVyYVR5cGUgPSBcIkJBQ0tcIjtcclxuICAgIGxldCBjdXJyZW50VGltZSA9IDU7XHJcbiAgICBsZXQgdmlkZW9FbGVtZW50O1xyXG4gICAgdmFyIHJlY29yZGVyO1xyXG4gICAgbGV0IGlzUmVjb3JkaW5nID0gZmFsc2U7XHJcbiAgICBsZXQgcmVjb3JlZGVkVmlkZW8gPSBmYWxzZTtcclxuICAgIGxldCBzaG93Q29udmVydCA9IGZhbHNlO1xyXG4gICAgbGV0IGJsb2I7XHJcblxyXG5cclxuICAgIGNvbnN0IGdvQmFjayA9ICgpID0+e1xyXG4gICAgICAgIHNob3dSZWNvcmRQYWdlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vdmlkZW8gc3R1ZmZcclxuICAgIFxyXG4gICAgY29uc3QgcmVjb3JkID0gKHRpbWUpID0+e1xyXG4gICAgICAgIGlmKGlzUmVjb3JkaW5nKSByZXR1cm47XHJcbiAgICAgICAgaXNSZWNvcmRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICByZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xyXG5cclxuICAgICAgICB2YXIgdGltZU91dFRpbWUgPSB0aW1lICogMTAwMDtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZWNvcmRlci5zdG9wUmVjb3JkaW5nKHN0b3BSZWNvcmRpbmdDYWxsYmFjayk7XHJcbiAgICAgICAgfSwgdGltZU91dFRpbWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjYXB0dXJlQ2FtZXJhKGZ1bmN0aW9uKGNhbWVyYSkge1xyXG4gICAgICAgIHZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50LnZvbHVtZSA9IDA7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IGNhbWVyYTtcclxuXHJcbiAgICAgICAgcmVjb3JkZXIgPSBSZWNvcmRSVEMoY2FtZXJhLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVjb3JkZXIuY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGNhcHR1cmVDYW1lcmEoY2FsbGJhY2spIHtcclxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogdHJ1ZSAgfSkudGhlbihmdW5jdGlvbihjYW1lcmEpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soY2FtZXJhKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICBhbGVydCgnVW5hYmxlIHRvIGNhcHR1cmUgeW91ciBjYW1lcmEuIFBsZWFzZSBjaGVjayBjb25zb2xlIGxvZ3MuJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0b3BSZWNvcmRpbmdDYWxsYmFjaygpIHtcclxuICAgICAgICByZWNvcmVkZWRWaWRlbyA9IHRydWU7XHJcbiAgICAgICAgaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjID0gdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50Lm11dGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50LnZvbHVtZSA9IDE7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVjb3JkZXIuZ2V0QmxvYigpKTtcclxuICAgICAgICBibG9iID0gcmVjb3JkZXIuZ2V0QmxvYigpXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlY29yZGVyLmNhbWVyYS5zdG9wKCk7XHJcbiAgICAgICAgcmVjb3JkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIHJlY29yZGVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWxldGVWaWRlbyA9ICgpID0+e1xyXG4gICAgICAgIHJlY29yZWRlZFZpZGVvID0gZmFsc2U7XHJcbiAgICAgICAgaXNSZWNvcmRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY2FwdHVyZUNhbWVyYShmdW5jdGlvbihjYW1lcmEpIHtcclxuICAgICAgICAgICAgdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnZvbHVtZSA9IDA7XHJcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBjYW1lcmE7XHJcblxyXG4gICAgICAgICAgICByZWNvcmRlciA9IFJlY29yZFJUQyhjYW1lcmEsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd2aWRlbydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZWNvcmRlci5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnZlcnRWaWRlbyA9ICgpID0+e1xyXG4gICAgICAgIHNob3dDb252ZXJ0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG48L3NjcmlwdD5cclxuXHJcbnsjaWYgc2hvd0NvbnZlcnR9XHJcbiAgICA8Q29udmVydFVJIGJsb2I9e2Jsb2J9Lz5cclxuey9pZn1cclxuXHJcblxyXG48YnV0dG9uIGNsYXNzPVwiYmFja0J0blwiIG9uOmNsaWNrPXtnb0JhY2t9PkJhY2s8L2J1dHRvbj5cclxuXHJcbjxkaXYgY2xhc3M9XCJjZW50ZXJcIj5cclxuXHJcbiAgICA8aDM+RnJhbWUgI3skY3VycmVudEZyYW1lSUR9PC9oMz5cclxuICAgIDx2aWRlbyBiaW5kOnRoaXM9e3ZpZGVvRWxlbWVudH0gbXV0ZWQgYXV0b3BsYXkgcGxheXNpbmxpbmUgbG9vcD48L3ZpZGVvPlxyXG5cclxuICAgIHsjaWYgIWlzUmVjb3JkaW5nICYmICFyZWNvcmVkZWRWaWRlb31cclxuICAgICAgICA8aDQ+Q2FtZXJhIHR5cGU8L2g0PlxyXG4gICAgICAgIDxDYW1lcmFUeXBlQnV0dG9ucyBiaW5kOmN1cnJlbnRDYW1lcmFUeXBlPXtjdXJyZW50Q2FtZXJhVHlwZX0vPlxyXG4gICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6IDFyZW07XCI+UmVjb3JkIFRpbWU8L2g0PlxyXG4gICAgICAgIDxSZWNvcmRUaW1lQnV0dG9ucyBiaW5kOmN1cnJlbnRUaW1lPXtjdXJyZW50VGltZX0vPlxyXG4gICAgICAgIDxidXR0b24gb246Y2xpY2s9eygpID0+IHJlY29yZCgyKX0gY2xhc3M9XCJyZWNvcmRCdG5cIj48aDM+UmVjb3JkPC9oMz48L2J1dHRvbj5cclxuICAgIHs6ZWxzZSBpZiBpc1JlY29yZGluZ31cclxuICAgICAgICA8aDM+UmVjb3JkaW5nPC9oMz5cclxuICAgIHs6ZWxzZSBpZiByZWNvcmVkZWRWaWRlb31cclxuICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtjb252ZXJ0VmlkZW99IGNsYXNzPVwic2F2ZUJ0blwiPjxoMz5TYXZlIFZpZGVvPC9oMz48L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtkZWxldGVWaWRlb30gY2xhc3M9XCJyZWNvcmRCdG5cIj48aDM+RGVsZXRlIFZpZGVvPC9oMz48L2J1dHRvbj5cclxuICAgIHsvaWZ9XHJcbjwvZGl2PlxyXG5cclxuXHJcbjxzdHlsZT5cclxuXHJcbiAgICAucmVjb3JkQnRue1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzk3NTA0QjtcclxuICAgIH1cclxuXHJcbiAgICAuc2F2ZUJ0bntcclxuICAgICAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNFOUNBNUQ7XHJcbiAgICB9XHJcblxyXG4gICAgLmNlbnRlcntcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaDR7XHJcbiAgICAgICAgY29sb3I6ICNDN0M3Qzc7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG1hcmdpbjogMC4zNXJlbSBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgIGgze1xyXG4gICAgICAgIG1hcmdpbjogMC4yNWVtIGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLmJhY2tCdG57XHJcbiAgICAgICAgd2lkdGg6IDMwJTtcclxuICAgIH1cclxuXHJcbiAgICBoM3tcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgdmlkZW97XHJcbiAgICAgICAgYmFja2dyb3VuZDogcmVkO1xyXG4gICAgICAgIHdpZHRoOiAyMnJlbTtcclxuICAgICAgICBoZWlnaHQ6IDMwcmVtO1xyXG4gICAgICAgIG1hcmdpbjogYXV0bztcclxuICAgIH1cclxuPC9zdHlsZT4iLCI8c2NyaXB0PlxuXHRpbXBvcnQgUmVmcmVzaCBmcm9tIFwiLi9saWIvUmVmcmVzaC5zdmVsdGVcIjtcblx0aW1wb3J0IEZyYW1lRGV0ZWN0ZWQgZnJvbSBcIi4vbGliL0ZyYW1lRGV0ZWN0ZWQuc3ZlbHRlXCI7XG5cdGltcG9ydCBGcmFtZUNvbGxlY3Rpb24gZnJvbSBcIi4vbGliL0ZyYW1lQ29sbGVjdGlvbi5zdmVsdGVcIjtcblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IFJlY29yZFBhZ2UgZnJvbSBcIi4vbGliL1JlY29yZFBhZ2Uuc3ZlbHRlXCI7XG5cblxuXG5cdC8vZmV0Y2ggZXNwMzIgZm9yIGl0cyBpZCAjXG5cdGNvbnN0IGZyYW1lSUQgPSBcIjAwMFwiO1xuXG5cdC8vY2hlY2sgc2F2ZWQgYXJyYXkgZm9yIGlkICNcblx0bGV0IHNhdmVkRnJhbWVJRHMgPSBbXCIwMDFcIiwgXCIwMDJcIiwgXCIwMDNcIiwgXCIwMDRcIl07XG5cblx0bGV0IGlzTmV3RnJhbWUgPSB0cnVlO1xuXHRsZXQgZnJhbWVEZXRlY3RlZCA9IGZhbHNlO1xuXG5cdGxldCBzaG93RnJhbWVEZXRlY3RlZCA9IGZhbHNlO1xuXG5cdGxldCBzaG93UmVjb3JkUGFnZSA9IHRydWU7XG5cblx0Ly90ZW1wIHB1dCB5ZXNcblx0Ly9zaG93RnJhbWVEZXRlY3RlZCA9IHRydWU7XG5cblxuXHRvbk1vdW50KGFzeW5jICgpID0+IHtcblx0XHRzYXZlZEZyYW1lSURzLmZvckVhY2goaWQgPT4ge1xuXHRcdFx0aWYoZnJhbWVJRCA9PSBpZCl7XG5cdFx0XHRcdGlzTmV3RnJhbWUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblxuXHQvL2lmIG5vdCBmb3VuZCB0aGVuIHNob3cgZnJhbWVcblx0Ly9pZiB0aGVyZSBpcyBzYXZlZCB2aWRlbywgc2hvdyB1cGxvYWQgd2luZG93LCBlbHNlIHNob3cgbmV3IGZyYW1lIHdpbmRvd1xuPC9zY3JpcHQ+XG5cbnsjaWYgIXNob3dSZWNvcmRQYWdlfVxuXG5cdHsjaWYgc2hvd0ZyYW1lRGV0ZWN0ZWR9XG5cdFx0PEZyYW1lRGV0ZWN0ZWQgZnJhbWVJRD17ZnJhbWVJRH0gYmluZDpzaG93RnJhbWVEZXRlY3RlZD17c2hvd0ZyYW1lRGV0ZWN0ZWR9Lz5cblx0ey9pZn1cblxuXHQ8UmVmcmVzaCAvPlxuXHQ8RnJhbWVDb2xsZWN0aW9uIGJpbmQ6c2F2ZWRGcmFtZUlEcz17c2F2ZWRGcmFtZUlEc30gYmluZDpzaG93UmVjb3JkUGFnZT17c2hvd1JlY29yZFBhZ2V9Lz5cbns6ZWxzZX1cblx0PFJlY29yZFBhZ2UgYmluZDpzaG93UmVjb3JkUGFnZT17c2hvd1JlY29yZFBhZ2V9Lz5cblxuey9pZn0iLCJpbXBvcnQgQXBwIGZyb20gJy4vQXBwLnN2ZWx0ZSc7XG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuXHR0YXJnZXQ6IGRvY3VtZW50LmJvZHlcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7Il0sIm5hbWVzIjpbIm5vb3AiLCJpZGVudGl0eSIsIngiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsIk9iamVjdCIsImNyZWF0ZSIsInJ1bl9hbGwiLCJmbnMiLCJmb3JFYWNoIiwiaXNfZnVuY3Rpb24iLCJ0aGluZyIsInNhZmVfbm90X2VxdWFsIiwiYSIsImIiLCJjb21wb25lbnRfc3Vic2NyaWJlIiwiY29tcG9uZW50Iiwic3RvcmUiLCJjYWxsYmFjayIsIiQkIiwib25fZGVzdHJveSIsInB1c2giLCJjYWxsYmFja3MiLCJ1bnN1YiIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIiwiaXNfY2xpZW50Iiwid2luZG93Iiwibm93IiwicGVyZm9ybWFuY2UiLCJEYXRlIiwicmFmIiwiY2IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0YXNrcyIsIlNldCIsInJ1bl90YXNrcyIsInRhc2siLCJjIiwiZGVsZXRlIiwiZiIsInNpemUiLCJpc19oeWRyYXRpbmciLCJ1cHBlcl9ib3VuZCIsImxvdyIsImhpZ2giLCJrZXkiLCJ2YWx1ZSIsIm1pZCIsImFwcGVuZCIsInRhcmdldCIsIm5vZGUiLCJoeWRyYXRlX2luaXQiLCJjaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJtIiwiSW50MzJBcnJheSIsImxlbmd0aCIsInAiLCJsb25nZXN0IiwiaSIsInNlcUxlbiIsImlkeCIsImNsYWltX29yZGVyIiwibmV3TGVuIiwiTWF0aCIsIm1heCIsImxpcyIsInRvTW92ZSIsImxhc3QiLCJjdXIiLCJyZXZlcnNlIiwic29ydCIsImoiLCJhbmNob3IiLCJpbnNlcnRCZWZvcmUiLCJpbml0X2h5ZHJhdGUiLCJ1bmRlZmluZWQiLCJhY3R1YWxfZW5kX2NoaWxkIiwicGFyZW50RWxlbWVudCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsInBhcmVudE5vZGUiLCJhcHBlbmRDaGlsZCIsImluc2VydCIsImRldGFjaCIsInJlbW92ZUNoaWxkIiwiZWxlbWVudCIsIm5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0IiwiZGF0YSIsImNyZWF0ZVRleHROb2RlIiwic3BhY2UiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhdHRyIiwiYXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic2V0X2RhdGEiLCJ3aG9sZVRleHQiLCJzZXRfc3R5bGUiLCJpbXBvcnRhbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiYWN0aXZlX2RvY3MiLCJjdXJyZW50X2NvbXBvbmVudCIsImFjdGl2ZSIsImNyZWF0ZV9ydWxlIiwiZHVyYXRpb24iLCJkZWxheSIsImVhc2UiLCJ1aWQiLCJzdGVwIiwia2V5ZnJhbWVzIiwidCIsInJ1bGUiLCJzdHIiLCJoYXNoIiwiY2hhckNvZGVBdCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJhZGQiLCJzdHlsZXNoZWV0IiwiX19zdmVsdGVfc3R5bGVzaGVldCIsImhlYWQiLCJzaGVldCIsImN1cnJlbnRfcnVsZXMiLCJfX3N2ZWx0ZV9ydWxlcyIsImluc2VydFJ1bGUiLCJjc3NSdWxlcyIsImFuaW1hdGlvbiIsImRlbGV0ZV9ydWxlIiwicHJldmlvdXMiLCJzcGxpdCIsIm5leHQiLCJmaWx0ZXIiLCJhbmltIiwiaW5kZXhPZiIsImRlbGV0ZWQiLCJqb2luIiwiZGVsZXRlUnVsZSIsImNsZWFyIiwic2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25Nb3VudCIsIkVycm9yIiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25fbW91bnQiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidXBkYXRlX3NjaGVkdWxlZCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJhZGRfZmx1c2hfY2FsbGJhY2siLCJmbHVzaGluZyIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2giLCJ1cGRhdGUiLCJwb3AiLCJoYXMiLCJmcmFnbWVudCIsImJlZm9yZV91cGRhdGUiLCJkaXJ0eSIsImN0eCIsImFmdGVyX3VwZGF0ZSIsInByb21pc2UiLCJkaXNwYXRjaCIsImRpcmVjdGlvbiIsImtpbmQiLCJkaXNwYXRjaEV2ZW50IiwidHlwZSIsImRldGFpbCIsImJ1YmJsZXMiLCJlIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJjdXN0b21fZXZlbnQiLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsInIiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwiYmxvY2siLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwibyIsImQiLCJudWxsX3RyYW5zaXRpb24iLCJjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uIiwicGFyYW1zIiwiaW50cm8iLCJjb25maWciLCJydW5uaW5nX3Byb2dyYW0iLCJwZW5kaW5nX3Byb2dyYW0iLCJhbmltYXRpb25fbmFtZSIsImNsZWFyX2FuaW1hdGlvbiIsImluaXQiLCJwcm9ncmFtIiwiYWJzIiwic3RhcnQiLCJlbmQiLCJncm91cCIsImdvIiwiZWFzaW5nIiwidGljayIsImNzcyIsImZ1bGZpbGwiLCJsb29wIiwidGhlbiIsImJpbmQiLCJpbmRleCIsInByb3BzIiwiYm91bmQiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiY3VzdG9tRWxlbWVudCIsIm5ld19vbl9kZXN0cm95IiwibWFwIiwiZGVzdHJveV9jb21wb25lbnQiLCJkZXRhY2hpbmciLCJtYWtlX2RpcnR5IiwiZmlsbCIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicGFyZW50X2NvbXBvbmVudCIsIm9uX2Rpc2Nvbm5lY3QiLCJjb250ZXh0IiwiTWFwIiwic2tpcF9ib3VuZCIsInJlYWR5IiwicmV0IiwicmVzdCIsImh5ZHJhdGUiLCJub2RlcyIsIkFycmF5IiwiZnJvbSIsImwiLCJTdmVsdGVDb21wb25lbnQiLCIkZGVzdHJveSIsInRoaXMiLCIkb24iLCJzcGxpY2UiLCIkc2V0IiwiJCRwcm9wcyIsIm9iaiIsIiQkc2V0Iiwia2V5cyIsImgxIiwiZGl2IiwiYnV0dG9uIiwibG9jYXRpb24iLCJocmVmIiwiZGl2MiIsImZhZGUiLCJsaW5lYXIiLCJnZXRDb21wdXRlZFN0eWxlIiwib3BhY2l0eSIsImRpdjAiLCJkaXYxIiwiaDIwIiwiaDIxIiwiZGl2MV90cmFuc2l0aW9uIiwiZnJhbWVJRCIsInNob3dGcmFtZURldGVjdGVkIiwiJCRpbnZhbGlkYXRlIiwic3Vic2NyaWJlcl9xdWV1ZSIsImN1cnJlbnRGcmFtZUlEIiwic3RvcCIsInN1YnNjcmliZXJzIiwic2V0IiwibmV3X3ZhbHVlIiwicnVuX3F1ZXVlIiwicyIsImludmFsaWRhdGUiLCJzdWJzY3JpYmVyIiwid3JpdGFibGUiLCJoMyIsInNob3dSZWNvcmRQYWdlIiwiY29uc29sZSIsImxvZyIsImVhY2hfYmxvY2tzIiwiaXRlcmF0aW9ucyIsInNhdmVkRnJhbWVJRHMiLCJjcmVhdGVfaWZfYmxvY2siLCJjdXJyZW50Q2FtZXJhVHlwZSIsImNoYW5nZUNhbVR5cGUiLCJjYW1UeXBlIiwiY3JlYXRlX2lmX2Jsb2NrXzEiLCJjdXJyZW50VGltZSIsImNoYW5nZVRpbWUiLCJuZXdUaW1lIiwic2NyaXB0MCIsInNjcmlwdDEiLCJkaXY1IiwiZGl2NCIsImRpdjMiLCJoNDEiLCJjb252ZXJ0TG9hZGluZ0JhciIsImN1cnJlbnRUYXNrVGV4dCIsImJsb2IiLCJhc3luYyIsIndpZHRoIiwiY29udmVyVmlkZW8iLCJjcmVhdGVGRm1wZWciLCJmZXRjaEZpbGUiLCJGRm1wZWciLCJmZm1wZWciLCJsb2FkIiwic2V0TG9nZ2VyIiwibWVzc2FnZSIsImFsZXJ0Iiwic2V0UHJvZ3Jlc3MiLCJyYXRpbyIsIkZTIiwiVWludDhBcnJheSIsImFycmF5QnVmZmVyIiwib3V0cHV0IiwibGluayIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJidWZmZXIiLCJkb3dubG9hZCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJuZXdGaWxlIiwiRmlsZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIiQkdmFsdWUiLCJidXR0b24wIiwiYnV0dG9uMSIsImg0MCIsImNyZWF0ZV9pZl9ibG9ja18zIiwidmlkZW8iLCJjYXB0dXJlQ2FtZXJhIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJjYW1lcmEiLCJjYXRjaCIsImVycm9yIiwidmlkZW9FbGVtZW50IiwicmVjb3JkZXIiLCJpc1JlY29yZGluZyIsInJlY29yZWRlZFZpZGVvIiwic2hvd0NvbnZlcnQiLCJyZWNvcmQiLCJ0aW1lIiwic3RhcnRSZWNvcmRpbmciLCJzZXRUaW1lb3V0Iiwic3RvcFJlY29yZGluZyIsInN0b3BSZWNvcmRpbmdDYWxsYmFjayIsInNyYyIsInNyY09iamVjdCIsIm11dGVkIiwidm9sdW1lIiwiZ2V0QmxvYiIsImRlc3Ryb3kiLCJSZWNvcmRSVEMiLCJpZCJdLCJtYXBwaW5ncyI6ImdDQUFBLFNBQVNBLElBQVUsQ0FDbkIsTUFBTUMsRUFBV0MsR0FBS0EsRUFldEIsU0FBU0MsRUFBSUMsR0FDVCxPQUFPQSxHQUNYLENBQ0EsU0FBU0MsSUFDTCxPQUFPQyxPQUFPQyxPQUFPLEtBQ3pCLENBQ0EsU0FBU0MsRUFBUUMsR0FDYkEsRUFBSUMsUUFBUVAsRUFDaEIsQ0FDQSxTQUFTUSxFQUFZQyxHQUNqQixNQUF3QixtQkFBVkEsQ0FDbEIsQ0FDQSxTQUFTQyxFQUFlQyxFQUFHQyxHQUN2QixPQUFPRCxHQUFLQSxFQUFJQyxHQUFLQSxFQUFJRCxJQUFNQyxHQUFPRCxHQUFrQixpQkFBTkEsR0FBZ0MsbUJBQU5BLENBQ2hGLENBd0JBLFNBQVNFLEVBQW9CQyxFQUFXQyxFQUFPQyxHQUMzQ0YsRUFBVUcsR0FBR0MsV0FBV0MsS0FiNUIsU0FBbUJKLEtBQVVLLEdBQ3pCLEdBQWEsTUFBVEwsRUFDQSxPQUFPbEIsRUFFWCxNQUFNd0IsRUFBUU4sRUFBTU8sYUFBYUYsR0FDakMsT0FBT0MsRUFBTUUsWUFBYyxJQUFNRixFQUFNRSxjQUFnQkYsQ0FDM0QsQ0FPaUNDLENBQVVQLEVBQU9DLEdBQ2xELENBdUZBLE1BQU1RLEVBQThCLG9CQUFYQyxPQUN6QixJQUFJQyxFQUFNRixFQUNKLElBQU1DLE9BQU9FLFlBQVlELE1BQ3pCLElBQU1FLEtBQUtGLE1BQ2JHLEVBQU1MLEVBQVlNLEdBQU1DLHNCQUFzQkQsR0FBTWpDLEVBU3hELE1BQU1tQyxFQUFRLElBQUlDLElBQ2xCLFNBQVNDLEVBQVVSLEdBQ2ZNLEVBQU16QixTQUFRNEIsSUFDTEEsRUFBS0MsRUFBRVYsS0FDUk0sRUFBTUssT0FBT0YsR0FDYkEsRUFBS0csSUFDUixJQUVjLElBQWZOLEVBQU1PLE1BQ05WLEVBQUlLLEVBQ1osQ0EyQkEsSUFBSU0sR0FBZSxFQU9uQixTQUFTQyxFQUFZQyxFQUFLQyxFQUFNQyxFQUFLQyxHQUVqQyxLQUFPSCxFQUFNQyxHQUFNLENBQ2YsTUFBTUcsRUFBTUosR0FBUUMsRUFBT0QsR0FBUSxHQUMvQkUsRUFBSUUsSUFBUUQsRUFDWkgsRUFBTUksRUFBTSxFQUdaSCxFQUFPRyxDQUVkLENBQ0QsT0FBT0osQ0FDWCxDQW9FQSxTQUFTSyxFQUFPQyxFQUFRQyxHQUNoQlQsSUFwRVIsU0FBc0JRLEdBQ2xCLEdBQUlBLEVBQU9FLGFBQ1AsT0FDSkYsRUFBT0UsY0FBZSxFQUV0QixNQUFNQyxFQUFXSCxFQUFPSSxXQW1CbEJDLEVBQUksSUFBSUMsV0FBV0gsRUFBU0ksT0FBUyxHQUVyQ0MsRUFBSSxJQUFJRixXQUFXSCxFQUFTSSxRQUNsQ0YsRUFBRSxJQUFNLEVBQ1IsSUFBSUksRUFBVSxFQUNkLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJUCxFQUFTSSxPQUFRRyxJQUFLLENBQ3RDLE1BR01DLEVBQVNsQixFQUFZLEVBQUdnQixFQUFVLEdBQUdHLEdBQU9ULEVBQVNFLEVBQUVPLElBQU1DLGFBSG5EVixFQUFTTyxHQUFHRyxhQUcrRCxFQUMzRkwsRUFBRUUsR0FBS0wsRUFBRU0sR0FBVSxFQUNuQixNQUFNRyxFQUFTSCxFQUFTLEVBRXhCTixFQUFFUyxHQUFVSixFQUNaRCxFQUFVTSxLQUFLQyxJQUFJRixFQUFRTCxFQUM5QixDQUVELE1BQU1RLEVBQU0sR0FFTkMsRUFBUyxHQUNmLElBQUlDLEVBQU9oQixFQUFTSSxPQUFTLEVBQzdCLElBQUssSUFBSWEsRUFBTWYsRUFBRUksR0FBVyxFQUFVLEdBQVBXLEVBQVVBLEVBQU1aLEVBQUVZLEVBQU0sR0FBSSxDQUV2RCxJQURBSCxFQUFJOUMsS0FBS2dDLEVBQVNpQixFQUFNLElBQ2pCRCxHQUFRQyxFQUFLRCxJQUNoQkQsRUFBTy9DLEtBQUtnQyxFQUFTZ0IsSUFFekJBLEdBQ0gsQ0FDRCxLQUFPQSxHQUFRLEVBQUdBLElBQ2RELEVBQU8vQyxLQUFLZ0MsRUFBU2dCLElBRXpCRixFQUFJSSxVQUVKSCxFQUFPSSxNQUFLLENBQUMzRCxFQUFHQyxJQUFNRCxFQUFFa0QsWUFBY2pELEVBQUVpRCxjQUV4QyxJQUFLLElBQUlILEVBQUksRUFBR2EsRUFBSSxFQUFHYixFQUFJUSxFQUFPWCxPQUFRRyxJQUFLLENBQzNDLEtBQU9hLEVBQUlOLEVBQUlWLFFBQVVXLEVBQU9SLEdBQUdHLGFBQWVJLEVBQUlNLEdBQUdWLGFBQ3JEVSxJQUVKLE1BQU1DLEVBQVNELEVBQUlOLEVBQUlWLE9BQVNVLEVBQUlNLEdBQUssS0FDekN2QixFQUFPeUIsYUFBYVAsRUFBT1IsR0FBSWMsRUFDbEMsQ0FDTCxDQUdRRSxDQUFhMUIsU0FDb0IyQixJQUE1QjNCLEVBQU80QixrQkFBaUUsT0FBNUI1QixFQUFPNEIsa0JBQStCNUIsRUFBTzRCLGlCQUFpQkMsZ0JBQWtCN0IsS0FDN0hBLEVBQU80QixpQkFBbUI1QixFQUFPOEIsWUFFakM3QixJQUFTRCxFQUFPNEIsaUJBQ2hCNUIsRUFBT3lCLGFBQWF4QixFQUFNRCxFQUFPNEIsa0JBR2pDNUIsRUFBTzRCLGlCQUFtQjNCLEVBQUs4QixhQUc5QjlCLEVBQUsrQixhQUFlaEMsR0FDekJBLEVBQU9pQyxZQUFZaEMsRUFFM0IsQ0FDQSxTQUFTaUMsRUFBT2xDLEVBQVFDLEVBQU11QixHQUN0QmhDLElBQWlCZ0MsRUFDakJ6QixFQUFPQyxFQUFRQyxHQUVWQSxFQUFLK0IsYUFBZWhDLEdBQVVDLEVBQUs4QixhQUFlUCxHQUN2RHhCLEVBQU95QixhQUFheEIsRUFBTXVCLEdBQVUsS0FFNUMsQ0FDQSxTQUFTVyxFQUFPbEMsR0FDWkEsRUFBSytCLFdBQVdJLFlBQVluQyxFQUNoQyxDQU9BLFNBQVNvQyxFQUFRQyxHQUNiLE9BQU9DLFNBQVNDLGNBQWNGLEVBQ2xDLENBbUJBLFNBQVNHLEVBQUtDLEdBQ1YsT0FBT0gsU0FBU0ksZUFBZUQsRUFDbkMsQ0FDQSxTQUFTRSxJQUNMLE9BQU9ILEVBQUssSUFDaEIsQ0FJQSxTQUFTSSxFQUFPNUMsRUFBTTZDLEVBQU9DLEVBQVNDLEdBRWxDLE9BREEvQyxFQUFLZ0QsaUJBQWlCSCxFQUFPQyxFQUFTQyxHQUMvQixJQUFNL0MsRUFBS2lELG9CQUFvQkosRUFBT0MsRUFBU0MsRUFDMUQsQ0E2QkEsU0FBU0csRUFBS2xELEVBQU1tRCxFQUFXdkQsR0FDZCxNQUFUQSxFQUNBSSxFQUFLb0QsZ0JBQWdCRCxHQUNoQm5ELEVBQUtxRCxhQUFhRixLQUFldkQsR0FDdENJLEVBQUtzRCxhQUFhSCxFQUFXdkQsRUFDckMsQ0FrSkEsU0FBUzJELEVBQVNmLEVBQU1DLEdBQ3BCQSxFQUFPLEdBQUtBLEVBQ1JELEVBQUtnQixZQUFjZixJQUNuQkQsRUFBS0MsS0FBT0EsRUFDcEIsQ0FZQSxTQUFTZ0IsRUFBVXpELEVBQU1MLEVBQUtDLEVBQU84RCxHQUNqQzFELEVBQUsyRCxNQUFNQyxZQUFZakUsRUFBS0MsRUFBTzhELEVBQVksWUFBYyxHQUNqRSxDQTBJQSxNQUFNRyxFQUFjLElBQUk3RSxJQUN4QixJQWlJSThFLEVBaklBQyxFQUFTLEVBU2IsU0FBU0MsRUFBWWhFLEVBQU10QyxFQUFHQyxFQUFHc0csRUFBVUMsRUFBT0MsRUFBTW5ILEVBQUlvSCxFQUFNLEdBQzlELE1BQU1DLEVBQU8sT0FBU0osRUFDdEIsSUFBSUssRUFBWSxNQUNoQixJQUFLLElBQUkvRCxFQUFJLEVBQUdBLEdBQUssRUFBR0EsR0FBSzhELEVBQU0sQ0FDL0IsTUFBTUUsRUFBSTdHLEdBQUtDLEVBQUlELEdBQUt5RyxFQUFLNUQsR0FDN0IrRCxHQUFpQixJQUFKL0QsRUFBVSxLQUFLdkQsRUFBR3VILEVBQUcsRUFBSUEsT0FDekMsQ0FDRCxNQUFNQyxFQUFPRixFQUFZLFNBQVN0SCxFQUFHVyxFQUFHLEVBQUlBLFNBQ3RDMEUsRUFBTyxZQWZqQixTQUFjb0MsR0FDVixJQUFJQyxFQUFPLEtBQ1BqRSxFQUFJZ0UsRUFBSW5FLE9BQ1osS0FBT0csS0FDSGlFLEdBQVNBLEdBQVEsR0FBS0EsRUFBUUQsRUFBSUUsV0FBV2xFLEdBQ2pELE9BQU9pRSxJQUFTLENBQ3BCLENBUzZCQSxDQUFLRixNQUFTSixJQUNqQ1EsRUFBTTVFLEVBQUs2RSxjQUNqQmhCLEVBQVlpQixJQUFJRixHQUNoQixNQUFNRyxFQUFhSCxFQUFJSSxzQkFBd0JKLEVBQUlJLG9CQUFzQkosRUFBSUssS0FBS2pELFlBQVlJLEVBQVEsVUFBVThDLE9BQzFHQyxFQUFnQlAsRUFBSVEsaUJBQW1CUixFQUFJUSxlQUFpQixDQUFBLEdBQzdERCxFQUFjOUMsS0FDZjhDLEVBQWM5QyxJQUFRLEVBQ3RCMEMsRUFBV00sV0FBVyxjQUFjaEQsS0FBUW1DLElBQVFPLEVBQVdPLFNBQVNoRixTQUU1RSxNQUFNaUYsRUFBWXZGLEVBQUsyRCxNQUFNNEIsV0FBYSxHQUcxQyxPQUZBdkYsRUFBSzJELE1BQU00QixVQUFZLEdBQUdBLEVBQVksR0FBR0EsTUFBZ0IsS0FBS2xELEtBQVE0QixjQUFxQkMsYUFDM0ZILEdBQVUsRUFDSDFCLENBQ1gsQ0FDQSxTQUFTbUQsRUFBWXhGLEVBQU1xQyxHQUN2QixNQUFNb0QsR0FBWXpGLEVBQUsyRCxNQUFNNEIsV0FBYSxJQUFJRyxNQUFNLE1BQzlDQyxFQUFPRixFQUFTRyxPQUFPdkQsRUFDdkJ3RCxHQUFRQSxFQUFLQyxRQUFRekQsR0FBUSxFQUM3QndELElBQXNDLElBQTlCQSxFQUFLQyxRQUFRLGFBRXJCQyxFQUFVTixFQUFTbkYsT0FBU3FGLEVBQUtyRixPQUNuQ3lGLElBQ0EvRixFQUFLMkQsTUFBTTRCLFVBQVlJLEVBQUtLLEtBQUssTUFDakNqQyxHQUFVZ0MsRUFDTGhDLEdBS1RuRixHQUFJLEtBQ0ltRixJQUVKRixFQUFZdkcsU0FBUXNILElBQ2hCLE1BQU1HLEVBQWFILEVBQUlJLG9CQUN2QixJQUFJdkUsRUFBSXNFLEVBQVdPLFNBQVNoRixPQUM1QixLQUFPRyxLQUNIc0UsRUFBV2tCLFdBQVd4RixHQUMxQm1FLEVBQUlRLGVBQWlCLEVBQUUsSUFFM0J2QixFQUFZcUMsUUFBTyxJQVozQixDQXNGQSxTQUFTQyxFQUFzQnRJLEdBQzNCaUcsRUFBb0JqRyxDQUN4QixDQVNBLFNBQVN1SSxFQUFRcEosSUFSakIsV0FDSSxJQUFLOEcsRUFDRCxNQUFNLElBQUl1QyxNQUFNLG9EQUNwQixPQUFPdkMsQ0FDWCxFQUtJd0MsR0FBd0J0SSxHQUFHdUksU0FBU3JJLEtBQUtsQixFQUM3QyxDQTRDQSxNQUFNd0osRUFBbUIsR0FFbkJDLEVBQW9CLEdBQ3BCQyxFQUFtQixHQUNuQkMsRUFBa0IsR0FDbEJDLEVBQW1CQyxRQUFRQyxVQUNqQyxJQUFJQyxHQUFtQixFQVd2QixTQUFTQyxFQUFvQmhLLEdBQ3pCMEosRUFBaUJ4SSxLQUFLbEIsRUFDMUIsQ0FDQSxTQUFTaUssRUFBbUJqSyxHQUN4QjJKLEVBQWdCekksS0FBS2xCLEVBQ3pCLENBQ0EsSUFBSWtLLEdBQVcsRUFDZixNQUFNQyxFQUFpQixJQUFJbkksSUFDM0IsU0FBU29JLElBQ0wsSUFBSUYsRUFBSixDQUVBQSxHQUFXLEVBQ1gsRUFBRyxDQUdDLElBQUssSUFBSXpHLEVBQUksRUFBR0EsRUFBSStGLEVBQWlCbEcsT0FBUUcsR0FBSyxFQUFHLENBQ2pELE1BQU01QyxFQUFZMkksRUFBaUIvRixHQUNuQzBGLEVBQXNCdEksR0FDdEJ3SixFQUFPeEosRUFBVUcsR0FDcEIsQ0FHRCxJQUZBbUksRUFBc0IsTUFDdEJLLEVBQWlCbEcsT0FBUyxFQUNuQm1HLEVBQWtCbkcsUUFDckJtRyxFQUFrQmEsS0FBbEJiLEdBSUosSUFBSyxJQUFJaEcsRUFBSSxFQUFHQSxFQUFJaUcsRUFBaUJwRyxPQUFRRyxHQUFLLEVBQUcsQ0FDakQsTUFBTTFDLEVBQVcySSxFQUFpQmpHLEdBQzdCMEcsRUFBZUksSUFBSXhKLEtBRXBCb0osRUFBZXJDLElBQUkvRyxHQUNuQkEsSUFFUCxDQUNEMkksRUFBaUJwRyxPQUFTLENBQ2xDLE9BQWFrRyxFQUFpQmxHLFFBQzFCLEtBQU9xRyxFQUFnQnJHLFFBQ25CcUcsRUFBZ0JXLEtBQWhCWCxHQUVKSSxHQUFtQixFQUNuQkcsR0FBVyxFQUNYQyxFQUFlakIsT0FoQ0osQ0FpQ2YsQ0FDQSxTQUFTbUIsRUFBT3JKLEdBQ1osR0FBb0IsT0FBaEJBLEVBQUd3SixTQUFtQixDQUN0QnhKLEVBQUdxSixTQUNIakssRUFBUVksRUFBR3lKLGVBQ1gsTUFBTUMsRUFBUTFKLEVBQUcwSixNQUNqQjFKLEVBQUcwSixNQUFRLEVBQUUsR0FDYjFKLEVBQUd3SixVQUFZeEosRUFBR3dKLFNBQVNqSCxFQUFFdkMsRUFBRzJKLElBQUtELEdBQ3JDMUosRUFBRzRKLGFBQWF0SyxRQUFRMEosRUFDM0IsQ0FDTCxDQUVBLElBQUlhLEVBVUosU0FBU0MsRUFBUzlILEVBQU0rSCxFQUFXQyxHQUMvQmhJLEVBQUtpSSxjQTFVVCxTQUFzQkMsRUFBTUMsRUFBUUMsR0FBVSxHQUMxQyxNQUFNQyxFQUFJL0YsU0FBU2dHLFlBQVksZUFFL0IsT0FEQUQsRUFBRUUsZ0JBQWdCTCxFQUFNRSxHQUFTLEVBQU9ELEdBQ2pDRSxDQUNYLENBc1V1QkcsQ0FBYSxHQUFHVCxFQUFZLFFBQVUsVUFBVUMsS0FDdkUsQ0FDQSxNQUFNUyxFQUFXLElBQUl6SixJQUNyQixJQUFJMEosRUFDSixTQUFTQyxJQUNMRCxFQUFTLENBQ0xFLEVBQUcsRUFDSHpKLEVBQUcsR0FDSG9CLEVBQUdtSSxFQUVYLENBQ0EsU0FBU0csSUFDQUgsRUFBT0UsR0FDUnhMLEVBQVFzTCxFQUFPdkosR0FFbkJ1SixFQUFTQSxFQUFPbkksQ0FDcEIsQ0FDQSxTQUFTdUksRUFBY0MsRUFBT0MsR0FDdEJELEdBQVNBLEVBQU10SSxJQUNmZ0ksRUFBU3JKLE9BQU8ySixHQUNoQkEsRUFBTXRJLEVBQUV1SSxHQUVoQixDQUNBLFNBQVNDLEVBQWVGLEVBQU9DLEVBQU85RyxFQUFRbkUsR0FDMUMsR0FBSWdMLEdBQVNBLEVBQU1HLEVBQUcsQ0FDbEIsR0FBSVQsRUFBU2xCLElBQUl3QixHQUNiLE9BQ0pOLEVBQVMzRCxJQUFJaUUsR0FDYkwsRUFBT3ZKLEVBQUVqQixNQUFLLEtBQ1Z1SyxFQUFTckosT0FBTzJKLEdBQ1poTCxJQUNJbUUsR0FDQTZHLEVBQU1JLEVBQUUsR0FDWnBMLElBQ0gsSUFFTGdMLEVBQU1HLEVBQUVGLEVBQ1gsQ0FDTCxDQUNBLE1BQU1JLEVBQWtCLENBQUVuRixTQUFVLEdBdUhwQyxTQUFTb0YsRUFBZ0NySixFQUFNaEQsRUFBSXNNLEVBQVFDLEdBQ3ZELElBQUlDLEVBQVN4TSxFQUFHZ0QsRUFBTXNKLEdBQ2xCL0UsRUFBSWdGLEVBQVEsRUFBSSxFQUNoQkUsRUFBa0IsS0FDbEJDLEVBQWtCLEtBQ2xCQyxFQUFpQixLQUNyQixTQUFTQyxJQUNERCxHQUNBbkUsRUFBWXhGLEVBQU0ySixFQUN6QixDQUNELFNBQVNFLEVBQUtDLEVBQVM3RixHQUNuQixNQUFNa0YsRUFBS1csRUFBUW5NLEVBQUk0RyxFQUV2QixPQURBTixHQUFZbkQsS0FBS2lKLElBQUlaLEdBQ2QsQ0FDSHpMLEVBQUc2RyxFQUNINUcsRUFBR21NLEVBQVFuTSxFQUNYd0wsSUFDQWxGLFdBQ0ErRixNQUFPRixFQUFRRSxNQUNmQyxJQUFLSCxFQUFRRSxNQUFRL0YsRUFDckJpRyxNQUFPSixFQUFRSSxNQUV0QixDQUNELFNBQVNDLEVBQUd4TSxHQUNSLE1BQU11RyxNQUFFQSxFQUFRLEVBQUNELFNBQUVBLEVBQVcsSUFBR21HLE9BQUVBLEVBQVN2TixFQUFRd04sS0FBRUEsRUFBT3pOLEVBQUkwTixJQUFFQSxHQUFRZCxHQUFVSixFQUMvRVUsRUFBVSxDQUNaRSxNQUFPdkwsSUFBUXlGLEVBQ2Z2RyxLQUVDQSxJQUVEbU0sRUFBUUksTUFBUXhCLEVBQ2hCQSxFQUFPRSxHQUFLLEdBRVphLEdBQW1CQyxFQUNuQkEsRUFBa0JJLEdBS2RRLElBQ0FWLElBQ0FELEVBQWlCM0YsRUFBWWhFLEVBQU11RSxFQUFHNUcsRUFBR3NHLEVBQVVDLEVBQU9rRyxFQUFRRSxJQUVsRTNNLEdBQ0EwTSxFQUFLLEVBQUcsR0FDWlosRUFBa0JJLEVBQUtDLEVBQVM3RixHQUNoQytDLEdBQW9CLElBQU1jLEVBQVM5SCxFQUFNckMsRUFBRyxXQXQ5QnhELFNBQWNJLEdBQ1YsSUFBSW1CLEVBQ2UsSUFBZkgsRUFBTU8sTUFDTlYsRUFBSUssR0FFSyxJQUFJNEgsU0FBUTBELElBQ2pCeEwsRUFBTStGLElBQUk1RixFQUFPLENBQUVDLEVBQUdwQixFQUFVc0IsRUFBR2tMLEdBQVUsR0FNekQsQ0EyOEJZQyxFQUFLL0wsSUFVRCxHQVRJaUwsR0FBbUJqTCxFQUFNaUwsRUFBZ0JNLFFBQ3pDUCxFQUFrQkksRUFBS0gsRUFBaUJ6RixHQUN4Q3lGLEVBQWtCLEtBQ2xCNUIsRUFBUzlILEVBQU15SixFQUFnQjlMLEVBQUcsU0FDOUIyTSxJQUNBVixJQUNBRCxFQUFpQjNGLEVBQVloRSxFQUFNdUUsRUFBR2tGLEVBQWdCOUwsRUFBRzhMLEVBQWdCeEYsU0FBVSxFQUFHbUcsRUFBUVosRUFBT2MsT0FHekdiLEVBQ0EsR0FBSWhMLEdBQU9nTCxFQUFnQlEsSUFDdkJJLEVBQUs5RixFQUFJa0YsRUFBZ0I5TCxFQUFHLEVBQUk0RyxHQUNoQ3VELEVBQVM5SCxFQUFNeUosRUFBZ0I5TCxFQUFHLE9BQzdCK0wsSUFFR0QsRUFBZ0I5TCxFQUVoQmlNLE1BSU9ILEVBQWdCUyxNQUFNdEIsR0FDekJ4TCxFQUFRcU0sRUFBZ0JTLE1BQU0vSyxJQUcxQ3NLLEVBQWtCLFVBRWpCLEdBQUloTCxHQUFPZ0wsRUFBZ0JPLE1BQU8sQ0FDbkMsTUFBTXpKLEVBQUk5QixFQUFNZ0wsRUFBZ0JPLE1BQ2hDekYsRUFBSWtGLEVBQWdCL0wsRUFBSStMLEVBQWdCTixFQUFJaUIsRUFBTzdKLEVBQUlrSixFQUFnQnhGLFVBQ3ZFb0csRUFBSzlGLEVBQUcsRUFBSUEsRUFDZixDQUVMLFNBQVVrRixJQUFtQkMsRUFBZ0IsSUFHeEQsQ0FDRCxNQUFPLENBQ0gzTSxJQUFJWSxHQUNJSixFQUFZaU0sSUEvUG5CM0IsSUFDREEsRUFBVWhCLFFBQVFDLFVBQ2xCZSxFQUFRNEMsTUFBSyxLQUNUNUMsRUFBVSxJQUFJLEtBR2ZBLEdBMFBZNEMsTUFBSyxLQUVSakIsRUFBU0EsSUFDVFcsRUFBR3hNLEVBQUUsSUFJVHdNLEVBQUd4TSxFQUVWLEVBQ0RzTSxNQUNJTCxJQUNBSCxFQUFrQkMsRUFBa0IsSUFDdkMsRUFFVCxDQXdYQSxTQUFTZ0IsR0FBSzdNLEVBQVd3RSxFQUFNdEUsR0FDM0IsTUFBTTRNLEVBQVE5TSxFQUFVRyxHQUFHNE0sTUFBTXZJLFFBQ25CWCxJQUFWaUosSUFDQTlNLEVBQVVHLEdBQUc2TSxNQUFNRixHQUFTNU0sRUFDNUJBLEVBQVNGLEVBQVVHLEdBQUcySixJQUFJZ0QsSUFFbEMsQ0FDQSxTQUFTRyxHQUFpQi9CLEdBQ3RCQSxHQUFTQSxFQUFNNUosR0FDbkIsQ0FJQSxTQUFTNEwsR0FBZ0JsTixFQUFXa0MsRUFBUXdCLEVBQVF5SixHQUNoRCxNQUFNeEQsU0FBRUEsRUFBUWpCLFNBQUVBLEVBQVF0SSxXQUFFQSxFQUFVMkosYUFBRUEsR0FBaUIvSixFQUFVRyxHQUNuRXdKLEdBQVlBLEVBQVNwSCxFQUFFTCxFQUFRd0IsR0FDMUJ5SixHQUVEaEUsR0FBb0IsS0FDaEIsTUFBTWlFLEVBQWlCMUUsRUFBUzJFLElBQUluTyxHQUFLNkksT0FBT3JJLEdBQzVDVSxFQUNBQSxFQUFXQyxRQUFRK00sR0FLbkI3TixFQUFRNk4sR0FFWnBOLEVBQVVHLEdBQUd1SSxTQUFXLEVBQUUsSUFHbENxQixFQUFhdEssUUFBUTBKLEVBQ3pCLENBQ0EsU0FBU21FLEdBQWtCdE4sRUFBV3VOLEdBQ2xDLE1BQU1wTixFQUFLSCxFQUFVRyxHQUNELE9BQWhCQSxFQUFHd0osV0FDSHBLLEVBQVFZLEVBQUdDLFlBQ1hELEVBQUd3SixVQUFZeEosRUFBR3dKLFNBQVMyQixFQUFFaUMsR0FHN0JwTixFQUFHQyxXQUFhRCxFQUFHd0osU0FBVyxLQUM5QnhKLEVBQUcySixJQUFNLEdBRWpCLENBQ0EsU0FBUzBELEdBQVd4TixFQUFXNEMsSUFDSSxJQUEzQjVDLEVBQVVHLEdBQUcwSixNQUFNLEtBQ25CbEIsRUFBaUJ0SSxLQUFLTCxHQXZ2QnJCa0osSUFDREEsR0FBbUIsRUFDbkJILEVBQWlCNkQsS0FBS3JELElBdXZCdEJ2SixFQUFVRyxHQUFHMEosTUFBTTRELEtBQUssSUFFNUJ6TixFQUFVRyxHQUFHMEosTUFBT2pILEVBQUksR0FBTSxJQUFPLEdBQU1BLEVBQUksRUFDbkQsQ0FDQSxTQUFTb0osR0FBS2hNLEVBQVdrRixFQUFTd0ksRUFBVUMsRUFBaUJDLEVBQVdiLEVBQU9sRCxFQUFRLEVBQUUsSUFDckYsTUFBTWdFLEVBQW1CNUgsRUFDekJxQyxFQUFzQnRJLEdBQ3RCLE1BQU1HLEVBQUtILEVBQVVHLEdBQUssQ0FDdEJ3SixTQUFVLEtBQ1ZHLElBQUssS0FFTGlELFFBQ0F2RCxPQUFRekssRUFDUjZPLFlBQ0FaLE1BQU81TixJQUVQc0osU0FBVSxHQUNWdEksV0FBWSxHQUNaME4sY0FBZSxHQUNmbEUsY0FBZSxHQUNmRyxhQUFjLEdBQ2RnRSxRQUFTLElBQUlDLElBQUlILEVBQW1CQSxFQUFpQjFOLEdBQUc0TixRQUFVN0ksRUFBUTZJLFNBQVcsSUFFckZ6TixVQUFXbEIsSUFDWHlLLFFBQ0FvRSxZQUFZLEdBRWhCLElBQUlDLEdBQVEsRUFrQlosR0FqQkEvTixFQUFHMkosSUFBTTRELEVBQ0hBLEVBQVMxTixFQUFXa0YsRUFBUTZILE9BQVMsQ0FBRSxHQUFFLENBQUNuSyxFQUFHdUwsS0FBUUMsS0FDbkQsTUFBTXJNLEVBQVFxTSxFQUFLM0wsT0FBUzJMLEVBQUssR0FBS0QsRUFPdEMsT0FOSWhPLEVBQUcySixLQUFPOEQsRUFBVXpOLEVBQUcySixJQUFJbEgsR0FBSXpDLEVBQUcySixJQUFJbEgsR0FBS2IsTUFDdEM1QixFQUFHOE4sWUFBYzlOLEVBQUc2TSxNQUFNcEssSUFDM0J6QyxFQUFHNk0sTUFBTXBLLEdBQUdiLEdBQ1ptTSxHQUNBVixHQUFXeE4sRUFBVzRDLElBRXZCdUwsQ0FBRyxJQUVaLEdBQ05oTyxFQUFHcUosU0FDSDBFLEdBQVEsRUFDUjNPLEVBQVFZLEVBQUd5SixlQUVYekosRUFBR3dKLFdBQVdnRSxHQUFrQkEsRUFBZ0J4TixFQUFHMkosS0FDL0M1RSxFQUFRaEQsT0FBUSxDQUNoQixHQUFJZ0QsRUFBUW1KLFFBQVMsQ0FuOUN6QjNNLEdBQWUsRUFxOUNQLE1BQU00TSxFQWh1Q2xCLFNBQWtCL0osR0FDZCxPQUFPZ0ssTUFBTUMsS0FBS2pLLEVBQVFqQyxXQUM5QixDQTh0QzBCRCxDQUFTNkMsRUFBUWhELFFBRS9CL0IsRUFBR3dKLFVBQVl4SixFQUFHd0osU0FBUzhFLEVBQUVILEdBQzdCQSxFQUFNN08sUUFBUTRFLEVBQ2pCLE1BR0dsRSxFQUFHd0osVUFBWXhKLEVBQUd3SixTQUFTckksSUFFM0I0RCxFQUFRd0csT0FDUlQsRUFBY2pMLEVBQVVHLEdBQUd3SixVQUMvQnVELEdBQWdCbE4sRUFBV2tGLEVBQVFoRCxPQUFRZ0QsRUFBUXhCLE9BQVF3QixFQUFRaUksZUE3OUN2RXpMLEdBQWUsRUErOUNYNkgsR0FDSCxDQUNEakIsRUFBc0J1RixFQUMxQixDQWlEQSxNQUFNYSxHQUNGQyxXQUNJckIsR0FBa0JzQixLQUFNLEdBQ3hCQSxLQUFLRCxTQUFXNVAsQ0FDbkIsQ0FDRDhQLElBQUl4RSxFQUFNbkssR0FDTixNQUFNSSxFQUFhc08sS0FBS3pPLEdBQUdHLFVBQVUrSixLQUFVdUUsS0FBS3pPLEdBQUdHLFVBQVUrSixHQUFRLElBRXpFLE9BREEvSixFQUFVRCxLQUFLSCxHQUNSLEtBQ0gsTUFBTTRNLEVBQVF4TSxFQUFVMkgsUUFBUS9ILElBQ2pCLElBQVg0TSxHQUNBeE0sRUFBVXdPLE9BQU9oQyxFQUFPLEVBQUUsQ0FFckMsQ0FDRGlDLEtBQUtDLEdBcnNEVCxJQUFrQkMsRUFzc0ROTCxLQUFLTSxRQXRzRENELEVBc3NEa0JELEVBcnNERyxJQUE1QjNQLE9BQU84UCxLQUFLRixHQUFLeE0sVUFzc0RoQm1NLEtBQUt6TyxHQUFHOE4sWUFBYSxFQUNyQlcsS0FBS00sTUFBTUYsR0FDWEosS0FBS3pPLEdBQUc4TixZQUFhLEVBRTVCLCtNQ251REw3SixFQUFlbEMsRUFBQWtOLEVBQUExTCxZQUVmVSxFQUVNbEMsRUFBQW1OLEVBQUEzTCxHQURGekIsRUFBK0NvTixFQUFBQyxxQkFBN0J4RixFQUFXLHFGQVhaLEtBQ2JuSixPQUFPNE8sU0FBU0MsS0FBTyxHQUFHLHVQQ0RsQ3BMLEVBSU1sQyxFQUFBdU4sRUFBQS9MLG1HQ29DTixTQUFTZ00sR0FBS3ZOLEdBQU1rRSxNQUFFQSxFQUFRLEVBQUNELFNBQUVBLEVBQVcsSUFBR21HLE9BQUVBLEVBQVNvRCxHQUFXLElBQ2pFLE1BQU10RSxHQUFLdUUsaUJBQWlCek4sR0FBTTBOLFFBQ2xDLE1BQU8sQ0FDSHhKLFFBQ0FELFdBQ0FtRyxTQUNBRSxJQUFLL0YsR0FBSyxZQUFZQSxFQUFJMkUsRUFFbEMsbU1DL0IrQixTQUFFdkIsRUFBTywrT0FQeEMxRixFQUE0QmxDLEVBQUE0TixFQUFBcE0sWUFFNUJVLEVBT01sQyxFQUFBNk4sRUFBQXJNLEdBTkZ6QixFQUE0QjhOLEVBQUFDLDhCQUk1Qi9OLEVBQTBDOE4sRUFBQUUsd0JBQzFDaE8sRUFBNEM4TixFQUFBVCwwQkFBMUJ4RixFQUFVLG1DQURDQSxFQUFPLHlDQUxMb0csSUFBQUEsRUFBQTFFLEVBQUF1RSxFQUFBTCxHQUFBLENBQUF0SixTQUFVLE1BQUcsK0NBQWI4SixJQUFBQSxFQUFBMUUsRUFBQXVFLEVBQUFMLEdBQUEsQ0FBQXRKLFNBQVUsTUFBRyw4R0FWakMrSixHQUFPbkIscUJBQ1BvQixHQUFpQnBCLDZHQUVaLEtBQ1pxQixFQUFBLEVBQUFELEdBQW1CLEVBQUssb0dDTGhDLE1BQU1FLEdBQW1CLEdDRGxCLE1BQU1DLEdEaUJiLFNBQWtCeE8sRUFBT29LLEVBQVFwTixHQUM3QixJQUFJeVIsRUFDSixNQUFNQyxFQUFjLEdBQ3BCLFNBQVNDLEVBQUlDLEdBQ1QsR0FBSS9RLEVBQWVtQyxFQUFPNE8sS0FDdEI1TyxFQUFRNE8sRUFDSkgsR0FBTSxDQUNOLE1BQU1JLEdBQWFOLEdBQWlCN04sT0FDcEMsSUFBSyxJQUFJRyxFQUFJLEVBQUdBLEVBQUk2TixFQUFZaE8sT0FBUUcsR0FBSyxFQUFHLENBQzVDLE1BQU1pTyxFQUFJSixFQUFZN04sR0FDdEJpTyxFQUFFLEtBQ0ZQLEdBQWlCalEsS0FBS3dRLEVBQUc5TyxFQUM1QixDQUNELEdBQUk2TyxFQUFXLENBQ1gsSUFBSyxJQUFJaE8sRUFBSSxFQUFHQSxFQUFJME4sR0FBaUI3TixPQUFRRyxHQUFLLEVBQzlDME4sR0FBaUIxTixHQUFHLEdBQUcwTixHQUFpQjFOLEVBQUksSUFFaEQwTixHQUFpQjdOLE9BQVMsQ0FDN0IsQ0FDSixDQUVSLENBc0JELE1BQU8sQ0FBRWlPLE1BQUtsSCxPQXJCZCxTQUFnQnJLLEdBQ1p1UixFQUFJdlIsRUFBRzRDLEdBQ1YsRUFtQnFCdkIsVUFsQnRCLFNBQW1CdEIsRUFBSzRSLEVBQWEvUixHQUNqQyxNQUFNZ1MsRUFBYSxDQUFDN1IsRUFBSzRSLEdBTXpCLE9BTEFMLEVBQVlwUSxLQUFLMFEsR0FDVSxJQUF2Qk4sRUFBWWhPLFNBQ1orTixFQUFPckUsRUFBTXVFLElBQVEzUixHQUV6QkcsRUFBSTZDLEdBQ0csS0FDSCxNQUFNK0ssRUFBUTJELEVBQVl4SSxRQUFROEksSUFDbkIsSUFBWGpFLEdBQ0EyRCxFQUFZM0IsT0FBT2hDLEVBQU8sR0FFSCxJQUF2QjJELEVBQVloTyxTQUNaK04sSUFDQUEsRUFBTyxLQUNWLENBRVIsRUFFTCxDQzdEOEJRLENBQVMscUpDaUIvQixTQUFFbEgsRUFBTyxtSEFMakIxRixFQU1NbEMsRUFBQXVOLEVBQUEvTCxHQUxGekIsRUFFTXdOLEVBQUFNLFVBRU45TixFQUFtQndOLEVBQUF3QixtQ0FMWW5ILEVBQVksNkJBS3JDQSxFQUFPLG9FQWZGcUcsR0FBT25CLGtCQUNQa0MsR0FBY2xDLHVHQUVQLEtBQ2R1QixHQUFlRyxJQUFJUCxHQUNuQkUsRUFBQSxFQUFBYSxHQUFpQixHQUNqQkMsUUFBUUMsSUFBSWpCLEVBQU8sdU5DQUNyRyxFQUFPLGdCQUFxQyxJQUFkQSxFQUFjLHNCQUFkQSxFQUFjLGdKQUE1Q0EsRUFBTyxvQ0FBdUJBLEVBQWMsc0lBRDdEQSxFQUFhLHdCQUFsQnJILE9BQUlHLEdBQUEsOEtBRFZ3QixFQUlNbEMsRUFBQW1OLEVBQUEzTCxpRkFIS29HLEVBQWEsV0FBbEJySCxPQUFJRyxHQUFBLEVBQUEsMkdBQUpILE9BQUlHLEVBQUF5TyxFQUFBNU8sT0FBQUcsR0FBQSx5Q0FBSkgsT0FBSUcsR0FBQSxpR1IyU1YsU0FBc0IwTyxFQUFZL0QsR0FDOUIsSUFBSyxJQUFJM0ssRUFBSSxFQUFHQSxFQUFJME8sRUFBVzdPLE9BQVFHLEdBQUssRUFDcEMwTyxFQUFXMU8sSUFDWDBPLEVBQVcxTyxHQUFHMEksRUFBRWlDLEVBRTVCLDhDUXRUZWdFLEdBQWF2QyxrQkFDYmtDLEdBQWNsQyxpSUFNNkJrQyxFQUFjblAsK2VDVWhFcUMsRUFFTWxDLEVBQUE0TixFQUFBcE0sWUFFTlUsRUFFTWxDLEVBQUE2TixFQUFBck0sZ2RBZE5VLEVBRU1sQyxFQUFBNE4sRUFBQXBNLFlBRU5VLEVBRU1sQyxFQUFBNk4sRUFBQXJNLG1IQVBMLE1BQXFCLFNBQXJCb0csS0FBNEIwSCx3R0FGckNwTixFQW1CTWxDLEVBQUFtTixFQUFBM0wsZ0tBM0JTK04sR0FBaUJ6QyxFQUV0QixNQUFBMEMsRUFBaUJDLElBQ25CdEIsRUFBQSxFQUFBb0IsRUFBb0JFLEVBQU8sK0VBWU4sSUFBQUQsRUFBYyxRQUlkLElBQUFBLEVBQWMsNGtCQ2dCbkN0TixFQUVNbEMsRUFBQTROLEVBQUFwTSxZQUVOVSxFQUVNbEMsRUFBQTZOLEVBQUFyTSxZQUVOVSxFQUVNbEMsRUFBQXVOLEVBQUEvTCxnbUJBdEJOVSxFQUVNbEMsRUFBQTROLEVBQUFwTSxZQUVOVSxFQUVNbEMsRUFBQTZOLEVBQUFyTSxZQUVOVSxFQUVNbEMsRUFBQXVOLEVBQUEvTCx3bkJBdEJOVSxFQUVNbEMsRUFBQTROLEVBQUFwTSxZQUVOVSxFQUVNbEMsRUFBQTZOLEVBQUFyTSxZQUVOVSxFQUVNbEMsRUFBQXVOLEVBQUEvTCx3SkFYTCxPQUFlLEdBQWZvRyxLQUFnQjBILEdBWUksSUFBZjFILEtBQWlCOEgsd0dBZC9CeE4sRUF3Q01sQyxFQUFBbU4sRUFBQTNMLDBKQWhEU21PLEdBQVc3QyxFQUVoQixNQUFBOEMsRUFBY0MsSUFDaEIxQixFQUFBLEVBQUF3QixFQUFjRSxFQUFPLG1FQVlBLElBQUFELEVBQVcsSUFJWCxJQUFBQSxFQUFXLElBSVgsSUFBQUEsRUFBVyxHQVFYLElBQUFBLEVBQVcsSUFJWCxJQUFBQSxFQUFXLEdBSVgsSUFBQUEsRUFBVyx5N3pLQzJUM0JoSSxFQUFlLDBSQWxXMUI3SCxFQUVTd0MsU0FBQTJDLEtBQUE0SyxHQUdYL1AsRUFvUWN3QyxTQUFBMkMsS0FBQTZLLFlBNEVkN04sRUFBNEJsQyxFQUFBNE4sRUFBQXBNLFlBRTVCVSxFQWNNbEMsRUFBQWdRLEVBQUF4TyxHQWJGekIsRUFHTWlRLEVBQUFuQyxVQUVOOU4sRUFNTWlRLEVBQUFDLEdBTEZsUSxFQUVNa1EsRUFBQUMsR0FERm5RLEVBQTZEbVEsRUFBQTNDLGtCQUdqRXhOLEVBQTBCa1EsRUFBQUUsNkJBQXJCdkksRUFBZSxnR0FoRnBCd0ksRUFDQUMsRUFBa0IscUJBQ1hDLEdBQUl4RCxFQUVmekcsR0FBT2tLLFVBQ0hwQyxFQUFBLEVBQUFpQyxFQUFrQnhNLE1BQU00TSxNQUFRLEtBQUlKLEdBRXBDSyxFQUFZSCxFQUFJLElBR2QsTUFBQUcsRUFBZUgsa0NBR0xJLEVBQVlDLFVBQUVBLEdBQWNDLE9BRzlCQyxFQUFTSCxFQUNYLENBQUF4QixLQUFLLElBRVRmLEVBQUEsRUFBQWtDLEVBQWtCLDBEQUNaUSxFQUFPQyxPQUNiM0MsRUFBQSxFQUFBa0MsRUFBa0IsOEJBQ2xCUSxFQUFPRSxXQUFhLEVBQUE1SSxPQUFNNkksY0FDdEJDLE1BQU1ELEdBQ043QyxFQUFBLEVBQUFrQyxFQUFrQlcsRUFBTyxJQUc3QkgsRUFBT0ssYUFBVyxFQUFJQyxZQUNsQmxDLFFBQVFDLElBQUlpQyxPQUlaZixFQUFrQnhNLE1BQU00TSxNQUFjLElBQU5XLEVBQVksSUFBR2YsRUFBQSxJQUtuRFMsRUFBT08sR0FDSCxZQUNBLG9CQUNNVCxFQUFjLElBQUFVLGlCQUFrQmYsRUFBTWdCLHVCQUkxQ1QsRUFBTzdULElBQUksS0FBTSxjQUFlLE1BQU8sb0ZBQXFGLFVBQVcsUUFBUyxPQUFRLElBQUssaUJBRzdKLE1BQUF1VSxFQUFTVixFQUFPTyxHQUFHLFdBQVksaUJBR3JDSSxLQUFLbEUsS0FBT21FLElBQUlDLGdCQUFlLElBQ3ZCQyxLQUFJLENBQUVKLEVBQU9LLFFBQVcsQ0FBQXpKLEtBQU0saUJBRXRDcUosS0FBS0ssU0FBVyxrQkFFWixJQUFBQyxNQUFlQyxTQUNmQyxNQUFjQyxLQUFJLENBQUVWLEVBQU9LLFFBQVMseUJBSXhDRSxFQUFTL1IsT0FBTyxPQUFRaVMsR0FFeEJFLE1BQU0sVUFBWSxDQUFBQyxPQUFRLE9BQVFDLEtBQU1OLHNHQWV4QjFCLEVBQWlCaUMsMElDNVB4QnpLLEVBQUkscUZBQUpBLEVBQUksbVhBb0JqQjFGLEVBQTRFbEMsRUFBQXNTLEVBQUE5USxZQUM1RVUsRUFBK0VsQyxFQUFBdVMsRUFBQS9RLHNCQUQ3RG9HLEVBQVksaUJBQ1pBLEVBQVcsNEtBSDdCMUYsRUFBa0JsQyxFQUFBK08sRUFBQXZOLDBJQUwwQyxJQUFqQm9HLEVBQWlCLHlCQUFqQkEsRUFBaUIsdUZBRVosSUFBWEEsRUFBVyxtQkFBWEEsRUFBVyxpWkFIaEQxRixFQUFvQmxDLEVBQUF3UyxFQUFBaFIsK0JBRXBCVSxFQUE4Q2xDLEVBQUFtUSxFQUFBM08sK0JBRTlDVSxFQUE2RWxDLEVBQUFvTixFQUFBNUwsNkZBSGxDb0csRUFBaUIsb0VBRXZCQSxFQUFXLCtRQWhCbkRBLEVBQVcsSUFBQTZLLEdBQUE3SywyQ0FZTixPQUFBQSxNQUFnQkEsRUFBYyxHQU0xQkEsRUFBVyxHQUFBLEVBRVhBLEVBQWMsR0FBQSxLQVJZLDBIQUhoQyxlQUFRQSxFQUFlLDhQQUovQjFGLEVBQXVEbEMsRUFBQW9OLEVBQUE1TCxZQUV2RFUsRUFpQk1sQyxFQUFBbU4sRUFBQTNMLEdBZkZ6QixFQUFpQ29OLEVBQUE0Qix3QkFDakNoUCxFQUF3RW9OLEVBQUF1Riw2REFMMUM5SyxFQUFNLG9CQUxuQ0EsRUFBVyw4SEFTQUEsRUFBZSxpU0ExRGxCLFNBQUErSyxHQUFjM1UsR0FDbkI0VSxVQUFVQyxhQUFhQyxjQUFlQyxPQUFPLEVBQU1MLE9BQU8sSUFBU2hJLGVBQWNzSSxHQUM3RWhWLEVBQVNnVixFQUNWLElBQUFDLGdCQUFlQyxHQUNkakMsTUFBTSw2REFDTmhDLFFBQVFpRSxNQUFNQSx5REE3Q2xCQyxrQkFKT25FLEdBQWNsQyxFQUVyQnlDLEVBQW9CLE9BQ3BCSSxFQUFjLE1BRWR5RCxFQUNBLElBR0E5QyxFQUhBK0MsR0FBYyxFQUNkQyxHQUFpQixFQUNqQkMsR0FBYyxRQVdaQyxFQUFVQyxJQUNUSixJQUNIbEYsRUFBQSxFQUFBa0YsR0FBYyxHQUVkRCxFQUFTTSxpQkFHVEMsdUJBQ0lQLEVBQVNRLGNBQWNDLEtBRkYsSUFBUEosY0E0QmJJLElBQ0wxRixFQUFBLEVBQUFtRixHQUFpQixHQUNqQm5GLEVBQUEsRUFBQWtGLEdBQWMsR0FDZGxGLEVBQUEsRUFBQWdGLEVBQWFXLElBQUczRixFQUFBLEVBQUdnRixFQUFhWSxVQUFZLEtBQUlaLEdBQUFBLE9BQ2hEQSxFQUFhYSxPQUFRLEVBQUtiLE9BQzFCQSxFQUFhYyxPQUFTLEVBQUNkLE9BQ3ZCQSxFQUFhVyxJQUFNckMsSUFBSUMsZ0JBQWdCMEIsRUFBU2MsV0FBT2YsT0FDdkQ3QyxFQUFPOEMsRUFBU2MsV0FHaEJkLEVBQVNKLE9BQU8xRSxPQUNoQjhFLEVBQVNlLFVBQ1RmLEVBQVcsS0FqQ2ZULGFBQXVCSyxPQUNuQkcsRUFBYWEsT0FBUSxFQUFJYixPQUN6QkEsRUFBYWMsT0FBUyxFQUFDZCxPQUN2QkEsRUFBYVksVUFBWWYsRUFBTUcsSUFFL0JDLEVBQVdnQixVQUFVcEIsRUFDakIsQ0FBQTdLLEtBQU0sV0FHRDZLLE9BQVNBLHlGQTdCVixLQUNSN0UsRUFBQSxHQUFBYSxHQUFpQixFQUFLLElBdURULEtBQ2JiLEVBQUEsRUFBQW1GLEdBQWlCLEdBQ2pCbkYsRUFBQSxFQUFBa0YsR0FBYyxHQUVkVixhQUF1QkssT0FDbkJHLEVBQWFhLE9BQVEsRUFBSWIsT0FDekJBLEVBQWFjLE9BQVMsRUFBQ2QsT0FDdkJBLEVBQWFZLFVBQVlmLEVBQU1HLElBRS9CQyxFQUFXZ0IsVUFBVXBCLEVBQ2pCLENBQUE3SyxLQUFNLFdBR0Q2SyxPQUFTQSxNQUtSLEtBQ2Q3RSxFQUFBLEVBQUFvRixHQUFjLEVBQUksNENBZ0JKSixFQUFZZCx5QkFJaUI5QyxFQUFpQjFQLHNCQUV2QjhQLEVBQVc5UCxVQUN4QixJQUFBMlQsRUFBTywySkNwRVMsSUFBZDVMLEVBQWMsc0JBQWRBLEVBQWMsZ0tBQWRBLEVBQWMsZ0pBUDFDQSxFQUFpQixJQUFBOEgsR0FBQTlILGlGQUs0QixJQUFiQSxFQUFhLHFCQUFiQSxFQUFhLFNBQXFDLElBQWRBLEVBQWMsc0JBQWRBLEVBQWMsME9BTGxGQSxFQUFpQixzSkFLZUEsRUFBYSxrREFBdUJBLEVBQWMscVBBSjlEcUcsd0JBQWtELElBQWpCckcsRUFBaUIseUJBQWpCQSxFQUFpQixzS0FBakJBLEVBQWlCLG9MQUh0RUEsRUFBYyxLQUFBLDRDYitTVG5GLEVBQUssNFBhNVVULE1BQUF3TCxHQUFVLHlCQUdaLElBQUFvQixHQUFpQixNQUFPLE1BQU8sTUFBTyxPQUt0Q25CLEdBQW9CLEVBRXBCYyxHQUFpQixTQU1yQjNJLEdBQU9rSyxVQUNObEIsRUFBYzlSLFNBQVE4Vyw4QkFlbUNuRyxFQUFpQnJPLHNCQUl0Q3dQLEVBQWF4UCxzQkFBdUJtUCxFQUFjblAsc0JBRXREbVAsRUFBY25QLGtCQzlDcEMsb0VBQVEsQ0FDbkJHLE9BQVF1QyxTQUFTNlAifQ==
