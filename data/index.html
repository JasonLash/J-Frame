<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>FRAME</title><meta name=description content="Frame App"><meta name=theme-color content=#2F3BA2><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=apple-mobile-web-app-title content="Svelte PWA"><style>* {padding: 0;margin: 0;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;font-family: '-apple-system', 'Roboto', sans-serif;}html, body {max-width: 100%;overflow: hidden;background: #323232;}body {font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;}h3{color: #fff;text-align: center;}h2{color: #fff;text-align: center;}button{animation : none;animation-delay : 0;animation-direction : normal;animation-duration : 0;animation-fill-mode : none;animation-iteration-count : 1;animation-name : none;animation-play-state : running;animation-timing-function : ease;backface-visibility : visible;background : 0;background-attachment : scroll;background-clip : border-box;background-color : transparent;background-image : none;background-origin : padding-box;background-position : 0 0;background-position-x : 0;background-position-y : 0;background-repeat : repeat;background-size : auto auto;border : 0;border-style : none;border-width : medium;border-color : inherit;border-bottom : 0;border-bottom-color : inherit;border-bottom-left-radius : 0;border-bottom-right-radius : 0;border-bottom-style : none;border-bottom-width : medium;border-collapse : separate;border-image : none;border-left : 0;border-left-color : inherit;border-left-style : none;border-left-width : medium;border-radius : 0;border-right : 0;border-right-color : inherit;border-right-style : none;border-right-width : medium;border-spacing : 0;border-top : 0;border-top-color : inherit;border-top-left-radius : 0;border-top-right-radius : 0;border-top-style : none;border-top-width : medium;bottom : auto;box-shadow : none;box-sizing : content-box;caption-side : top;clear : none;clip : auto;color : inherit;columns : auto;column-count : auto;column-fill : balance;column-gap : normal;column-rule : medium none currentColor;column-rule-color : currentColor;column-rule-style : none;column-rule-width : none;column-span : 1;column-width : auto;content : normal;counter-increment : none;counter-reset : none;cursor : auto;direction : ltr;display : inline;empty-cells : show;float : none;font : normal;font-family : inherit;font-size : medium;font-style : normal;font-variant : normal;font-weight : normal;height : auto;hyphens : none;left : auto;letter-spacing : normal;line-height : normal;list-style : none;list-style-image : none;list-style-position : outside;list-style-type : disc;margin : 0;margin-bottom : 0;margin-left : 0;margin-right : 0;margin-top : 0;max-height : none;max-width : none;min-height : 0;min-width : 0;opacity : 1;orphans : 0;outline : 0;outline-color : invert;outline-style : none;outline-width : medium;overflow : visible;overflow-x : visible;overflow-y : visible;padding : 0;padding-bottom : 0;padding-left : 0;padding-right : 0;padding-top : 0;page-break-after : auto;page-break-before : auto;page-break-inside : auto;perspective : none;perspective-origin : 50% 50%;position : static;quotes : '\201C' '\201D' '\2018' '\2019';right : auto;tab-size : 8;table-layout : auto;text-align : inherit;text-align-last : auto;text-decoration : none;text-decoration-color : inherit;text-decoration-line : none;text-decoration-style : solid;text-indent : 0;text-shadow : none;text-transform : none;top : auto;transform : none;transform-style : flat;transition : none;transition-delay : 0s;transition-duration : 0s;transition-property : none;transition-timing-function : ease;unicode-bidi : normal;vertical-align : baseline;visibility : visible;white-space : normal;widows : 0;width : auto;word-spacing : normal;z-index : auto;}button{background: #939393;color: #FFFFFF;border: 4px solid #3C3C3C;border-radius: 12px;width: 90%;text-align: center;padding: .4em 0em;font-size: 1.1em;font-weight: 550;margin: auto;}</style><style>.bg.svelte-1ebz6b2{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:50%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-1ebz6b2{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-1ebz6b2{text-align:center;color:#fff;padding-top:0.5em}button.svelte-1ebz6b2{margin:1em auto}h1.svelte-1u93ogr{text-align:center;color:#fff;padding-top:1rem}.center.svelte-1u93ogr{padding-top:1em;display:flex;justify-content:center}.bg.svelte-ojdnk7{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-ojdnk7{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-ojdnk7{text-align:center;color:#fff;padding-top:0.5em;margin:0.5em 0}button.svelte-ojdnk7{margin:1em auto}.bar.svelte-lhoyl2{display:flex;justify-content:center;flex-direction:column;width:100%}.loadingBG.svelte-lhoyl2{width:90%;background:#757575;margin:1rem auto;border-radius:5px}.loadingMain.svelte-lhoyl2{height:30px;background:#E9CA5D;border-radius:5px}.bg.svelte-lhoyl2{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:10%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-lhoyl2{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-lhoyl2{text-align:center;color:#fff;padding-top:0.5em}button.svelte-lhoyl2{margin:0.75em auto}.uploadBTN.svelte-lhoyl2{background:#E9CA5D;color:#222222}.frameCollection.svelte-p5k6wu{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around}.bottomBtns.svelte-k9nozb{margin-top:1rem;display:flex;flex-direction:row;justify-content:space-between}.vidHolder.svelte-k9nozb{margin:auto;display:flex;justify-content:center}.recordCenter.svelte-k9nozb{background:#fff;width:4.5rem;min-height:4.5rem;border-radius:100%}.recordBtn.svelte-k9nozb{position:absolute;z-index:4;margin-top:23rem;width:5rem;height:4rem;border:3px solid #ffffff;background:none;border-radius:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.flipBtn.svelte-k9nozb{position:absolute;z-index:4;margin-top:24rem;margin-left:15rem;width:3.5rem;height:2.5rem;background:#242424a4;border:0px;border-radius:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.redBtn.svelte-k9nozb{background:#939393;width:40%}.saveBtn.svelte-k9nozb{background:#E9CA5D;width:40%}.center.svelte-k9nozb{display:flex;flex-direction:column;justify-content:center}h3.svelte-k9nozb{margin:0.25em auto}.backBtn.svelte-k9nozb{margin-top:1rem;margin-left:1rem;width:30%}h3.svelte-k9nozb{color:#fff;text-align:center}.videoMask.svelte-k9nozb{border-radius:10px}video.svelte-k9nozb{width:22rem;height:29rem;margin:auto;background:#242424;border-radius:15px}.outline.svelte-1p158fv{background:#5D6AE8;border-radius:14px;width:6.5em;height:8.5em;display:flex;justify-content:center}.big.svelte-1p158fv{margin:auto;background:#BEBEBE;border:10px solid #000000;border-radius:14px;width:6em;height:8em}.small.svelte-1p158fv{border:7px solid #000000;border-radius:9px;width:4em;height:5em;margin:0 auto;margin-top:0.5em}.frameObject.svelte-1p158fv{margin:1em auto}h3.svelte-1p158fv{text-align:center;color:#bbbbbb;letter-spacing:.05rem;margin-top:0.3em}.big.svelte-1jpy78m{border:17px solid #000000;border-radius:28px;width:12em;height:16em}.small.svelte-1jpy78m{border:13px solid #000000;border-radius:15px;width:8em;height:10em;margin:0 auto;margin-top:1em}.center.svelte-1jpy78m{display:flex;justify-content:center;padding-top:1em
    }.topAndBottom.svelte-8jmvgp{margin:1rem auto;display:flex;justify-content:center;flex-direction:column;width:90%}h4.svelte-8jmvgp{color:#C7C7C7;text-align:center;margin:0.35rem auto}.bg.svelte-8jmvgp{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:10%;display:flex;flex-direction:column;justify-content:space-between;z-index:6}.blackout.svelte-8jmvgp{z-index:5;position:absolute;background:#000000aa;width:100vw;height:100vh}</style></head><body><script>var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function s(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,n,o){t.$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const a="undefined"!=typeof window;let i=a?()=>window.performance.now():()=>Date.now(),u=a?e=>requestAnimationFrame(e):e;const d=new Set;function f(e){d.forEach((t=>{t.c(e)||(d.delete(t),t.f())})),0!==d.size&&u(f)}let h=!1;function p(e,t,n,o){for(;e<t;){const s=e+(t-e>>1);n(s)<=o?e=s+1:t=s}return e}function m(e,t){h?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),o=new Int32Array(t.length);n[0]=-1;let s=0;for(let e=0;e<t.length;e++){const l=p(1,s+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;o[e]=n[l]+1;const r=l+1;n[r]=e,s=Math.max(r,s)}const l=[],r=[];let c=t.length-1;for(let e=n[s]+1;0!=e;e=o[e-1]){for(l.push(t[e-1]);c>=e;c--)r.push(t[c]);c--}for(;c>=0;c--)r.push(t[c]);l.reverse(),r.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<r.length;t++){for(;n<l.length&&r[t].claim_order>=l[n].claim_order;)n++;const o=n<l.length?l[n]:null;e.insertBefore(r[t],o)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function v(e,t,n){h&&!n?m(e,t):t.parentNode===e&&t.nextSibling==n||e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function $(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function y(){return w(" ")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function k(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}const x=new Set;let R,S=0;function D(e,t,n,o,s,l,r,c=0){const a=16.666/o;let i="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*l(e);i+=100*e+`%{${r(o,1-o)}}\n`}const u=i+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=e.ownerDocument;x.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild($("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${s}ms 1 both`,S+=1,d}function E(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-o.length;s&&(e.style.animation=o.join(", "),S-=s,S||u((()=>{S||(x.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),x.clear())})))}function P(e){R=e}function j(e){(function(){if(!R)throw new Error("Function called outside component initialization");return R})().$.on_mount.push(e)}const B=[],L=[],T=[],U=[],M=Promise.resolve();let z=!1;function A(e){T.push(e)}function O(e){U.push(e)}let N=!1;const I=new Set;function H(){if(!N){N=!0;do{for(let e=0;e<B.length;e+=1){const t=B[e];P(t),q(t.$)}for(P(null),B.length=0;L.length;)L.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];I.has(t)||(I.add(t),t())}T.length=0}while(B.length);for(;U.length;)U.pop()();z=!1,N=!1,I.clear()}}function q(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}let V;function G(e,t,n){e.dispatchEvent(function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(`${t?"intro":"outro"}${n}`))}const Z=new Set;let W;function X(){W={r:0,c:[],p:W}}function J(){W.r||s(W.c),W=W.p}function K(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function Q(e,t,n,o){if(e&&e.o){if(Z.has(e))return;Z.add(e),W.c.push((()=>{Z.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const Y={duration:0};function ee(n,o,r,c){let a=o(n,r),h=c?0:1,p=null,m=null,v=null;function g(){v&&E(n,v)}function $(e,t){const n=e.b-h;return t*=Math.abs(n),{a:h,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(o){const{delay:l=0,duration:r=300,easing:c=t,tick:b=e,css:w}=a||Y,y={start:i()+l,b:o};o||(y.group=W,W.r+=1),p||m?m=y:(w&&(g(),v=D(n,h,o,r,l,c,w)),o&&b(0,1),p=$(y,r),A((()=>G(n,o,"start"))),function(e){let t;0===d.size&&u(f),new Promise((n=>{d.add(t={c:e,f:n})}))}((e=>{if(m&&e>m.start&&(p=$(m,r),m=null,G(n,p.b,"start"),w&&(g(),v=D(n,h,p.b,p.duration,0,c,a.css))),p)if(e>=p.end)b(h=p.b,1-h),G(n,p.b,"end"),m||(p.b?g():--p.group.r||s(p.group.c)),p=null;else if(e>=p.start){const t=e-p.start;h=p.a+p.d*c(t/p.duration),b(h,1-h)}return!(!p&&!m)})))}return{run(e){l(a)?(V||(V=Promise.resolve(),V.then((()=>{V=null}))),V).then((()=>{a=a(),b(e)})):b(e)},end(){g(),p=m=null}}}function te(e,t,n){const o=e.$.props[t];void 0!==o&&(e.$.bound[o]=n,n(e.$.ctx[o]))}function ne(e){e&&e.c()}function oe(e,t,o,r){const{fragment:c,on_mount:a,on_destroy:i,after_update:u}=e.$;c&&c.m(t,o),r||A((()=>{const t=a.map(n).filter(l);i?i.push(...t):s(t),e.$.on_mount=[]})),u.forEach(A)}function se(e,t){const n=e.$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){-1===e.$.dirty[0]&&(B.push(e),z||(z=!0,M.then(H)),e.$.dirty.fill(0)),e.$.dirty[t/31|0]|=1<<t%31}function re(t,n,l,r,c,a,i=[-1]){const u=R;P(t);const d=t.$={fragment:null,ctx:null,props:a,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$.context:n.context||[]),callbacks:o(),dirty:i,skip_bound:!1};let f=!1;if(d.ctx=l?l(t,n.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&c(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),f&&le(t,e)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){h=!0;const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&K(t.$.fragment),oe(t,n.target,n.anchor,n.customElement),h=!1,H()}P(u)}class ce{$destroy(){se(this,1),this.$destroy=e}$on(e,t){const n=this.$.callbacks[e]||(this.$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$set&&(t=e,0!==Object.keys(t).length)&&(this.$.skip_bound=!0,this.$set(e),this.$.skip_bound=!1)}}function ae(t){let n,o,s,l,r,c;return{c(){n=$("h1"),n.textContent="Frames",o=y(),s=$("div"),l=$("button"),l.textContent="Refresh",k(n,"class","svelte-1u93ogr"),k(s,"class","center svelte-1u93ogr")},m(e,a){v(e,n,a),v(e,o,a),v(e,s,a),m(s,l),r||(c=C(l,"click",t[0]),r=!0)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),r=!1,c()}}}function ie(e){return[()=>{window.location.href="/"}]}class ue extends ce{constructor(e){super(),re(this,e,ie,ae,r,{})}}function de(t){let n,o,s;return{c(){n=$("div"),o=$("div"),s=$("div"),k(s,"class","small svelte-1jpy78m"),k(o,"class","big svelte-1jpy78m"),F(o,"background",t[0]),k(n,"class","center svelte-1jpy78m")},m(e,t){v(e,n,t),m(n,o),m(o,s)},p(e,[t]){1&t&&F(o,"background",e[0])},i:e,o:e,d(e){e&&g(n)}}}function fe(e,t,n){let{bgColor:o}=t;return e.$set=e=>{"bgColor"in e&&n(0,o=e.bgColor)},[o]}class he extends ce{constructor(e){super(),re(this,e,fe,de,r,{bgColor:0})}}function pe(e,{delay:n=0,duration:o=400,easing:s=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:s,css:e=>"opacity: "+e*l}}const me=[];function ve(t,n=e){let o;const s=[];function l(e){if(r(t,e)&&(t=e,o)){const e=!me.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),me.push(n,t)}if(e){for(let e=0;e<me.length;e+=2)me[e][0](me[e+1]);me.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,c=e){const a=[r,c];return s.push(a),1===s.length&&(o=n(l)||e),r(t),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1),0===s.length&&(o(),o=null)}}}}const ge=ve("001"),$e=ve(void 0);function be(e){let t,n,o,s,l,r,c,a,i,u,d,f,h,p,b,x;return r=new he({props:{bgColor:"#BEBEBE"}}),{c(){t=$("div"),n=y(),o=$("div"),s=$("h2"),s.textContent="New Frame Detected!",l=y(),ne(r.$.fragment),c=y(),a=$("h2"),i=w("#"),u=w(e[0]),d=y(),f=$("button"),f.textContent="Close",k(t,"class","blackout svelte-1ebz6b2"),k(s,"class","svelte-1ebz6b2"),F(a,"color","#BABABA"),k(a,"class","svelte-1ebz6b2"),k(f,"class","svelte-1ebz6b2"),k(o,"class","bg svelte-1ebz6b2")},m(h,g){v(h,t,g),v(h,n,g),v(h,o,g),m(o,s),m(o,l),oe(r,o,null),m(o,c),m(o,a),m(a,i),m(a,u),m(o,d),m(o,f),p=!0,b||(x=C(f,"click",e[1]),b=!0)},p(e,[t]){(!p||1&t)&&_(u,e[0])},i(e){p||(K(r.$.fragment,e),A((()=>{h||(h=ee(o,pe,{duration:200},!0)),h.run(1)})),p=!0)},o(e){Q(r.$.fragment,e),h||(h=ee(o,pe,{duration:200},!1)),h.run(0),p=!1},d(e){e&&g(t),e&&g(n),e&&g(o),se(r),e&&h&&h.end(),b=!1,x()}}}function we(e,t,n){let o;c(e,$e,(e=>n(0,o=e)));let{showFrameDetected:s}=t;return e.$set=e=>{"showFrameDetected"in e&&n(2,s=e.showFrameDetected)},[o,()=>{n(2,s=!1)},s]}class ye extends ce{constructor(e){super(),re(this,e,we,be,r,{showFrameDetected:2})}}function Ce(t){let n,o,s,l,r,c,a,i,u,d;return{c(){n=$("div"),o=y(),s=$("div"),l=$("h2"),l.textContent="Successfully Saved Video!",r=y(),c=$("button"),c.textContent="Close",k(n,"class","blackout svelte-ojdnk7"),k(l,"class","svelte-ojdnk7"),k(c,"class","svelte-ojdnk7"),k(s,"class","bg svelte-ojdnk7")},m(e,a){v(e,n,a),v(e,o,a),v(e,s,a),m(s,l),m(s,r),m(s,c),i=!0,u||(d=C(c,"click",t[0]),u=!0)},p:e,i(e){i||(A((()=>{a||(a=ee(s,pe,{duration:200},!0)),a.run(1)})),i=!0)},o(e){a||(a=ee(s,pe,{duration:200},!1)),a.run(0),i=!1},d(e){e&&g(n),e&&g(o),e&&g(s),e&&a&&a.end(),u=!1,d()}}}function ke(e,t,n){let{showFrameSaved:o}=t;return e.$set=e=>{"showFrameSaved"in e&&n(1,o=e.showFrameSaved)},[()=>{n(1,o=!1)},o]}class _e extends ce{constructor(e){super(),re(this,e,ke,Ce,r,{showFrameSaved:1})}}function Fe(e){let t;return{c(){t=$("div"),t.innerHTML='<div class="small svelte-1p158fv"></div>',k(t,"class","big svelte-1p158fv")},m(e,n){v(e,t,n)},d(e){e&&g(t)}}}function xe(e){let t;return{c(){t=$("div"),t.innerHTML='<div class="small svelte-1p158fv"></div>',k(t,"class","big svelte-1p158fv"),F(t,"background","#E9CA5D")},m(e,n){v(e,t,n)},d(e){e&&g(t)}}}function Re(e){let t;return{c(){t=$("div"),t.innerHTML='<div class="big svelte-1p158fv" style="background: #E9CA5D;"><div class="small svelte-1p158fv"></div></div>',k(t,"class","outline svelte-1p158fv")},m(e,n){v(e,t,n)},d(e){e&&g(t)}}}function Se(e){let t;return{c(){t=$("div"),t.innerHTML='<div class="big svelte-1p158fv"><div class="small svelte-1p158fv"></div></div>',k(t,"class","outline svelte-1p158fv")},m(e,n){v(e,t,n)},d(e){e&&g(t)}}}function De(t){let n,o,s,l,r,c,a,i=t[0].id+"";function u(e,t){return e[0].id==e[1]&&null==e[0].videoFile?Se:e[0].id==e[1]&&null!=e[0].videoFile?Re:null!=e[0].videoFile?xe:Fe}let d=u(t),f=d(t);return{c(){n=$("div"),f.c(),o=y(),s=$("h3"),l=w("#"),r=w(i),k(s,"class","svelte-1p158fv"),k(n,"class","frameObject svelte-1p158fv")},m(e,i){v(e,n,i),f.m(n,null),m(n,o),m(n,s),m(s,l),m(s,r),c||(a=C(n,"click",t[2]),c=!0)},p(e,[t]){d!==(d=u(e))&&(f.d(1),f=d(e),f&&(f.c(),f.m(n,o))),1&t&&i!==(i=e[0].id+"")&&_(r,i)},i:e,o:e,d(e){e&&g(n),f.d(),c=!1,a()}}}function Ee(e,t,n){let o;c(e,$e,(e=>n(1,o=e)));let{frameData:s}=t,{showRecordPage:l}=t;return e.$set=e=>{"frameData"in e&&n(0,s=e.frameData),"showRecordPage"in e&&n(3,l=e.showRecordPage)},[s,o,()=>{ge.set(s.id),n(3,l=!0),console.log(s)},l]}class Pe extends ce{constructor(e){super(),re(this,e,Ee,De,r,{frameData:0,showRecordPage:3})}}function je(e,t,n){const o=e.slice();return o[3]=t[n],o}function Be(e){let t,n,o;function s(t){e[2](t)}let l={frameData:e[3]};return void 0!==e[0]&&(l.showRecordPage=e[0]),t=new Pe({props:l}),L.push((()=>te(t,"showRecordPage",s))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),o=!0},p(e,o){const s={};2&o&&(s.frameData=e[3]),!n&&1&o&&(n=!0,s.showRecordPage=e[0],O((()=>n=!1))),t.$set(s)},i(e){o||(K(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){se(t,e)}}}function Le(e){let t,n,o=e[1],s=[];for(let t=0;t<o.length;t+=1)s[t]=Be(je(e,o,t));const l=e=>Q(s[e],1,1,(()=>{s[e]=null}));return{c(){t=$("div");for(let e=0;e<s.length;e+=1)s[e].c();k(t,"class","frameCollection svelte-p5k6wu")},m(e,o){v(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){if(3&n){let r;for(o=e[1],r=0;r<o.length;r+=1){const l=je(e,o,r);s[r]?(s[r].p(l,n),K(s[r],1)):(s[r]=Be(l),s[r].c(),K(s[r],1),s[r].m(t,null))}for(X(),r=o.length;r<s.length;r+=1)l(r);J()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)K(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Q(s[e]);n=!1},d(e){e&&g(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(s,e)}}}function Te(e,t,n){let{FramesData:o}=t,{showRecordPage:s}=t;return e.$set=e=>{"FramesData"in e&&n(1,o=e.FramesData),"showRecordPage"in e&&n(0,s=e.showRecordPage)},[s,o,function(e){s=e,n(0,s)}]}class Ue extends ce{constructor(e){super(),re(this,e,Te,Le,r,{FramesData:1,showRecordPage:0})}}function Me(t){let n,o,s,l,r,c,a,i,u;return{c(){n=$("div"),o=y(),s=$("div"),l=$("div"),r=$("h2"),r.textContent="Saving Video",c=y(),a=$("h4"),a.textContent="This might take a bit",i=y(),u=$("video"),k(n,"class","blackout svelte-8jmvgp"),k(a,"class","svelte-8jmvgp"),k(l,"class","topAndBottom svelte-8jmvgp"),k(s,"class","bg svelte-8jmvgp")},m(e,d){v(e,n,d),v(e,o,d),v(e,s,d),m(s,l),m(l,r),m(l,c),m(l,a),m(l,i),m(l,u),t[5](u)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),t[5](null)}}}function ze(e,t,n){let o;c(e,ge,(e=>n(7,o=e)));let s,{blob:l}=t,{db:r}=t,{showFrameSaved:a}=t,{showRecordPage:i}=t;j((async()=>{u(l)}));const u=e=>{let t,l=URL.createObjectURL(e),c=document.createElement("canvas"),u=c.getContext("2d"),d=0;c.width=240,c.height=320,n(0,s.src=l,s),n(0,s.autoplay=!0,s),n(0,s.playsInline=!0,s),n(0,s.muted=!0,s),n(0,s.controls=!1,s),s.load();let f=[],h=0;s.addEventListener("seeked",(e=>{d>t?(e=>{let t=new Blob(e,{type:"video/mjpeg"});URL.createObjectURL(t);const s=r.transaction(["frames"],"readwrite").objectStore("frames"),l=s.get(o);l.onerror=e=>{console.log("Error uploading video to indexedDB")},l.onsuccess=e=>{const o=e.target.result;o.videoFile=t;const l=s.put(o);l.onerror=e=>{n(1,a=!1),n(2,i=!1),alert("error saving video"),console.log("Data ERROR while loged")},l.onsuccess=e=>{n(1,a=!0),n(2,i=!1),console.log("Data loged")}}})(f):setTimeout((()=>{n(0,s.currentTime=d,s),h%3==0&&(u.drawImage(s,0,0,240,320),c.toBlob((function(e){f.push(e)}),"image/jpeg",.5)),h++,console.log(d),d+=.03333333333333333}),"100")})),s.addEventListener("loadeddata",(function(){t=s.duration,console.log(t),n(0,s.currentTime=d,s)})),s.addEventListener("durationchange",(function(){t=s.duration}))};return e.$set=e=>{"blob"in e&&n(3,l=e.blob),"db"in e&&n(4,r=e.db),"showFrameSaved"in e&&n(1,a=e.showFrameSaved),"showRecordPage"in e&&n(2,i=e.showRecordPage)},[s,a,i,l,r,function(e){L[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Ae extends ce{constructor(e){super(),re(this,e,ze,Me,r,{blob:3,db:4,showFrameSaved:1,showRecordPage:2})}}function Oe(t){let n,o,s,l,r,c,a;return{c(){n=b("svg"),o=b("path"),s=b("path"),l=b("path"),r=b("path"),c=b("path"),a=b("path"),k(o,"d","M5.43301 19.25C5.24056 19.5833 4.75944 19.5833 4.56699 19.25L1.10289 13.25C0.910436 12.9167 1.151 12.5 1.5359 12.5L8.4641 12.5C8.849 12.5 9.08956 12.9167 8.89711 13.25L5.43301 19.25Z"),k(o,"fill","white"),k(s,"d","M30.567 10.75C30.7594 10.4167 31.2406 10.4167 31.433 10.75L34.8971 16.75C35.0896 17.0833 34.849 17.5 34.4641 17.5H27.5359C27.151 17.5 26.9104 17.0833 27.1029 16.75L30.567 10.75Z"),k(s,"fill","white"),k(l,"d","M7 23C7 23 7.86602 23.9803 9 25C10.3697 26.2317 11.2928 26.808 13 27.5C14.8454 28.248 16.0087 28.5 18 28.5C19.9913 28.5 21.1487 28.2335 23 27.5C24.4636 26.9201 25.2717 26.4847 26.5 25.5C27.3618 24.8091 27.8186 24.3694 28.5 23.5C29.2024 22.6039 29.4973 22.0216 30 21C30.8179 19.3379 31.5 16.5 31.5 16.5"),k(l,"stroke","white"),k(l,"stroke-width","2"),k(l,"stroke-linecap","round"),k(r,"d","M7 23C7 23 7.86602 23.9803 9 25C10.3697 26.2317 11.2928 26.808 13 27.5C14.8454 28.248 16.0087 28.5 18 28.5C19.9913 28.5 21.1487 28.2335 23 27.5C24.4636 26.9201 25.2717 26.4847 26.5 25.5C27.3618 24.8091 27.8186 24.3694 28.5 23.5C29.2024 22.6039 29.4973 22.0216 30 21C30.8179 19.3379 31.5 16.5 31.5 16.5"),k(r,"stroke","white"),k(r,"stroke-width","2"),k(r,"stroke-linecap","round"),k(c,"d","M29 7.5C29 7.5 28.1999 5.97438 27.0659 4.95465C25.6962 3.72292 24.7731 3.14665 23.0659 2.45465C21.2205 1.70661 20.0572 1.45465 18.0659 1.45465C16.0746 1.45465 14.9172 1.72113 13.0659 2.45465C11.6024 3.03455 10.7942 3.46998 9.56592 4.45465C8.70409 5.14554 8.24731 5.58529 7.56592 6.45465C6.86356 7.35076 6.5686 7.93307 6.06592 8.95465C5.24806 10.6167 4.56592 13.4547 4.56592 13.4547"),k(c,"stroke","white"),k(c,"stroke-width","2"),k(c,"stroke-linecap","round"),k(a,"d","M29 7.5C29 7.5 28.1999 5.97438 27.0659 4.95465C25.6962 3.72292 24.7731 3.14665 23.0659 2.45465C21.2205 1.70661 20.0572 1.45465 18.0659 1.45465C16.0746 1.45465 14.9172 1.72113 13.0659 2.45465C11.6024 3.03455 10.7942 3.46998 9.56592 4.45465C8.70409 5.14554 8.24731 5.58529 7.56592 6.45465C6.86356 7.35076 6.5686 7.93307 6.06592 8.95465C5.24806 10.6167 4.56592 13.4547 4.56592 13.4547"),k(a,"stroke","white"),k(a,"stroke-width","2"),k(a,"stroke-linecap","round"),k(n,"width","36"),k(n,"height","30"),k(n,"viewBox","0 0 36 30"),k(n,"fill","none"),k(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){v(e,n,t),m(n,o),m(n,s),m(n,l),m(n,r),m(n,c),m(n,a)},p:e,i:e,o:e,d(e){e&&g(n)}}}class Ne extends ce{constructor(e){super(),re(this,e,null,Oe,r,{})}}function Ie(e){let t,n,o,s,l;function r(t){e[16](t)}function c(t){e[17](t)}function a(t){e[18](t)}let i={blob:e[7]};return void 0!==e[1]&&(i.db=e[1]),void 0!==e[2]&&(i.showFrameSaved=e[2]),void 0!==e[0]&&(i.showRecordPage=e[0]),t=new Ae({props:i}),L.push((()=>te(t,"db",r))),L.push((()=>te(t,"showFrameSaved",c))),L.push((()=>te(t,"showRecordPage",a))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),l=!0},p(e,l){const r={};128&l&&(r.blob=e[7]),!n&&2&l&&(n=!0,r.db=e[1],O((()=>n=!1))),!o&&4&l&&(o=!0,r.showFrameSaved=e[2],O((()=>o=!1))),!s&&1&l&&(s=!0,r.showRecordPage=e[0],O((()=>s=!1))),t.$set(r)},i(e){l||(K(t.$.fragment,e),l=!0)},o(e){Q(t.$.fragment,e),l=!1},d(e){se(t,e)}}}function He(t){let n,o,l;return{c(){n=$("button"),n.innerHTML='<div class="recordCenter svelte-k9nozb"></div>',k(n,"class","recordBtn svelte-k9nozb")},m(e,s){v(e,n,s),o||(l=[C(n,"mousedown",t[12]),C(n,"mouseup",t[13]),C(n,"touchstart",t[12],{passive:!0}),C(n,"touchend",t[13],{passive:!0}),C(n,"touchcancel",t[13],{passive:!0})],o=!0)},p:e,d(e){e&&g(n),o=!1,s(l)}}}function qe(t){let n,o,s,l,r;return o=new Ne({}),{c(){n=$("button"),ne(o.$.fragment),k(n,"class","flipBtn svelte-k9nozb")},m(e,c){v(e,n,c),oe(o,n,null),s=!0,l||(r=C(n,"click",t[14]),l=!0)},p:e,i(e){s||(K(o.$.fragment,e),s=!0)},o(e){Q(o.$.fragment,e),s=!1},d(e){e&&g(n),se(o),l=!1,r()}}}function Ve(t){let n,o,l,r,c,a;return{c(){n=$("div"),o=$("button"),o.innerHTML='<h3 class="svelte-k9nozb">Retake</h3>',l=y(),r=$("button"),r.innerHTML='<h3 style="color: #484848;" class="svelte-k9nozb">Save</h3>',k(o,"class","redBtn svelte-k9nozb"),k(r,"class","saveBtn svelte-k9nozb"),k(n,"class","bottomBtns svelte-k9nozb")},m(e,s){v(e,n,s),m(n,o),m(n,l),m(n,r),c||(a=[C(o,"click",t[9]),C(r,"click",t[10])],c=!0)},p:e,d(e){e&&g(n),c=!1,s(a)}}}function Ge(e){let t,n,o,s,l,r,c,a,i,u,d,f,h,p,b,F,x,R=e[6]&&Ie(e),S=!e[5]&&He(e),D=!e[4]&&!e[5]&&qe(e),E=e[5]&&Ve(e);return{c(){R&&R.c(),t=y(),n=$("button"),n.textContent="Back",o=y(),s=$("div"),l=$("h3"),r=w("Frame #"),c=w(e[8]),a=y(),i=$("div"),S&&S.c(),u=y(),D&&D.c(),d=y(),f=$("div"),h=$("video"),p=y(),E&&E.c(),k(n,"class","backBtn svelte-k9nozb"),k(l,"class","svelte-k9nozb"),h.muted=!0,h.autoplay=!0,h.playsInline=!0,h.loop=!0,k(h,"class","svelte-k9nozb"),k(f,"class","videoMask svelte-k9nozb"),k(i,"class","vidHolder svelte-k9nozb"),k(s,"class","center svelte-k9nozb")},m(g,$){R&&R.m(g,$),v(g,t,$),v(g,n,$),v(g,o,$),v(g,s,$),m(s,l),m(l,r),m(l,c),m(s,a),m(s,i),S&&S.m(i,null),m(i,u),D&&D.m(i,null),m(i,d),m(i,f),m(f,h),e[19](h),m(s,p),E&&E.m(s,null),b=!0,F||(x=C(n,"click",e[11]),F=!0)},p(e,[n]){e[6]?R?(R.p(e,n),64&n&&K(R,1)):(R=Ie(e),R.c(),K(R,1),R.m(t.parentNode,t)):R&&(X(),Q(R,1,1,(()=>{R=null})),J()),(!b||256&n)&&_(c,e[8]),e[5]?S&&(S.d(1),S=null):S?S.p(e,n):(S=He(e),S.c(),S.m(i,u)),e[4]||e[5]?D&&(X(),Q(D,1,1,(()=>{D=null})),J()):D?(D.p(e,n),48&n&&K(D,1)):(D=qe(e),D.c(),K(D,1),D.m(i,d)),e[5]?E?E.p(e,n):(E=Ve(e),E.c(),E.m(s,null)):E&&(E.d(1),E=null)},i(e){b||(K(R),K(D),b=!0)},o(e){Q(R),Q(D),b=!1},d(l){R&&R.d(l),l&&g(t),l&&g(n),l&&g(o),l&&g(s),S&&S.d(),D&&D.d(),e[19](null),E&&E.d(),F=!1,x()}}}function Ze(e,t,n){let o;c(e,ge,(e=>n(8,o=e)));let s,l,{showRecordPage:r}=t,{db:a}=t,{showFrameSaved:i}=t,u=!0,d=!1,f=!1,h=!1;j((async()=>{g().then((e=>{})).catch((function(e){alert("Unable to capture your camera. Please check console logs."),console.error(e)}))}));let p=null,m=null,v=[];async function g(){p=1==u?await navigator.mediaDevices.getUserMedia({audio:!0,video:{width:320,height:240}}):await navigator.mediaDevices.getUserMedia({audio:!0,video:{width:320,height:240,facingMode:{exact:"environment"}}}),m=new MediaRecorder(p),n(3,s.muted=!0,s),n(3,s.volume=0,s),n(3,s.srcObject=p,s)}return e.$set=e=>{"showRecordPage"in e&&n(0,r=e.showRecordPage),"db"in e&&n(1,a=e.db),"showFrameSaved"in e&&n(2,i=e.showFrameSaved)},e.$.update=()=>{32768&e.$.dirty&&(1!=u&&0!=u||g())},[r,a,i,s,d,f,h,l,o,()=>{n(5,f=!1),n(4,d=!1),g()},()=>{n(6,h=!0)},()=>{n(0,r=!1)},()=>{n(5,f=!1),n(4,d=!0),m.addEventListener("dataavailable",(function(e){v.push(e.data)})),m.start(100)},()=>{n(5,f=!0),n(4,d=!1),m.stop(),p.getTracks().forEach((e=>e.stop())),n(3,s.src=n(3,s.srcObject=null,s),s),n(7,l=new Blob(v,{type:m.mimeType}));let e=URL.createObjectURL(l);n(3,s.src=e,s),console.log(v),console.log(l)},()=>{n(15,u=!u)},u,function(e){a=e,n(1,a)},function(e){i=e,n(2,i)},function(e){r=e,n(0,r)},function(e){L[e?"unshift":"push"]((()=>{s=e,n(3,s)}))}]}class We extends ce{constructor(e){super(),re(this,e,Ze,Ge,r,{showRecordPage:0,db:1,showFrameSaved:2})}}function Xe(t){let n,o,s,l,r;return{c(){n=$("h2"),n.textContent="Upload Successful!",o=y(),s=$("button"),s.textContent="Close",k(n,"class","svelte-lhoyl2"),k(s,"class","svelte-lhoyl2")},m(e,c){v(e,n,c),v(e,o,c),v(e,s,c),l||(r=C(s,"click",t[4]),l=!0)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),l=!1,r()}}}function Je(t){let n,o,s,l,r;return{c(){n=$("h2"),n.textContent="Uploading...",o=y(),s=$("div"),l=$("div"),r=$("div"),k(n,"class","svelte-lhoyl2"),k(r,"class","loadingMain svelte-lhoyl2"),k(l,"class","loadingBG svelte-lhoyl2"),k(s,"class","bar svelte-lhoyl2")},m(e,c){v(e,n,c),v(e,o,c),v(e,s,c),m(s,l),m(l,r),t[9](r)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),t[9](null)}}}function Ke(e){let t,n,o,l,r,c,a,i,u,d,f,h,p,b;return o=new he({props:{bgColor:"#E9CA5D"}}),{c(){t=$("h2"),t.textContent="Upload To Frame",n=y(),ne(o.$.fragment),l=y(),r=$("h2"),c=w("#"),a=w(e[3]),i=y(),u=$("button"),u.textContent="Upload",d=y(),f=$("button"),f.textContent="Cancel",k(t,"class","svelte-lhoyl2"),F(r,"color","#BABABA"),k(r,"class","svelte-lhoyl2"),k(u,"class","uploadBTN svelte-lhoyl2"),k(f,"class","svelte-lhoyl2")},m(s,g){v(s,t,g),v(s,n,g),oe(o,s,g),v(s,l,g),v(s,r,g),m(r,c),m(r,a),v(s,i,g),v(s,u,g),v(s,d,g),v(s,f,g),h=!0,p||(b=[C(u,"click",e[5]),C(f,"click",e[4])],p=!0)},p(e,t){(!h||8&t)&&_(a,e[3])},i(e){h||(K(o.$.fragment,e),h=!0)},o(e){Q(o.$.fragment,e),h=!1},d(e){e&&g(t),e&&g(n),se(o,e),e&&g(l),e&&g(r),e&&g(i),e&&g(u),e&&g(d),e&&g(f),p=!1,s(b)}}}function Qe(e){let t,n,o,s,l,r,c;const a=[Ke,Je,Xe],i=[];function u(e,t){return e[1]||e[2]?e[1]&&!e[2]?1:!e[1]&&e[2]?2:-1:0}return~(s=u(e))&&(l=i[s]=a[s](e)),{c(){t=$("div"),n=y(),o=$("div"),l&&l.c(),k(t,"class","blackout svelte-lhoyl2"),k(o,"class","bg svelte-lhoyl2")},m(e,l){v(e,t,l),v(e,n,l),v(e,o,l),~s&&i[s].m(o,null),c=!0},p(e,[t]){let n=s;s=u(e),s===n?~s&&i[s].p(e,t):(l&&(X(),Q(i[n],1,1,(()=>{i[n]=null})),J()),~s?(l=i[s],l?l.p(e,t):(l=i[s]=a[s](e),l.c()),K(l,1),l.m(o,null)):l=null)},i(e){c||(K(l),A((()=>{r||(r=ee(o,pe,{duration:200},!0)),r.run(1)})),c=!0)},o(e){Q(l),r||(r=ee(o,pe,{duration:200},!1)),r.run(0),c=!1},d(e){e&&g(t),e&&g(n),e&&g(o),~s&&i[s].d(),e&&r&&r.end()}}}function Ye(e,t,n){let o;c(e,$e,(e=>n(3,o=e)));let s,{showUpload:l}=t,{videoFileToUpload:r}=t,{db:a}=t,i=!1,u=!1;return e.$set=e=>{"showUpload"in e&&n(6,l=e.showUpload),"videoFileToUpload"in e&&n(7,r=e.videoFileToUpload),"db"in e&&n(8,a=e.db)},[s,i,u,o,()=>{n(6,l=!1)},async()=>{n(1,i=!0);let e=new FormData,t=new File([r],"frameVideo.mjpeg");e.append("data",t);const l=new XMLHttpRequest;l.open("POST","/upload",!0),l.upload.addEventListener("progress",(e=>{console.log(e),e.lengthComputable&&(console.log("upload progress:",e.loaded/e.total*100),n(0,s.style.width=e.loaded/e.total*100+"%",s))})),l.onreadystatechange=function(){if(4==l.readyState&&200==l.status){console.log(l.statusText);a.transaction(["frames"],"readwrite").objectStore("frames").delete(o).onsuccess=e=>{},n(2,u=!0),n(1,i=!1)}},l.send(e)},l,r,a,function(e){L[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class et extends ce{constructor(e){super(),re(this,e,Ye,Qe,r,{showUpload:6,videoFileToUpload:7,db:8})}}function tt(e){let t,n,o,s,l;function r(t){e[16](t)}function c(t){e[17](t)}function a(t){e[18](t)}let i={};return void 0!==e[1]&&(i.showRecordPage=e[1]),void 0!==e[6]&&(i.db=e[6]),void 0!==e[0]&&(i.showFrameSaved=e[0]),t=new We({props:i}),L.push((()=>te(t,"showRecordPage",r))),L.push((()=>te(t,"db",c))),L.push((()=>te(t,"showFrameSaved",a))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),l=!0},p(e,l){const r={};!n&&2&l&&(n=!0,r.showRecordPage=e[1],O((()=>n=!1))),!o&&64&l&&(o=!0,r.db=e[6],O((()=>o=!1))),!s&&1&l&&(s=!0,r.showFrameSaved=e[0],O((()=>s=!1))),t.$set(r)},i(e){l||(K(t.$.fragment,e),l=!0)},o(e){Q(t.$.fragment,e),l=!1},d(e){se(t,e)}}}function nt(e){let t,n,o,s,l,r,c,a,i;const u=[lt,st,ot],d=[];function f(e,t){return e[3]?0:e[0]?1:e[2]?2:-1}function h(t){e[14](t)}function p(t){e[15](t)}~(t=f(e))&&(n=d[t]=u[t](e)),s=new ue({});let m={};return void 0!==e[4]&&(m.FramesData=e[4]),void 0!==e[1]&&(m.showRecordPage=e[1]),r=new Ue({props:m}),L.push((()=>te(r,"FramesData",h))),L.push((()=>te(r,"showRecordPage",p))),{c(){n&&n.c(),o=y(),ne(s.$.fragment),l=y(),ne(r.$.fragment)},m(e,n){~t&&d[t].m(e,n),v(e,o,n),oe(s,e,n),v(e,l,n),oe(r,e,n),i=!0},p(e,s){let l=t;t=f(e),t===l?~t&&d[t].p(e,s):(n&&(X(),Q(d[l],1,1,(()=>{d[l]=null})),J()),~t?(n=d[t],n?n.p(e,s):(n=d[t]=u[t](e),n.c()),K(n,1),n.m(o.parentNode,o)):n=null);const i={};!c&&16&s&&(c=!0,i.FramesData=e[4],O((()=>c=!1))),!a&&2&s&&(a=!0,i.showRecordPage=e[1],O((()=>a=!1))),r.$set(i)},i(e){i||(K(n),K(s.$.fragment,e),K(r.$.fragment,e),i=!0)},o(e){Q(n),Q(s.$.fragment,e),Q(r.$.fragment,e),i=!1},d(e){~t&&d[t].d(e),e&&g(o),se(s,e),e&&g(l),se(r,e)}}}function ot(e){let t,n,o,s,l;function r(t){e[11](t)}function c(t){e[12](t)}function a(t){e[13](t)}let i={};return void 0!==e[2]&&(i.showUpload=e[2]),void 0!==e[5]&&(i.videoFileToUpload=e[5]),void 0!==e[6]&&(i.db=e[6]),t=new et({props:i}),L.push((()=>te(t,"showUpload",r))),L.push((()=>te(t,"videoFileToUpload",c))),L.push((()=>te(t,"db",a))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),l=!0},p(e,l){const r={};!n&&4&l&&(n=!0,r.showUpload=e[2],O((()=>n=!1))),!o&&32&l&&(o=!0,r.videoFileToUpload=e[5],O((()=>o=!1))),!s&&64&l&&(s=!0,r.db=e[6],O((()=>s=!1))),t.$set(r)},i(e){l||(K(t.$.fragment,e),l=!0)},o(e){Q(t.$.fragment,e),l=!1},d(e){se(t,e)}}}function st(e){let t,n,o;function s(t){e[10](t)}let l={};return void 0!==e[0]&&(l.showFrameSaved=e[0]),t=new _e({props:l}),L.push((()=>te(t,"showFrameSaved",s))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),o=!0},p(e,o){const s={};!n&&1&o&&(n=!0,s.showFrameSaved=e[0],O((()=>n=!1))),t.$set(s)},i(e){o||(K(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){se(t,e)}}}function lt(e){let t,n,o;function s(t){e[9](t)}let l={};return void 0!==e[3]&&(l.showFrameDetected=e[3]),t=new ye({props:l}),L.push((()=>te(t,"showFrameDetected",s))),{c(){ne(t.$.fragment)},m(e,n){oe(t,e,n),o=!0},p(e,o){const s={};!n&&8&o&&(n=!0,s.showFrameDetected=e[3],O((()=>n=!1))),t.$set(s)},i(e){o||(K(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){se(t,e)}}}function rt(e){let t,n,o,s;const l=[nt,tt],r=[];function c(e,t){return e[1]?1:0}return t=c(e),n=r[t]=l[t](e),{c(){n.c(),o=w("")},m(e,n){r[t].m(e,n),v(e,o,n),s=!0},p(e,[s]){let a=t;t=c(e),t===a?r[t].p(e,s):(X(),Q(r[a],1,1,(()=>{r[a]=null})),J(),n=r[t],n?n.p(e,s):(n=r[t]=l[t](e),n.c()),K(n,1),n.m(o.parentNode,o))},i(e){s||(K(n),s=!0)},o(e){Q(n),s=!1},d(e){r[t].d(e),e&&g(o)}}}function ct(e,t,n){let o;c(e,$e,(e=>n(22,o=e)));let s,l=!0,r=!1,a=!1,i=!1,u=!1,d=!1,f=[],h=!1,p=!1;const m=e=>{if(console.log(e),"OFFLINE"==e)return!1;if(f.forEach((t=>{e==t.id&&(l=!1)})),l){const t=g.transaction(["frames"],"readwrite");t.oncomplete=e=>{console.log("Added new frame!")},t.onerror=e=>{console.log("Error adding new frame")};const o=t.objectStore("frames");let s={id:e,videoFile:null};o.add(s).onsuccess=e=>{},n(3,r=!0),f.push(s),n(4,f)}else f.every((t=>t.id!=e||(console.log(t.id==e),null!=t.videoFile&&(n(7,d=!0),n(5,s=t.videoFile)),!1)))},v=window.indexedDB.open("MyTestDatabase",1);let g;function $(){n(4,f=[]);g.transaction(["frames"]).objectStore("frames").openCursor().onsuccess=e=>{const t=e.target.result;t?(f.push(t.value),n(4,f),t.continue()):(n(8,p=!0),console.log(f),1==h&&(console.log("checking frame in indexdb"),m(o)))}}return v.onerror=e=>{console.error("Why didn't you allow my web app to use IndexedDB?!")},v.onsuccess=e=>{n(6,g=e.target.result),$()},v.onupgradeneeded=e=>{n(6,g=e.target.result),g.createObjectStore("frames",{keyPath:"id"})},e.$.update=()=>{129&e.$.dirty&&0==a&&d&&n(2,u=!0),262&e.$.dirty&&(0!=i&&0!=u||(console.log("Getting Frame ID"),fetch("getFrameID").then((e=>e.json())).then((e=>{console.log("Frame ID: "+e.frameID),$e.set(e.frameID),h=!0,1==p&&m(o)})).catch((e=>{console.log("Could not connect to frame"),$e.set("OFFLINE"),console.log(o)})),1==p&&$()))},[a,i,u,r,f,s,g,d,p,function(e){r=e,n(3,r)},function(e){a=e,n(0,a)},function(e){u=e,n(2,u),n(0,a),n(7,d)},function(e){s=e,n(5,s)},function(e){g=e,n(6,g)},function(e){f=e,n(4,f)},function(e){i=e,n(1,i)},function(e){i=e,n(1,i)},function(e){g=e,n(6,g)},function(e){a=e,n(0,a)}]}return new class extends ce{constructor(e){super(),re(this,e,ct,rt,r,{})}}({target:document.body})}();</script></body></html>