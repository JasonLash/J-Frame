<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>FRAME</title><meta name=description content="Frame App"><meta name=theme-color content=#2F3BA2><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=apple-mobile-web-app-title content="Svelte PWA"><style>* {padding: 0;margin: 0;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;font-family: '-apple-system', 'Roboto', sans-serif;}html, body {max-width: 100%;overflow: hidden;background: #323232;}body {font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;}h3{color: #fff;text-align: center;}h2{color: #fff;text-align: center;}button{animation : none;animation-delay : 0;animation-direction : normal;animation-duration : 0;animation-fill-mode : none;animation-iteration-count : 1;animation-name : none;animation-play-state : running;animation-timing-function : ease;backface-visibility : visible;background : 0;background-attachment : scroll;background-clip : border-box;background-color : transparent;background-image : none;background-origin : padding-box;background-position : 0 0;background-position-x : 0;background-position-y : 0;background-repeat : repeat;background-size : auto auto;border : 0;border-style : none;border-width : medium;border-color : inherit;border-bottom : 0;border-bottom-color : inherit;border-bottom-left-radius : 0;border-bottom-right-radius : 0;border-bottom-style : none;border-bottom-width : medium;border-collapse : separate;border-image : none;border-left : 0;border-left-color : inherit;border-left-style : none;border-left-width : medium;border-radius : 0;border-right : 0;border-right-color : inherit;border-right-style : none;border-right-width : medium;border-spacing : 0;border-top : 0;border-top-color : inherit;border-top-left-radius : 0;border-top-right-radius : 0;border-top-style : none;border-top-width : medium;bottom : auto;box-shadow : none;box-sizing : content-box;caption-side : top;clear : none;clip : auto;color : inherit;columns : auto;column-count : auto;column-fill : balance;column-gap : normal;column-rule : medium none currentColor;column-rule-color : currentColor;column-rule-style : none;column-rule-width : none;column-span : 1;column-width : auto;content : normal;counter-increment : none;counter-reset : none;cursor : auto;direction : ltr;display : inline;empty-cells : show;float : none;font : normal;font-family : inherit;font-size : medium;font-style : normal;font-variant : normal;font-weight : normal;height : auto;hyphens : none;left : auto;letter-spacing : normal;line-height : normal;list-style : none;list-style-image : none;list-style-position : outside;list-style-type : disc;margin : 0;margin-bottom : 0;margin-left : 0;margin-right : 0;margin-top : 0;max-height : none;max-width : none;min-height : 0;min-width : 0;opacity : 1;orphans : 0;outline : 0;outline-color : invert;outline-style : none;outline-width : medium;overflow : visible;overflow-x : visible;overflow-y : visible;padding : 0;padding-bottom : 0;padding-left : 0;padding-right : 0;padding-top : 0;page-break-after : auto;page-break-before : auto;page-break-inside : auto;perspective : none;perspective-origin : 50% 50%;position : static;quotes : '\201C' '\201D' '\2018' '\2019';right : auto;tab-size : 8;table-layout : auto;text-align : inherit;text-align-last : auto;text-decoration : none;text-decoration-color : inherit;text-decoration-line : none;text-decoration-style : solid;text-indent : 0;text-shadow : none;text-transform : none;top : auto;transform : none;transform-style : flat;transition : none;transition-delay : 0s;transition-duration : 0s;transition-property : none;transition-timing-function : ease;unicode-bidi : normal;vertical-align : baseline;visibility : visible;white-space : normal;widows : 0;width : auto;word-spacing : normal;z-index : auto;}button{background: #939393;color: #FFFFFF;border: 4px solid #3C3C3C;border-radius: 12px;width: 90%;text-align: center;padding: .4em 0em;font-size: 1.1em;font-weight: 550;margin: auto;}</style><style>h1.svelte-1u93ogr{text-align:center;color:#fff;padding-top:1rem}.center.svelte-1u93ogr{padding-top:1em;display:flex;justify-content:center}.bg.svelte-1ebz6b2{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:50%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-1ebz6b2{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-1ebz6b2{text-align:center;color:#fff;padding-top:0.5em}button.svelte-1ebz6b2{margin:1em auto}.bg.svelte-ojdnk7{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-ojdnk7{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-ojdnk7{text-align:center;color:#fff;padding-top:0.5em;margin:0.5em 0}button.svelte-ojdnk7{margin:1em auto}.vidHolder.svelte-1x1z2vq{margin:auto;display:flex;justify-content:center}.recordBtn.svelte-1x1z2vq{position:absolute;z-index:4;margin-top:25rem;width:80%;background:#97504B}.redBtn.svelte-1x1z2vq{margin-top:2rem;background:#97504B}.saveBtn.svelte-1x1z2vq{margin-top:2rem;background:#E9CA5D}.center.svelte-1x1z2vq{display:flex;flex-direction:column;justify-content:center}h4.svelte-1x1z2vq{color:#C7C7C7;text-align:center;margin:0.35rem auto}h3.svelte-1x1z2vq{margin:0.25em auto}.backBtn.svelte-1x1z2vq{width:30%}h3.svelte-1x1z2vq{color:#fff;text-align:center}.videoMask.svelte-1x1z2vq{border-radius:10px}video.svelte-1x1z2vq{width:22rem;height:30rem;margin:auto}.frameCollection.svelte-p5k6wu{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around}.bar.svelte-lhoyl2{display:flex;justify-content:center;flex-direction:column;width:100%}.loadingBG.svelte-lhoyl2{width:90%;background:#757575;margin:1rem auto;border-radius:5px}.loadingMain.svelte-lhoyl2{height:30px;background:#E9CA5D;border-radius:5px}.bg.svelte-lhoyl2{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:10%;display:flex;flex-direction:column;justify-content:center}.blackout.svelte-lhoyl2{position:absolute;background:#000000aa;width:100%;height:100%}h2.svelte-lhoyl2{text-align:center;color:#fff;padding-top:0.5em}button.svelte-lhoyl2{margin:0.75em auto}.uploadBTN.svelte-lhoyl2{background:#E9CA5D;color:#222222}.big.svelte-1jpy78m{border:17px solid #000000;border-radius:28px;width:12em;height:16em}.small.svelte-1jpy78m{border:13px solid #000000;border-radius:15px;width:8em;height:10em;margin:0 auto;margin-top:1em}.center.svelte-1jpy78m{display:flex;justify-content:center;padding-top:1em
    }.btnObj.svelte-17zyqyg{background:#939393;border:4px solid #3C3C3C;width:45%}.btnCollection.svelte-17zyqyg{display:flex;flex-direction:row;justify-content:center}h3.svelte-17zyqyg{margin:0.25em auto}.topAndBottom.svelte-8jmvgp{margin:1rem auto;display:flex;justify-content:center;flex-direction:column;width:90%}h4.svelte-8jmvgp{color:#C7C7C7;text-align:center;margin:0.35rem auto}.bg.svelte-8jmvgp{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);background:#222222;border:7px solid #757575;border-radius:23px;width:90%;min-height:10%;display:flex;flex-direction:column;justify-content:space-between;z-index:6}.blackout.svelte-8jmvgp{z-index:5;position:absolute;background:#000000aa;width:100vw;height:100vh}.btnObj.svelte-1osvx2o{background:#939393;border:4px solid #3C3C3C;width:30%}.btnCollection.svelte-1osvx2o{display:flex;flex-direction:row;justify-content:center}h3.svelte-1osvx2o{margin:0.25em auto}.outline.svelte-1p158fv{background:#5D6AE8;border-radius:14px;width:6.5em;height:8.5em;display:flex;justify-content:center}.big.svelte-1p158fv{margin:auto;background:#BEBEBE;border:10px solid #000000;border-radius:14px;width:6em;height:8em}.small.svelte-1p158fv{border:7px solid #000000;border-radius:9px;width:4em;height:5em;margin:0 auto;margin-top:0.5em}.frameObject.svelte-1p158fv{margin:1em auto}h3.svelte-1p158fv{text-align:center;color:#bbbbbb;letter-spacing:.05rem;margin-top:0.3em}</style></head><body><script>var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function s(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,n,o){t.$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const a="undefined"!=typeof window;let i=a?()=>window.performance.now():()=>Date.now(),u=a?e=>requestAnimationFrame(e):e;const d=new Set;function f(e){d.forEach((t=>{t.c(e)||(d.delete(t),t.f())})),0!==d.size&&u(f)}let p=!1;function v(e,t,n,o){for(;e<t;){const s=e+(t-e>>1);n(s)<=o?e=s+1:t=s}return e}function h(e,t){p?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),o=new Int32Array(t.length);n[0]=-1;let s=0;for(let e=0;e<t.length;e++){const r=v(1,s+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;o[e]=n[r]+1;const l=r+1;n[l]=e,s=Math.max(l,s)}const r=[],l=[];let c=t.length-1;for(let e=n[s]+1;0!=e;e=o[e-1]){for(r.push(t[e-1]);c>=e;c--)l.push(t[c]);c--}for(;c>=0;c--)l.push(t[c]);r.reverse(),l.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<l.length;t++){for(;n<r.length&&l[t].claim_order>=r[n].claim_order;)n++;const o=n<r.length?r[n]:null;e.insertBefore(l[t],o)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function m(e,t,n){p&&!n?h(e,t):t.parentNode===e&&t.nextSibling==n||e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function x(){return $(" ")}function w(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}const _=new Set;let T,k=0;function R(e,t,n,o,s,r,l,c=0){const a=16.666/o;let i="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*r(e);i+=100*e+`%{${l(o,1-o)}}\n`}const u=i+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=e.ownerDocument;_.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(b("style")).sheet),v=f.__svelte_rules||(f.__svelte_rules={});v[d]||(v[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${s}ms 1 both`,k+=1,d}function j(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-o.length;s&&(e.style.animation=o.join(", "),k-=s,k||u((()=>{k||(_.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),_.clear())})))}function D(e){T=e}function S(e){(function(){if(!T)throw new Error("Function called outside component initialization");return T})().$.on_mount.push(e)}const O=[],L=[],E=[],P=[],B=Promise.resolve();let z=!1;function M(e){E.push(e)}function q(e){P.push(e)}let U=!1;const H=new Set;function A(){if(!U){U=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];D(t),N(t.$)}for(D(null),O.length=0;L.length;)L.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];H.has(t)||(H.add(t),t())}E.length=0}while(O.length);for(;P.length;)P.pop()();z=!1,U=!1,H.clear()}}function N(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}let I;function V(e,t,n){e.dispatchEvent(function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(`${t?"intro":"outro"}${n}`))}const G=new Set;let K;function W(){K={r:0,c:[],p:K}}function X(){K.r||s(K.c),K=K.p}function J(e,t){e&&e.i&&(G.delete(e),e.i(t))}function Q(e,t,n,o){if(e&&e.o){if(G.has(e))return;G.add(e),K.c.push((()=>{G.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const Y={duration:0};function Z(n,o,l,c){let a=o(n,l),p=c?0:1,v=null,h=null,m=null;function g(){m&&j(n,m)}function b(e,t){const n=e.b-p;return t*=Math.abs(n),{a:p,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(o){const{delay:r=0,duration:l=300,easing:c=t,tick:$=e,css:x}=a||Y,w={start:i()+r,b:o};o||(w.group=K,K.r+=1),v||h?h=w:(x&&(g(),m=R(n,p,o,l,r,c,x)),o&&$(0,1),v=b(w,l),M((()=>V(n,o,"start"))),function(e){let t;0===d.size&&u(f),new Promise((n=>{d.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(v=b(h,l),h=null,V(n,v.b,"start"),x&&(g(),m=R(n,p,v.b,v.duration,0,c,a.css))),v)if(e>=v.end)$(p=v.b,1-p),V(n,v.b,"end"),h||(v.b?g():--v.group.r||s(v.group.c)),v=null;else if(e>=v.start){const t=e-v.start;p=v.a+v.d*c(t/v.duration),$(p,1-p)}return!(!v&&!h)})))}return{run(e){r(a)?(I||(I=Promise.resolve(),I.then((()=>{I=null}))),I).then((()=>{a=a(),$(e)})):$(e)},end(){g(),v=h=null}}}function ee(e,t,n){const o=e.$.props[t];void 0!==o&&(e.$.bound[o]=n,n(e.$.ctx[o]))}function te(e){e&&e.c()}function ne(e,t,o,l){const{fragment:c,on_mount:a,on_destroy:i,after_update:u}=e.$;c&&c.m(t,o),l||M((()=>{const t=a.map(n).filter(r);i?i.push(...t):s(t),e.$.on_mount=[]})),u.forEach(M)}function oe(e,t){const n=e.$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function se(e,t){-1===e.$.dirty[0]&&(O.push(e),z||(z=!0,B.then(A)),e.$.dirty.fill(0)),e.$.dirty[t/31|0]|=1<<t%31}function re(t,n,r,l,c,a,i=[-1]){const u=T;D(t);const d=t.$={fragment:null,ctx:null,props:a,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$.context:n.context||[]),callbacks:o(),dirty:i,skip_bound:!1};let f=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&c(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),f&&se(t,e)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){p=!0;const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&J(t.$.fragment),ne(t,n.target,n.anchor,n.customElement),p=!1,A()}D(u)}class le{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$.callbacks[e]||(this.$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$set&&(t=e,0!==Object.keys(t).length)&&(this.$.skip_bound=!0,this.$set(e),this.$.skip_bound=!1)}}function ce(t){let n,o,s,r,l,c;return{c(){n=b("h1"),n.textContent="Frames",o=x(),s=b("div"),r=b("button"),r.textContent="Refresh",y(n,"class","svelte-1u93ogr"),y(s,"class","center svelte-1u93ogr")},m(e,a){m(e,n,a),m(e,o,a),m(e,s,a),h(s,r),l||(c=w(r,"click",t[0]),l=!0)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),l=!1,c()}}}function ae(e){return[()=>{window.location.href="/"}]}class ie extends le{constructor(e){super(),re(this,e,ae,ce,l,{})}}function ue(t){let n,o,s;return{c(){n=b("div"),o=b("div"),s=b("div"),y(s,"class","small svelte-1jpy78m"),y(o,"class","big svelte-1jpy78m"),F(o,"background",t[0]),y(n,"class","center svelte-1jpy78m")},m(e,t){m(e,n,t),h(n,o),h(o,s)},p(e,[t]){1&t&&F(o,"background",e[0])},i:e,o:e,d(e){e&&g(n)}}}function de(e,t,n){let{bgColor:o}=t;return e.$set=e=>{"bgColor"in e&&n(0,o=e.bgColor)},[o]}class fe extends le{constructor(e){super(),re(this,e,de,ue,l,{bgColor:0})}}function pe(e,{delay:n=0,duration:o=400,easing:s=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:s,css:e=>"opacity: "+e*r}}const ve=[];function he(t,n=e){let o;const s=[];function r(e){if(l(t,e)&&(t=e,o)){const e=!ve.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),ve.push(n,t)}if(e){for(let e=0;e<ve.length;e+=2)ve[e][0](ve[e+1]);ve.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,c=e){const a=[l,c];return s.push(a),1===s.length&&(o=n(r)||e),l(t),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1),0===s.length&&(o(),o=null)}}}}const me=he("001"),ge=he(void 0);function be(e){let t,n,o,s,r,l,c,a,i,u,d,f,p,v,_,T;return l=new fe({props:{bgColor:"#BEBEBE"}}),{c(){t=b("div"),n=x(),o=b("div"),s=b("h2"),s.textContent="New Frame Detected!",r=x(),te(l.$.fragment),c=x(),a=b("h2"),i=$("#"),u=$(e[0]),d=x(),f=b("button"),f.textContent="Close",y(t,"class","blackout svelte-1ebz6b2"),y(s,"class","svelte-1ebz6b2"),F(a,"color","#BABABA"),y(a,"class","svelte-1ebz6b2"),y(f,"class","svelte-1ebz6b2"),y(o,"class","bg svelte-1ebz6b2")},m(p,g){m(p,t,g),m(p,n,g),m(p,o,g),h(o,s),h(o,r),ne(l,o,null),h(o,c),h(o,a),h(a,i),h(a,u),h(o,d),h(o,f),v=!0,_||(T=w(f,"click",e[1]),_=!0)},p(e,[t]){(!v||1&t)&&C(u,e[0])},i(e){v||(J(l.$.fragment,e),M((()=>{p||(p=Z(o,pe,{duration:200},!0)),p.run(1)})),v=!0)},o(e){Q(l.$.fragment,e),p||(p=Z(o,pe,{duration:200},!1)),p.run(0),v=!1},d(e){e&&g(t),e&&g(n),e&&g(o),oe(l),e&&p&&p.end(),_=!1,T()}}}function $e(e,t,n){let o;c(e,ge,(e=>n(0,o=e)));let{showFrameDetected:s}=t;return e.$set=e=>{"showFrameDetected"in e&&n(2,s=e.showFrameDetected)},[o,()=>{n(2,s=!1)},s]}class xe extends le{constructor(e){super(),re(this,e,$e,be,l,{showFrameDetected:2})}}function we(t){let n,o,s,r,l,c,a,i,u,d;return{c(){n=b("div"),o=x(),s=b("div"),r=b("h2"),r.textContent="Successfully Saved Video!",l=x(),c=b("button"),c.textContent="Close",y(n,"class","blackout svelte-ojdnk7"),y(r,"class","svelte-ojdnk7"),y(c,"class","svelte-ojdnk7"),y(s,"class","bg svelte-ojdnk7")},m(e,a){m(e,n,a),m(e,o,a),m(e,s,a),h(s,r),h(s,l),h(s,c),i=!0,u||(d=w(c,"click",t[0]),u=!0)},p:e,i(e){i||(M((()=>{a||(a=Z(s,pe,{duration:200},!0)),a.run(1)})),i=!0)},o(e){a||(a=Z(s,pe,{duration:200},!1)),a.run(0),i=!1},d(e){e&&g(n),e&&g(o),e&&g(s),e&&a&&a.end(),u=!1,d()}}}function ye(e,t,n){let{showFrameSaved:o}=t;return e.$set=e=>{"showFrameSaved"in e&&n(1,o=e.showFrameSaved)},[()=>{n(1,o=!1)},o]}class Ce extends le{constructor(e){super(),re(this,e,ye,we,l,{showFrameSaved:1})}}function Fe(e){let t;return{c(){t=b("div"),t.innerHTML='<div class="small svelte-1p158fv"></div>',y(t,"class","big svelte-1p158fv")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function _e(e){let t;return{c(){t=b("div"),t.innerHTML='<div class="small svelte-1p158fv"></div>',y(t,"class","big svelte-1p158fv"),F(t,"background","#E9CA5D")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Te(e){let t;return{c(){t=b("div"),t.innerHTML='<div class="big svelte-1p158fv" style="background: #E9CA5D;"><div class="small svelte-1p158fv"></div></div>',y(t,"class","outline svelte-1p158fv")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function ke(e){let t;return{c(){t=b("div"),t.innerHTML='<div class="big svelte-1p158fv"><div class="small svelte-1p158fv"></div></div>',y(t,"class","outline svelte-1p158fv")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Re(t){let n,o,s,r,l,c,a,i=t[0].id+"";function u(e,t){return e[0].id==e[1]&&null==e[0].videoFile?ke:e[0].id==e[1]&&null!=e[0].videoFile?Te:null!=e[0].videoFile?_e:Fe}let d=u(t),f=d(t);return{c(){n=b("div"),f.c(),o=x(),s=b("h3"),r=$("#"),l=$(i),y(s,"class","svelte-1p158fv"),y(n,"class","frameObject svelte-1p158fv")},m(e,i){m(e,n,i),f.m(n,null),h(n,o),h(n,s),h(s,r),h(s,l),c||(a=w(n,"click",t[2]),c=!0)},p(e,[t]){d!==(d=u(e))&&(f.d(1),f=d(e),f&&(f.c(),f.m(n,o))),1&t&&i!==(i=e[0].id+"")&&C(l,i)},i:e,o:e,d(e){e&&g(n),f.d(),c=!1,a()}}}function je(e,t,n){let o;c(e,ge,(e=>n(1,o=e)));let{frameData:s}=t,{showRecordPage:r}=t;return e.$set=e=>{"frameData"in e&&n(0,s=e.frameData),"showRecordPage"in e&&n(3,r=e.showRecordPage)},[s,o,()=>{me.set(s.id),n(3,r=!0),console.log(s)},r]}class De extends le{constructor(e){super(),re(this,e,je,Re,l,{frameData:0,showRecordPage:3})}}function Se(e,t,n){const o=e.slice();return o[3]=t[n],o}function Oe(e){let t,n,o;function s(t){e[2](t)}let r={frameData:e[3]};return void 0!==e[0]&&(r.showRecordPage=e[0]),t=new De({props:r}),L.push((()=>ee(t,"showRecordPage",s))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),o=!0},p(e,o){const s={};2&o&&(s.frameData=e[3]),!n&&1&o&&(n=!0,s.showRecordPage=e[0],q((()=>n=!1))),t.$set(s)},i(e){o||(J(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){oe(t,e)}}}function Le(e){let t,n,o=e[1],s=[];for(let t=0;t<o.length;t+=1)s[t]=Oe(Se(e,o,t));const r=e=>Q(s[e],1,1,(()=>{s[e]=null}));return{c(){t=b("div");for(let e=0;e<s.length;e+=1)s[e].c();y(t,"class","frameCollection svelte-p5k6wu")},m(e,o){m(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){if(3&n){let l;for(o=e[1],l=0;l<o.length;l+=1){const r=Se(e,o,l);s[l]?(s[l].p(r,n),J(s[l],1)):(s[l]=Oe(r),s[l].c(),J(s[l],1),s[l].m(t,null))}for(W(),l=o.length;l<s.length;l+=1)r(l);X()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)J(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Q(s[e]);n=!1},d(e){e&&g(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(s,e)}}}function Ee(e,t,n){let{FramesData:o}=t,{showRecordPage:s}=t;return e.$set=e=>{"FramesData"in e&&n(1,o=e.FramesData),"showRecordPage"in e&&n(0,s=e.showRecordPage)},[s,o,function(e){s=e,n(0,s)}]}class Pe extends le{constructor(e){super(),re(this,e,Ee,Le,l,{FramesData:1,showRecordPage:0})}}function Be(t){let n,o,s,r,l;return{c(){n=b("div"),n.innerHTML='<h3 class="svelte-17zyqyg">Front</h3>',o=x(),s=b("div"),s.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-17zyqyg">Back</h3>',y(n,"class","btnObj svelte-17zyqyg"),F(n,"border-radius","12px 0px 0px 12px"),y(s,"class","btnObj svelte-17zyqyg"),F(s,"border-radius","0px 12px 12px 0px"),F(s,"background","#3C3C3C")},m(e,c){m(e,n,c),m(e,o,c),m(e,s,c),r||(l=w(n,"click",t[3]),r=!0)},p:e,d(e){e&&g(n),e&&g(o),e&&g(s),r=!1,l()}}}function ze(t){let n,o,s,r,l;return{c(){n=b("div"),n.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-17zyqyg">Front</h3>',o=x(),s=b("div"),s.innerHTML='<h3 class="svelte-17zyqyg">Back</h3>',y(n,"class","btnObj svelte-17zyqyg"),F(n,"border-radius","12px 0px 0px 12px"),F(n,"background","#3C3C3C"),y(s,"class","btnObj svelte-17zyqyg"),F(s,"border-radius","0px 12px 12px 0px")},m(e,c){m(e,n,c),m(e,o,c),m(e,s,c),r||(l=w(s,"click",t[2]),r=!0)},p:e,d(e){e&&g(n),e&&g(o),e&&g(s),r=!1,l()}}}function Me(t){let n;function o(e,t){return"FRONT"==e[0]?ze:Be}let s=o(t),r=s(t);return{c(){n=b("div"),r.c(),y(n,"class","btnCollection svelte-17zyqyg")},m(e,t){m(e,n,t),r.m(n,null)},p(e,[t]){s===(s=o(e))&&r?r.p(e,t):(r.d(1),r=s(e),r&&(r.c(),r.m(n,null)))},i:e,o:e,d(e){e&&g(n),r.d()}}}function qe(e,t,n){let{currentCameraType:o}=t;const s=e=>{n(0,o=e)};return e.$set=e=>{"currentCameraType"in e&&n(0,o=e.currentCameraType)},[o,s,()=>s("BACK"),()=>s("FRONT")]}class Ue extends le{constructor(e){super(),re(this,e,qe,Me,l,{currentCameraType:0})}}function He(t){let n,o,r,l,c,a,i;return{c(){n=b("div"),n.innerHTML='<h3 class="svelte-1osvx2o">5 s</h3>',o=x(),r=b("div"),r.innerHTML='<h3 class="svelte-1osvx2o">10 s</h3>',l=x(),c=b("div"),c.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">15 s</h3>',y(n,"class","btnObj svelte-1osvx2o"),F(n,"border-radius","12px 0px 0px 12px"),y(r,"class","btnObj svelte-1osvx2o"),y(c,"class","btnObj svelte-1osvx2o"),F(c,"border-radius","0px 12px 12px 0px"),F(c,"background","#3C3C3C")},m(e,s){m(e,n,s),m(e,o,s),m(e,r,s),m(e,l,s),m(e,c,s),a||(i=[w(n,"click",t[6]),w(r,"click",t[7])],a=!0)},p:e,d(e){e&&g(n),e&&g(o),e&&g(r),e&&g(l),e&&g(c),a=!1,s(i)}}}function Ae(t){let n,o,r,l,c,a,i;return{c(){n=b("div"),n.innerHTML='<h3 class="svelte-1osvx2o">5 s</h3>',o=x(),r=b("div"),r.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">10 s</h3>',l=x(),c=b("div"),c.innerHTML='<h3 class="svelte-1osvx2o">15 s</h3>',y(n,"class","btnObj svelte-1osvx2o"),F(n,"border-radius","12px 0px 0px 12px"),y(r,"class","btnObj svelte-1osvx2o"),F(r,"background","#3C3C3C"),y(c,"class","btnObj svelte-1osvx2o"),F(c,"border-radius","0px 12px 12px 0px")},m(e,s){m(e,n,s),m(e,o,s),m(e,r,s),m(e,l,s),m(e,c,s),a||(i=[w(n,"click",t[4]),w(c,"click",t[5])],a=!0)},p:e,d(e){e&&g(n),e&&g(o),e&&g(r),e&&g(l),e&&g(c),a=!1,s(i)}}}function Ne(t){let n,o,r,l,c,a,i;return{c(){n=b("div"),n.innerHTML='<h3 style="color:#C7C7C7;" class="svelte-1osvx2o">5 s</h3>',o=x(),r=b("div"),r.innerHTML='<h3 class="svelte-1osvx2o">10 s</h3>',l=x(),c=b("div"),c.innerHTML='<h3 class="svelte-1osvx2o">15 s</h3>',y(n,"class","btnObj sBtnObj svelte-1osvx2o"),F(n,"border-radius","12px 0px 0px 12px"),F(n,"background","#3C3C3C"),y(r,"class","btnObj sBtnObj svelte-1osvx2o"),y(c,"class","btnObj sBtnObj svelte-1osvx2o"),F(c,"border-radius","0px 12px 12px 0px")},m(e,s){m(e,n,s),m(e,o,s),m(e,r,s),m(e,l,s),m(e,c,s),a||(i=[w(r,"click",t[2]),w(c,"click",t[3])],a=!0)},p:e,d(e){e&&g(n),e&&g(o),e&&g(r),e&&g(l),e&&g(c),a=!1,s(i)}}}function Ie(t){let n;function o(e,t){return 5==e[0]?Ne:10==e[0]?Ae:He}let s=o(t),r=s(t);return{c(){n=b("div"),r.c(),y(n,"class","btnCollection svelte-1osvx2o")},m(e,t){m(e,n,t),r.m(n,null)},p(e,[t]){s===(s=o(e))&&r?r.p(e,t):(r.d(1),r=s(e),r&&(r.c(),r.m(n,null)))},i:e,o:e,d(e){e&&g(n),r.d()}}}function Ve(e,t,n){let{currentTime:o}=t;const s=e=>{n(0,o=e)};return e.$set=e=>{"currentTime"in e&&n(0,o=e.currentTime)},[o,s,()=>s(10),()=>s(15),()=>s(5),()=>s(15),()=>s(5),()=>s(10)]}class Ge extends le{constructor(e){super(),re(this,e,Ve,Ie,l,{currentTime:0})}}function Ke(t){let n,o,s,r,l,c,a,i,u;return{c(){n=b("div"),o=x(),s=b("div"),r=b("div"),l=b("h2"),l.textContent="Saving Video",c=x(),a=b("h4"),a.textContent="This might take a bit",i=x(),u=b("video"),y(n,"class","blackout svelte-8jmvgp"),y(a,"class","svelte-8jmvgp"),y(r,"class","topAndBottom svelte-8jmvgp"),y(s,"class","bg svelte-8jmvgp")},m(e,d){m(e,n,d),m(e,o,d),m(e,s,d),h(s,r),h(r,l),h(r,c),h(r,a),h(r,i),h(r,u),t[5](u)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),t[5](null)}}}function We(e,t,n){let o;c(e,me,(e=>n(7,o=e)));let s,{blob:r}=t,{db:l}=t,{showFrameSaved:a}=t,{showRecordPage:i}=t;S((async()=>{u(r)}));const u=e=>{let t,r=URL.createObjectURL(e),c=document.createElement("canvas"),u=c.getContext("2d"),d=0;c.width=240,c.height=320,n(0,s.src=r,s),n(0,s.autoplay=!0,s),n(0,s.playsInline=!0,s),n(0,s.muted=!0,s),n(0,s.controls=!1,s),s.load();let f=[],p=0;s.addEventListener("seeked",(e=>{d>t?(e=>{let t=new Blob(e,{type:"video/mjpeg"});URL.createObjectURL(t);const s=l.transaction(["frames"],"readwrite").objectStore("frames"),r=s.get(o);r.onerror=e=>{console.log("Error uploading video to indexedDB")},r.onsuccess=e=>{const o=e.target.result;o.videoFile=t;const r=s.put(o);r.onerror=e=>{n(1,a=!1),n(2,i=!1),alert("error saving video"),console.log("Data ERROR while loged")},r.onsuccess=e=>{n(1,a=!0),n(2,i=!1),console.log("Data loged")}}})(f):setTimeout((()=>{n(0,s.currentTime=d,s),p%3==0&&(u.drawImage(s,0,0,240,320),c.toBlob((function(e){f.push(e)}),"image/jpeg",.5)),p++,console.log(d),d+=.03333333333333333}),"100")})),s.addEventListener("loadeddata",(function(){t=s.duration,console.log(t),n(0,s.currentTime=d,s)})),s.addEventListener("durationchange",(function(){t=s.duration}))};return e.$set=e=>{"blob"in e&&n(3,r=e.blob),"db"in e&&n(4,l=e.db),"showFrameSaved"in e&&n(1,a=e.showFrameSaved),"showRecordPage"in e&&n(2,i=e.showRecordPage)},[s,a,i,r,l,function(e){L[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Xe extends le{constructor(e){super(),re(this,e,We,Ke,l,{blob:3,db:4,showFrameSaved:1,showRecordPage:2})}}function Je(e){let t,n,o,s,r;function l(t){e[16](t)}function c(t){e[17](t)}function a(t){e[18](t)}let i={blob:e[9]};return void 0!==e[1]&&(i.db=e[1]),void 0!==e[2]&&(i.showFrameSaved=e[2]),void 0!==e[0]&&(i.showRecordPage=e[0]),t=new Xe({props:i}),L.push((()=>ee(t,"db",l))),L.push((()=>ee(t,"showFrameSaved",c))),L.push((()=>ee(t,"showRecordPage",a))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),r=!0},p(e,r){const l={};512&r&&(l.blob=e[9]),!n&&2&r&&(n=!0,l.db=e[1],q((()=>n=!1))),!o&&4&r&&(o=!0,l.showFrameSaved=e[2],q((()=>o=!1))),!s&&1&r&&(s=!0,l.showRecordPage=e[0],q((()=>s=!1))),t.$set(l)},i(e){r||(J(t.$.fragment,e),r=!0)},o(e){Q(t.$.fragment,e),r=!1},d(e){oe(t,e)}}}function Qe(t){let n,o,s;return{c(){n=b("button"),n.innerHTML='<h3 class="svelte-1x1z2vq">Record</h3>',y(n,"class","recordBtn svelte-1x1z2vq")},m(e,r){m(e,n,r),o||(s=w(n,"click",t[19]),o=!0)},p:e,d(e){e&&g(n),o=!1,s()}}}function Ye(t){let n,o,r,l,c;return{c(){n=b("button"),n.innerHTML='<h3 class="svelte-1x1z2vq">Save Video</h3>',o=x(),r=b("button"),r.innerHTML='<h3 class="svelte-1x1z2vq">Delete Video</h3>',y(n,"class","saveBtn svelte-1x1z2vq"),y(r,"class","redBtn svelte-1x1z2vq")},m(e,s){m(e,n,s),m(e,o,s),m(e,r,s),l||(c=[w(n,"click",t[13]),w(r,"click",t[12])],l=!0)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(r),l=!1,s(c)}}}function Ze(t){let n;return{c(){n=b("h3"),n.textContent="Recording",y(n,"class","svelte-1x1z2vq")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}function et(e){let t,n,o,s,r,l,c,a,i,u;function d(t){e[21](t)}let f={};function p(t){e[22](t)}void 0!==e[3]&&(f.currentCameraType=e[3]),o=new Ue({props:f}),L.push((()=>ee(o,"currentCameraType",d)));let v={};return void 0!==e[4]&&(v.currentTime=e[4]),a=new Ge({props:v}),L.push((()=>ee(a,"currentTime",p))),{c(){t=b("h4"),t.textContent="Camera type",n=x(),te(o.$.fragment),r=x(),l=b("h4"),l.textContent="Record Time",c=x(),te(a.$.fragment),y(t,"class","svelte-1x1z2vq"),F(l,"margin-top","1rem"),y(l,"class","svelte-1x1z2vq")},m(e,s){m(e,t,s),m(e,n,s),ne(o,e,s),m(e,r,s),m(e,l,s),m(e,c,s),ne(a,e,s),u=!0},p(e,t){const n={};!s&&8&t&&(s=!0,n.currentCameraType=e[3],q((()=>s=!1))),o.$set(n);const r={};!i&&16&t&&(i=!0,r.currentTime=e[4],q((()=>i=!1))),a.$set(r)},i(e){u||(J(o.$.fragment,e),J(a.$.fragment,e),u=!0)},o(e){Q(o.$.fragment,e),Q(a.$.fragment,e),u=!1},d(e){e&&g(t),e&&g(n),oe(o,e),e&&g(r),e&&g(l),e&&g(c),oe(a,e)}}}function tt(e){let t,n,o,s,r,l,c,a,i,u,d,f,p,v,F,_,T,k,R=e[8]&&Je(e),j=!e[6]&&!e[7]&&e[10]&&Qe(e);const D=[et,Ze,Ye],S=[];function O(e,t){return e[6]||e[7]?e[6]?1:e[7]?2:-1:0}return~(v=O(e))&&(F=S[v]=D[v](e)),{c(){R&&R.c(),t=x(),n=b("button"),n.textContent="Back",o=x(),s=b("div"),r=b("h3"),l=$("Frame #"),c=$(e[11]),a=x(),i=b("div"),j&&j.c(),u=x(),d=b("div"),f=b("video"),p=x(),F&&F.c(),y(n,"class","backBtn svelte-1x1z2vq"),y(r,"class","svelte-1x1z2vq"),f.muted=!0,f.autoplay=!0,f.playsInline=!0,f.loop=!0,y(f,"class","svelte-1x1z2vq"),y(d,"class","videoMask svelte-1x1z2vq"),y(i,"class","vidHolder svelte-1x1z2vq"),y(s,"class","center svelte-1x1z2vq")},m(g,b){R&&R.m(g,b),m(g,t,b),m(g,n,b),m(g,o,b),m(g,s,b),h(s,r),h(r,l),h(r,c),h(s,a),h(s,i),j&&j.m(i,null),h(i,u),h(i,d),h(d,f),e[20](f),h(s,p),~v&&S[v].m(s,null),_=!0,T||(k=w(n,"click",e[14]),T=!0)},p(e,[n]){e[8]?R?(R.p(e,n),256&n&&J(R,1)):(R=Je(e),R.c(),J(R,1),R.m(t.parentNode,t)):R&&(W(),Q(R,1,1,(()=>{R=null})),X()),(!_||2048&n)&&C(c,e[11]),e[6]||e[7]||!e[10]?j&&(j.d(1),j=null):j?j.p(e,n):(j=Qe(e),j.c(),j.m(i,u));let o=v;v=O(e),v===o?~v&&S[v].p(e,n):(F&&(W(),Q(S[o],1,1,(()=>{S[o]=null})),X()),~v?(F=S[v],F?F.p(e,n):(F=S[v]=D[v](e),F.c()),J(F,1),F.m(s,null)):F=null)},i(e){_||(J(R),J(F),_=!0)},o(e){Q(R),Q(F),_=!1},d(r){R&&R.d(r),r&&g(t),r&&g(n),r&&g(o),r&&g(s),j&&j.d(),e[20](null),~v&&S[v].d(),T=!1,k()}}}function nt(e,t,n){let o;c(e,me,(e=>n(11,o=e)));let s,r,{showRecordPage:l}=t,{db:a}=t,{showFrameSaved:i}=t,u="FRONT",d=5,f=!1,p=!1,v=!1,h=!1;S((async()=>{n(10,h=!1),$().then((e=>{n(10,h=!0)})).catch((function(e){alert("Unable to capture your camera. Please check console logs."),console.error(e)}))}));let m=null,g=null,b=[];async function $(){m="FRONT"==u?await navigator.mediaDevices.getUserMedia({audio:!0,video:{width:320,height:240}}):await navigator.mediaDevices.getUserMedia({audio:!0,video:{width:320,height:240,facingMode:{exact:"environment"}}}),g=new MediaRecorder(m),n(5,s.muted=!0,s),n(5,s.volume=0,s),n(5,s.srcObject=m,s)}const x=e=>{n(7,p=!1),n(6,f=!0),g.addEventListener("dataavailable",(function(e){b.push(e.data)})),g.start(100),setTimeout((function(){w()}),1e3*e)},w=()=>{n(7,p=!0),n(6,f=!1),g.stop(),m.getTracks().forEach((e=>e.stop())),n(5,s.src=n(5,s.srcObject=null,s),s),n(9,r=new Blob(b,{type:g.mimeType}));let e=URL.createObjectURL(r);n(5,s.src=e,s),console.log(b),console.log(r)};return e.$set=e=>{"showRecordPage"in e&&n(0,l=e.showRecordPage),"db"in e&&n(1,a=e.db),"showFrameSaved"in e&&n(2,i=e.showFrameSaved)},e.$.update=()=>{8&e.$.dirty&&("FRONT"!=u&&"BACK"!=u||$())},[l,a,i,u,d,s,f,p,v,r,h,o,()=>{n(7,p=!1),n(6,f=!1),$()},()=>{n(8,v=!0)},()=>{n(0,l=!1)},x,function(e){a=e,n(1,a)},function(e){i=e,n(2,i)},function(e){l=e,n(0,l)},()=>x(d),function(e){L[e?"unshift":"push"]((()=>{s=e,n(5,s)}))},function(e){u=e,n(3,u)},function(e){d=e,n(4,d)}]}class ot extends le{constructor(e){super(),re(this,e,nt,tt,l,{showRecordPage:0,db:1,showFrameSaved:2})}}function st(t){let n,o,s,r,l;return{c(){n=b("h2"),n.textContent="Upload Successful!",o=x(),s=b("button"),s.textContent="Close",y(n,"class","svelte-lhoyl2"),y(s,"class","svelte-lhoyl2")},m(e,c){m(e,n,c),m(e,o,c),m(e,s,c),r||(l=w(s,"click",t[4]),r=!0)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),r=!1,l()}}}function rt(t){let n,o,s,r,l;return{c(){n=b("h2"),n.textContent="Uploading...",o=x(),s=b("div"),r=b("div"),l=b("div"),y(n,"class","svelte-lhoyl2"),y(l,"class","loadingMain svelte-lhoyl2"),y(r,"class","loadingBG svelte-lhoyl2"),y(s,"class","bar svelte-lhoyl2")},m(e,c){m(e,n,c),m(e,o,c),m(e,s,c),h(s,r),h(r,l),t[9](l)},p:e,i:e,o:e,d(e){e&&g(n),e&&g(o),e&&g(s),t[9](null)}}}function lt(e){let t,n,o,r,l,c,a,i,u,d,f,p,v,_;return o=new fe({props:{bgColor:"#E9CA5D"}}),{c(){t=b("h2"),t.textContent="Upload To Frame",n=x(),te(o.$.fragment),r=x(),l=b("h2"),c=$("#"),a=$(e[3]),i=x(),u=b("button"),u.textContent="Upload",d=x(),f=b("button"),f.textContent="Cancel",y(t,"class","svelte-lhoyl2"),F(l,"color","#BABABA"),y(l,"class","svelte-lhoyl2"),y(u,"class","uploadBTN svelte-lhoyl2"),y(f,"class","svelte-lhoyl2")},m(s,g){m(s,t,g),m(s,n,g),ne(o,s,g),m(s,r,g),m(s,l,g),h(l,c),h(l,a),m(s,i,g),m(s,u,g),m(s,d,g),m(s,f,g),p=!0,v||(_=[w(u,"click",e[5]),w(f,"click",e[4])],v=!0)},p(e,t){(!p||8&t)&&C(a,e[3])},i(e){p||(J(o.$.fragment,e),p=!0)},o(e){Q(o.$.fragment,e),p=!1},d(e){e&&g(t),e&&g(n),oe(o,e),e&&g(r),e&&g(l),e&&g(i),e&&g(u),e&&g(d),e&&g(f),v=!1,s(_)}}}function ct(e){let t,n,o,s,r,l,c;const a=[lt,rt,st],i=[];function u(e,t){return e[1]||e[2]?e[1]&&!e[2]?1:!e[1]&&e[2]?2:-1:0}return~(s=u(e))&&(r=i[s]=a[s](e)),{c(){t=b("div"),n=x(),o=b("div"),r&&r.c(),y(t,"class","blackout svelte-lhoyl2"),y(o,"class","bg svelte-lhoyl2")},m(e,r){m(e,t,r),m(e,n,r),m(e,o,r),~s&&i[s].m(o,null),c=!0},p(e,[t]){let n=s;s=u(e),s===n?~s&&i[s].p(e,t):(r&&(W(),Q(i[n],1,1,(()=>{i[n]=null})),X()),~s?(r=i[s],r?r.p(e,t):(r=i[s]=a[s](e),r.c()),J(r,1),r.m(o,null)):r=null)},i(e){c||(J(r),M((()=>{l||(l=Z(o,pe,{duration:200},!0)),l.run(1)})),c=!0)},o(e){Q(r),l||(l=Z(o,pe,{duration:200},!1)),l.run(0),c=!1},d(e){e&&g(t),e&&g(n),e&&g(o),~s&&i[s].d(),e&&l&&l.end()}}}function at(e,t,n){let o;c(e,ge,(e=>n(3,o=e)));let s,{showUpload:r}=t,{videoFileToUpload:l}=t,{db:a}=t,i=!1,u=!1;return e.$set=e=>{"showUpload"in e&&n(6,r=e.showUpload),"videoFileToUpload"in e&&n(7,l=e.videoFileToUpload),"db"in e&&n(8,a=e.db)},[s,i,u,o,()=>{n(6,r=!1)},async()=>{n(1,i=!0);let e=new FormData,t=new File([l],"pleaseworkvideo.mjpeg");e.append("data",t);const r=new XMLHttpRequest;r.open("POST","/upload",!0),r.upload.addEventListener("progress",(e=>{console.log(e),e.lengthComputable&&(console.log("upload progress:",e.loaded/e.total*100),n(0,s.style.width=e.loaded/e.total*100+"%",s))})),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){console.log(r.statusText);a.transaction(["frames"],"readwrite").objectStore("frames").delete(o).onsuccess=e=>{},n(2,u=!0),n(1,i=!1)}},r.send(e)},r,l,a,function(e){L[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class it extends le{constructor(e){super(),re(this,e,at,ct,l,{showUpload:6,videoFileToUpload:7,db:8})}}function ut(e){let t,n,o,s,r;function l(t){e[16](t)}function c(t){e[17](t)}function a(t){e[18](t)}let i={};return void 0!==e[1]&&(i.showRecordPage=e[1]),void 0!==e[6]&&(i.db=e[6]),void 0!==e[0]&&(i.showFrameSaved=e[0]),t=new ot({props:i}),L.push((()=>ee(t,"showRecordPage",l))),L.push((()=>ee(t,"db",c))),L.push((()=>ee(t,"showFrameSaved",a))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),r=!0},p(e,r){const l={};!n&&2&r&&(n=!0,l.showRecordPage=e[1],q((()=>n=!1))),!o&&64&r&&(o=!0,l.db=e[6],q((()=>o=!1))),!s&&1&r&&(s=!0,l.showFrameSaved=e[0],q((()=>s=!1))),t.$set(l)},i(e){r||(J(t.$.fragment,e),r=!0)},o(e){Q(t.$.fragment,e),r=!1},d(e){oe(t,e)}}}function dt(e){let t,n,o,s,r,l,c,a,i;const u=[vt,pt,ft],d=[];function f(e,t){return e[3]?0:e[0]?1:e[2]?2:-1}function p(t){e[14](t)}function v(t){e[15](t)}~(t=f(e))&&(n=d[t]=u[t](e)),s=new ie({});let h={};return void 0!==e[4]&&(h.FramesData=e[4]),void 0!==e[1]&&(h.showRecordPage=e[1]),l=new Pe({props:h}),L.push((()=>ee(l,"FramesData",p))),L.push((()=>ee(l,"showRecordPage",v))),{c(){n&&n.c(),o=x(),te(s.$.fragment),r=x(),te(l.$.fragment)},m(e,n){~t&&d[t].m(e,n),m(e,o,n),ne(s,e,n),m(e,r,n),ne(l,e,n),i=!0},p(e,s){let r=t;t=f(e),t===r?~t&&d[t].p(e,s):(n&&(W(),Q(d[r],1,1,(()=>{d[r]=null})),X()),~t?(n=d[t],n?n.p(e,s):(n=d[t]=u[t](e),n.c()),J(n,1),n.m(o.parentNode,o)):n=null);const i={};!c&&16&s&&(c=!0,i.FramesData=e[4],q((()=>c=!1))),!a&&2&s&&(a=!0,i.showRecordPage=e[1],q((()=>a=!1))),l.$set(i)},i(e){i||(J(n),J(s.$.fragment,e),J(l.$.fragment,e),i=!0)},o(e){Q(n),Q(s.$.fragment,e),Q(l.$.fragment,e),i=!1},d(e){~t&&d[t].d(e),e&&g(o),oe(s,e),e&&g(r),oe(l,e)}}}function ft(e){let t,n,o,s,r;function l(t){e[11](t)}function c(t){e[12](t)}function a(t){e[13](t)}let i={};return void 0!==e[2]&&(i.showUpload=e[2]),void 0!==e[5]&&(i.videoFileToUpload=e[5]),void 0!==e[6]&&(i.db=e[6]),t=new it({props:i}),L.push((()=>ee(t,"showUpload",l))),L.push((()=>ee(t,"videoFileToUpload",c))),L.push((()=>ee(t,"db",a))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),r=!0},p(e,r){const l={};!n&&4&r&&(n=!0,l.showUpload=e[2],q((()=>n=!1))),!o&&32&r&&(o=!0,l.videoFileToUpload=e[5],q((()=>o=!1))),!s&&64&r&&(s=!0,l.db=e[6],q((()=>s=!1))),t.$set(l)},i(e){r||(J(t.$.fragment,e),r=!0)},o(e){Q(t.$.fragment,e),r=!1},d(e){oe(t,e)}}}function pt(e){let t,n,o;function s(t){e[10](t)}let r={};return void 0!==e[0]&&(r.showFrameSaved=e[0]),t=new Ce({props:r}),L.push((()=>ee(t,"showFrameSaved",s))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),o=!0},p(e,o){const s={};!n&&1&o&&(n=!0,s.showFrameSaved=e[0],q((()=>n=!1))),t.$set(s)},i(e){o||(J(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){oe(t,e)}}}function vt(e){let t,n,o;function s(t){e[9](t)}let r={};return void 0!==e[3]&&(r.showFrameDetected=e[3]),t=new xe({props:r}),L.push((()=>ee(t,"showFrameDetected",s))),{c(){te(t.$.fragment)},m(e,n){ne(t,e,n),o=!0},p(e,o){const s={};!n&&8&o&&(n=!0,s.showFrameDetected=e[3],q((()=>n=!1))),t.$set(s)},i(e){o||(J(t.$.fragment,e),o=!0)},o(e){Q(t.$.fragment,e),o=!1},d(e){oe(t,e)}}}function ht(e){let t,n,o,s;const r=[dt,ut],l=[];function c(e,t){return e[1]?1:0}return t=c(e),n=l[t]=r[t](e),{c(){n.c(),o=$("")},m(e,n){l[t].m(e,n),m(e,o,n),s=!0},p(e,[s]){let a=t;t=c(e),t===a?l[t].p(e,s):(W(),Q(l[a],1,1,(()=>{l[a]=null})),X(),n=l[t],n?n.p(e,s):(n=l[t]=r[t](e),n.c()),J(n,1),n.m(o.parentNode,o))},i(e){s||(J(n),s=!0)},o(e){Q(n),s=!1},d(e){l[t].d(e),e&&g(o)}}}function mt(e,t,n){let o;c(e,ge,(e=>n(22,o=e)));let s,r=!0,l=!1,a=!1,i=!1,u=!1,d=!1,f=[],p=!1,v=!1;const h=e=>{if(console.log(e),"OFFLINE"==e)return!1;if(f.forEach((t=>{e==t.id&&(r=!1)})),r){const t=g.transaction(["frames"],"readwrite");t.oncomplete=e=>{console.log("Added new frame!")},t.onerror=e=>{console.log("Error adding new frame")};const o=t.objectStore("frames");let s={id:e,videoFile:null};o.add(s).onsuccess=e=>{},n(3,l=!0),f.push(s),n(4,f)}else f.every((t=>t.id!=e||(console.log(t.id==e),null!=t.videoFile&&(n(7,d=!0),n(5,s=t.videoFile)),!1)))},m=window.indexedDB.open("MyTestDatabase",1);let g;function b(){n(4,f=[]);g.transaction(["frames"]).objectStore("frames").openCursor().onsuccess=e=>{const t=e.target.result;t?(f.push(t.value),n(4,f),t.continue()):(n(8,v=!0),console.log(f),1==p&&(console.log("checking frame in indexdb"),h(o)))}}return m.onerror=e=>{console.error("Why didn't you allow my web app to use IndexedDB?!")},m.onsuccess=e=>{n(6,g=e.target.result),b()},m.onupgradeneeded=e=>{n(6,g=e.target.result),g.createObjectStore("frames",{keyPath:"id"})},e.$.update=()=>{129&e.$.dirty&&0==a&&d&&n(2,u=!0),262&e.$.dirty&&(0!=i&&0!=u||(console.log("Getting Frame ID"),fetch("getFrameID").then((e=>e.json())).then((e=>{console.log("Frame ID: "+e.frameID),ge.set(e.frameID),p=!0,1==v&&h(o)})).catch((e=>{console.log("Could not connect to frame"),ge.set("OFFLINE"),console.log(o)})),1==v&&b()))},[a,i,u,l,f,s,g,d,v,function(e){l=e,n(3,l)},function(e){a=e,n(0,a)},function(e){u=e,n(2,u),n(0,a),n(7,d)},function(e){s=e,n(5,s)},function(e){g=e,n(6,g)},function(e){f=e,n(4,f)},function(e){i=e,n(1,i)},function(e){i=e,n(1,i)},function(e){g=e,n(6,g)},function(e){a=e,n(0,a)}]}return new class extends le{constructor(e){super(),re(this,e,mt,ht,l,{})}}({target:document.body})}();</script></body></html>